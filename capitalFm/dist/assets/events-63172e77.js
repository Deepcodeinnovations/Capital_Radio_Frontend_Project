import{_ as j,u as L,z as S,g as C,h,i as N,c as i,a as e,b as g,k as v,t as c,d as P,q as f,F as b,l as y,v as V,x as $,o as d,p as k}from"./index-3bdb0cb8.js";import{C as F}from"./calendar-151b5e61.js";import{S as q}from"./search-ae1beb38.js";import{C as R}from"./clock-0c8fa3ae.js";import{M as A,U as I}from"./users-50a329ed.js";import{C as Q}from"./chevron-right-d14a69b4.js";import"./createLucideIcon-dde33caf.js";const W={class:"min-h-screen bg-gray-50"},G={class:"bg-gray-900 border-b border-gray-800",style:{"margin-top":"-5rem !important","padding-top":"5rem"}},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},J={class:"text-center max-w-3xl mx-auto"},K={class:"inline-flex items-center justify-center mb-4"},O={class:"grid grid-cols-2 md:grid-cols-4 gap-6 mt-12 max-w-4xl mx-auto"},X={class:"text-center"},Z={class:"text-3xl font-bold text-[#F8CB00]"},ee={class:"text-center"},te={class:"text-3xl font-bold text-[#F8CB00]"},se={class:"text-center"},ae={class:"text-3xl font-bold text-[#F8CB00]"},oe={class:"text-center"},le={class:"text-3xl font-bold text-[#F8CB00] flex items-center justify-center gap-2"},ne={key:0,class:"w-2 h-2 bg-[#F8CB00] rounded-full animate-pulse"},re={class:"bg-white border-b border-gray-200 sticky top-20 z-40"},ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},de={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},ce={class:"flex items-center space-x-4 w-full sm:w-auto"},ue=["onClick"],ge={class:"relative w-full sm:w-64"},ve={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},xe={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},me={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pe=["onClick"],_e={class:"relative h-48 overflow-hidden"},he=["src","alt"],fe={key:0,class:"absolute top-3 right-3"},be={class:"absolute bottom-3 left-3"},ye={class:"p-6"},we={class:"text-lg font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-[#F8CB00] transition-colors"},Ce={class:"text-sm text-gray-600 mb-4 line-clamp-2"},ke={class:"space-y-2"},Fe={class:"flex items-center text-sm text-gray-500"},De={class:"flex items-center text-sm text-gray-500"},Me={key:0,class:"flex items-center text-sm text-gray-500"},Be={class:"line-clamp-1"},ze={class:"mt-4 pt-4 border-t flex items-center justify-between"},Ee={class:"flex items-center space-x-2 text-sm text-gray-500"},Te={key:2,class:"text-center py-16"},Ue={key:3,class:"mt-12 flex justify-center"},Ye={class:"flex items-center space-x-2"},je=["disabled"],Le={class:"flex items-center space-x-1"},Se=["onClick"],Ne=["disabled"],Pe={__name:"events",setup(Ve){const x=L(),z=S(),D=C(!0),m=C("all"),p=C(""),E=[{label:"All Events",value:"all"},{label:"Upcoming",value:"upcoming"},{label:"This Month",value:"this_month"},{label:"Featured",value:"featured"}],r=h(()=>x.getters.events),_=h(()=>{var s;const a=((s=r.value)==null?void 0:s.data)||[],t=new Date,l=t.getMonth(),o=t.getFullYear();return{upcoming_events:a.filter(n=>new Date(n.event_date)>=t).length,this_month:a.filter(n=>{const u=new Date(n.event_date);return u.getMonth()===l&&u.getFullYear()===o}).length,featured_events:a.filter(n=>n.is_featured).length}}),M=h(()=>{var l;let a=((l=r.value)==null?void 0:l.data)||[];const t=new Date;if(m.value==="upcoming")a=a.filter(o=>new Date(o.event_date)>=t);else if(m.value==="this_month"){const o=t.getMonth(),s=t.getFullYear();a=a.filter(n=>{const u=new Date(n.event_date);return u.getMonth()===o&&u.getFullYear()===s})}else m.value==="featured"&&(a=a.filter(o=>o.is_featured));if(p.value){const o=p.value.toLowerCase();a=a.filter(s=>{var n,u;return s.title.toLowerCase().includes(o)||((n=s.description)==null?void 0:n.toLowerCase().includes(o))||((u=s.venue)==null?void 0:u.toLowerCase().includes(o))})}return a}),T=h(()=>{if(!r.value)return[];const a=r.value.current_page,t=r.value.last_page,l=2,o=[],s=[];for(let n=Math.max(2,a-l);n<=Math.min(t-1,a+l);n++)o.push(n);return a-l>2?s.push(1,"..."):s.push(1),s.push(...o),a+l<t-1?s.push("...",t):t>1&&s.push(t),s}),B=a=>{const t=new Date(a.event_date),l=new Date,o=new Date(l.getFullYear(),l.getMonth(),l.getDate());return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()===o.getTime()?{label:"Today",class:"bg-red-600 text-white"}:t>l?{label:"Upcoming",class:"bg-green-600 text-white"}:{label:"Past",class:"bg-gray-600 text-white"}},U=a=>new Date(a).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),Y=a=>{z.push({name:"events_details",params:{id:a.slug}})},w=a=>{if(a<1||a>r.value.last_page||a==="...")return;const t=x.getters.station;t!=null&&t.id&&x.dispatch("fetch_events",{station_id:t.id,page:a})};return N(async()=>{const a=x.getters.station;a!=null&&a.id&&await x.dispatch("fetch_events",{station_id:a.id}),D.value=!1}),(a,t)=>{var l,o;return d(),i("div",W,[e("div",G,[e("div",H,[e("div",J,[e("div",K,[g(v(F),{class:"text-[#F8CB00] mr-2",size:24}),t[3]||(t[3]=e("span",{class:"text-[#F8CB00] font-semibold uppercase tracking-wider text-sm"},"Live Events",-1))]),t[4]||(t[4]=e("h1",{class:"text-4xl sm:text-5xl font-bold text-white mb-4"}," Capital FM Events ",-1)),t[5]||(t[5]=e("p",{class:"text-lg text-gray-300"}," Experience the best live events, concerts, and entertainment in Uganda ",-1))]),e("div",O,[e("div",X,[e("div",Z,c(_.value.upcoming_events),1),t[6]||(t[6]=e("div",{class:"text-sm text-gray-400 mt-1"},"Upcoming",-1))]),e("div",ee,[e("div",te,c(_.value.this_month),1),t[7]||(t[7]=e("div",{class:"text-sm text-gray-400 mt-1"},"This Month",-1))]),e("div",se,[e("div",ae,c(((l=r.value)==null?void 0:l.total)||0),1),t[8]||(t[8]=e("div",{class:"text-sm text-gray-400 mt-1"},"Total Events",-1))]),e("div",oe,[e("div",le,[P(c(_.value.featured_events)+" ",1),_.value.featured_events>0?(d(),i("div",ne)):f("",!0)]),t[9]||(t[9]=e("div",{class:"text-sm text-gray-400 mt-1"},"Featured",-1))])])])]),e("div",re,[e("div",ie,[e("div",de,[e("div",ce,[(d(),i(b,null,y(E,s=>e("button",{key:s.value,onClick:n=>m.value=s.value,class:k(["px-4 py-2 text-sm font-medium rounded-lg transition-all",m.value===s.value?"bg-[#F8CB00] text-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},c(s.label),11,ue)),64))]),e("div",ge,[g(v(q),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),V(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Search events...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#F8CB00] focus:border-transparent"},null,512),[[$,p.value]])])])])]),e("div",ve,[D.value?(d(),i("div",xe,[(d(),i(b,null,y(6,s=>e("div",{key:s,class:"bg-white rounded-xl overflow-hidden shadow-sm"},t[10]||(t[10]=[e("div",{class:"h-48 bg-gray-200 animate-pulse"},null,-1),e("div",{class:"p-6 space-y-3"},[e("div",{class:"h-4 bg-gray-200 rounded animate-pulse"}),e("div",{class:"h-4 bg-gray-200 rounded w-2/3 animate-pulse"})],-1)]))),64))])):M.value.length>0?(d(),i("div",me,[(d(!0),i(b,null,y(M.value,s=>(d(),i("div",{key:s.id,onClick:n=>Y(s),class:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all cursor-pointer group"},[e("div",_e,[e("img",{src:s.featured_image_url||"/api/placeholder/400/300",alt:s.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,he),s.is_featured?(d(),i("div",fe,t[11]||(t[11]=[e("span",{class:"bg-[#F8CB00] text-black px-3 py-1 rounded-full text-xs font-bold uppercase"}," Featured ",-1)]))):f("",!0),e("div",be,[e("span",{class:k([B(s).class,"px-3 py-1 rounded-full text-xs font-bold uppercase"])},c(B(s).label),3)])]),e("div",ye,[e("h3",we,c(s.title),1),e("p",Ce,c(s.excerpt||s.description),1),e("div",ke,[e("div",Fe,[g(v(F),{size:14,class:"mr-2"}),e("span",null,c(U(s.event_date)),1)]),e("div",De,[g(v(R),{size:14,class:"mr-2"}),e("span",null,c(s.event_time),1)]),s.venue?(d(),i("div",Me,[g(v(A),{size:14,class:"mr-2"}),e("span",Be,c(s.venue),1)])):f("",!0)]),e("div",ze,[e("div",Ee,[g(v(I),{size:14}),e("span",null,c(s.attendees_count||0)+" interested",1)]),g(v(Q),{size:18,class:"text-gray-400 group-hover:text-[#F8CB00] transition-colors"})])])],8,pe))),128))])):(d(),i("div",Te,[g(v(F),{size:48,class:"mx-auto text-gray-300 mb-4"}),t[12]||(t[12]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No events found",-1)),t[13]||(t[13]=e("p",{class:"text-gray-600"},"Try adjusting your filters or check back later for new events.",-1))])),((o=r.value)==null?void 0:o.last_page)>1?(d(),i("div",Ue,[e("div",Ye,[e("button",{onClick:t[1]||(t[1]=s=>w(r.value.current_page-1)),disabled:r.value.current_page===1,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,je),e("div",Le,[(d(!0),i(b,null,y(T.value,s=>(d(),i("button",{key:s,onClick:n=>w(s),class:k(["px-4 py-2 rounded-lg text-sm font-medium transition-all",s===r.value.current_page?"bg-[#F8CB00] text-black":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])},c(s),11,Se))),128))]),e("button",{onClick:t[2]||(t[2]=s=>w(r.value.current_page+1)),disabled:r.value.current_page===r.value.last_page,class:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,Ne)])])):f("",!0)])])}}},Ge=j(Pe,[["__scopeId","data-v-40e00dae"]]);export{Ge as default};
