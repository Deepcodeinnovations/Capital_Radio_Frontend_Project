import{_ as Q,u as X,h as f,g as _,i as J,c as n,a as e,b as i,k as d,v as h,x as K,d as x,p as I,G as L,F,l as N,H as A,q as m,t as l,o as u}from"./index-3bdb0cb8.js";import{c as B}from"./createLucideIcon-dde33caf.js";import{S as R}from"./search-ae1beb38.js";import{C as ee}from"./chevron-down-fbf1d4a8.js";import{X as te}from"./x-86c09b3d.js";import{S as H}from"./star-981ba78d.js";import{U as z}from"./user-3bbcec5b.js";import{E}from"./eye-e6253139.js";import{C as Z}from"./clock-0c8fa3ae.js";import{C as se}from"./calendar-151b5e61.js";import{H as oe}from"./heart-2904d148.js";const ae=B("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),V=B("NewspaperIcon",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),$=B("ZapIcon",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);const le={class:"min-h-screen bg-gray-50"},re={class:"relative bg-black border-b border-gray-800 overflow-hidden",style:{"margin-top":"-5rem !important","padding-top":"5rem"}},ne={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},ie={class:"text-center max-w-3xl mx-auto"},de={class:"inline-flex items-center justify-center mb-4"},ue={class:"bg-white relative",id:"news-content"},ce={class:"max-w-7xl mx-auto px-6 py-12 relative z-10"},ge={class:"mb-12"},me={class:"relative max-w-2xl mx-auto mb-8"},pe={class:"flex justify-center mb-6"},ve={key:0,class:"bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200 max-w-4xl mx-auto"},fe={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},xe=["value"],be={class:"space-y-2"},ye={class:"flex items-center"},_e={class:"flex items-center"},he={class:"flex items-end"},we={key:0,class:"flex justify-center items-center py-20"},ke={key:1},Ce={class:"flex items-center justify-between mb-8"},Fe={class:"text-gray-600"},Ne={class:"text-gray-600"},Se={key:0,class:"mb-12"},je={class:"flex items-center gap-3 mb-8"},Me={class:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center"},Ve={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},$e=["onClick"],Be={class:"relative"},Ue={class:"relative h-64 overflow-hidden"},De=["src","alt"],Pe={class:"absolute top-4 left-4 flex gap-2"},Te={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},Ie={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},Le={class:"absolute bottom-4 left-4"},Ae={class:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium text-gray-800"},He={class:"p-6"},ze={class:"text-xl font-bold text-gray-900 mb-3 group-hover:text-red-600 transition-colors line-clamp-2"},Ee={class:"text-gray-600 mb-4 line-clamp-2"},Ze={class:"flex items-center justify-between"},Ye={class:"flex items-center space-x-2"},qe={class:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center"},We={class:"text-sm font-medium text-gray-900"},Ge={class:"text-xs text-gray-500"},Oe={class:"flex items-center space-x-4 text-sm text-gray-500"},Qe={class:"flex items-center space-x-1"},Xe={class:"flex items-center space-x-1"},Je={class:"space-y-4 mb-8"},Ke={class:"flex items-center gap-3 mb-8"},Re={class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},et=["onClick"],tt={class:"relative"},st={class:"flex items-start space-x-4"},ot={class:"flex-shrink-0"},at={class:"w-24 h-24 rounded-lg overflow-hidden"},lt=["src","alt"],rt={class:"flex-1 min-w-0"},nt={class:"flex items-center space-x-3 mb-2"},it={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},dt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},ut={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},ct={class:"text-xs text-gray-500 flex items-center gap-1"},gt={class:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-red-600 transition-colors line-clamp-2"},mt={class:"text-gray-600 text-sm mb-4 line-clamp-2"},pt={class:"flex items-center justify-between"},vt={class:"flex items-center space-x-2"},ft={class:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center"},xt={class:"text-sm text-gray-600"},bt={class:"flex items-center space-x-4 text-sm text-gray-500"},yt={class:"flex items-center space-x-1"},_t={class:"flex items-center space-x-1"},ht={class:"flex items-center space-x-1"},wt={key:1,class:"flex justify-center items-center gap-2 mt-12"},kt=["disabled"],Ct={class:"flex items-center gap-1"},Ft=["onClick"],Nt=["disabled"],St={key:2,class:"text-center py-20"},jt={class:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4"},Mt={class:"text-gray-600 mb-6"},Vt={__name:"news",setup($t){var T;const b=X(),o=f(()=>b.getters.news),w=f(()=>b.getters.station);f(()=>b.getters.isPlaying);const p=_(!1),k=_(!1),g=_(""),S=_(null),r=_({search:"",category_id:"",author_id:"",station_id:((T=w.value)==null?void 0:T.id)||1,is_featured:!1,is_breaking:!1,order_by:"created_at",page:1,per_page:12}),Y=_([{id:"1",name:"Politics",color:"#ef4444"},{id:"2",name:"Entertainment",color:"#f59e0b"},{id:"3",name:"Sports",color:"#10b981"},{id:"4",name:"Technology",color:"#3b82f6"}]);f(()=>{var a;return(a=o.value)!=null&&a.metrics?{total_articles:o.value.metrics.total_articles||0,breaking_news:o.value.metrics.breaking_news||0,featured_stories:o.value.metrics.featured_stories||0,views_today:o.value.metrics.views_today||0}:{total_articles:0,breaking_news:0,featured_stories:0,views_today:0}});const U=f(()=>{var a;return(a=o.value)!=null&&a.data?o.value.data.filter(t=>t.is_featured||t.is_breaking):[]}),q=f(()=>r.value.search||r.value.category_id||r.value.is_featured||r.value.is_breaking||r.value.order_by!=="created_at"),W=f(()=>{var C;if(!((C=o.value)!=null&&C.pages))return[];const a=o.value.page,t=o.value.pages,s=[],c=Math.max(1,a-2),v=Math.min(t,a+2);for(let M=c;M<=v;M++)s.push(M);return s}),D=a=>{const t=new Date(a),s=new Date,c=(s-t)/(1e3*60*60);return c<1?`${Math.floor((s-t)/(1e3*60))} minutes ago`:c<24?`${Math.floor(c)} hours ago`:c<48?"Yesterday":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==s.getFullYear()?"numeric":void 0})},G=()=>{S.value&&clearTimeout(S.value),S.value=setTimeout(()=>{r.value.search=g.value,r.value.page=1,y()},500)},y=async()=>{p.value=!0;try{await b.dispatch("fetch_user_news",r.value)}catch(a){console.error("Failed to fetch filtered news:",a)}finally{p.value=!1}},P=()=>{var a;g.value="",r.value={search:"",category_id:"",author_id:"",station_id:((a=w.value)==null?void 0:a.id)||1,is_featured:!1,is_breaking:!1,order_by:"created_at",page:1,per_page:12},y()},j=async a=>{var s;if(a<1||a>o.value.pages)return;r.value.page=a,p.value=!0;const t={...r.value,station_id:((s=w.value)==null?void 0:s.id)||1};try{await b.dispatch("fetch_user_news",t),window.scrollTo({top:0,behavior:"smooth"})}catch(c){console.error("Failed to fetch news:",c)}finally{p.value=!1}},O=async()=>{var t;p.value=!0;const a={...r.value,station_id:((t=w.value)==null?void 0:t.id)||1};try{await b.dispatch("fetch_user_news",a)}catch(s){console.error("Failed to fetch user news:",s)}finally{p.value=!1}};return J(()=>{O()}),(a,t)=>(u(),n("div",le,[e("div",re,[t[11]||(t[11]=e("div",{class:"absolute inset-0"},[e("img",{src:"https://images.unsplash.com/photo-1504711434969-e33886168f5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80",alt:"Breaking News",class:"w-full h-full object-cover opacity-40"}),e("div",{class:"absolute inset-0 bg-gradient-to-br from-black/80 via-black/70 to-black/80"})],-1)),e("div",ne,[e("div",ie,[e("div",de,[i(d(V),{class:"text-[#F8CB00] mr-2",size:24}),t[8]||(t[8]=e("span",{class:"text-[#F8CB00] font-semibold uppercase tracking-wider text-sm"},"News & Updates",-1))]),t[9]||(t[9]=e("h1",{class:"text-4xl sm:text-5xl font-bold text-white mb-4"}," Latest News ",-1)),t[10]||(t[10]=e("p",{class:"text-lg text-gray-300"}," Stay updated with breaking news, entertainment updates, and exclusive stories from Capital FM ",-1))])])]),e("div",ue,[t[34]||(t[34]=e("div",{class:"absolute inset-0 overflow-hidden opacity-5 pointer-events-none"},[e("div",{class:"absolute top-1/4 left-1/5 w-32 h-32 bg-red-500 rounded-full blur-2xl animate-float"}),e("div",{class:"absolute bottom-1/3 right-1/5 w-40 h-40 bg-yellow-500 rounded-full blur-3xl animate-float",style:{"animation-delay":"2s"}}),e("div",{class:"absolute top-1/2 left-1/2 w-24 h-24 bg-blue-500 rounded-full blur-xl animate-pulse-slow"})],-1)),e("div",ce,[e("div",ge,[e("div",me,[i(d(R),{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>g.value=s),onInput:G,type:"text",placeholder:"Search news articles...",class:"w-full pl-12 pr-4 py-4 bg-white border border-gray-300 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent shadow-sm"},null,544),[[K,g.value]])]),e("div",pe,[e("button",{onClick:t[1]||(t[1]=s=>k.value=!k.value),class:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium px-6 py-3 rounded-xl transition-all duration-300 flex items-center gap-2 shadow-sm"},[i(d(ae),{class:"w-5 h-5"}),t[12]||(t[12]=x(" Filters & Categories ",-1)),i(d(ee),{class:I(["w-4 h-4 transition-transform",{"rotate-180":k.value}])},null,8,["class"])])]),k.value?(u(),n("div",ve,[e("div",fe,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value.category_id=s),onChange:y,class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500"},[t[13]||(t[13]=e("option",{value:""},"All Categories",-1)),(u(!0),n(F,null,N(Y.value,s=>(u(),n("option",{key:s.id,value:s.id},l(s.name),9,xe))),128))],544),[[L,r.value.category_id]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sort By",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.value.order_by=s),onChange:y,class:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-red-500"},t[15]||(t[15]=[e("option",{value:"created_at"},"Latest",-1),e("option",{value:"published_at"},"Published Date",-1),e("option",{value:"views"},"Most Viewed",-1),e("option",{value:"priority"},"Priority",-1)]),544),[[L,r.value.order_by]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type",-1)),e("div",be,[e("label",ye,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.value.is_featured=s),onChange:y,type:"checkbox",class:"w-4 h-4 text-red-500 bg-white border-gray-300 rounded focus:ring-red-500"},null,544),[[A,r.value.is_featured]]),t[17]||(t[17]=e("span",{class:"ml-2 text-gray-700 text-sm"},"Featured Only",-1))]),e("label",_e,[h(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.value.is_breaking=s),onChange:y,type:"checkbox",class:"w-4 h-4 text-red-500 bg-white border-gray-300 rounded focus:ring-red-500"},null,544),[[A,r.value.is_breaking]]),t[18]||(t[18]=e("span",{class:"ml-2 text-gray-700 text-sm"},"Breaking News",-1))])])]),e("div",he,[e("button",{onClick:P,class:"w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors flex items-center justify-center gap-2"},[i(d(te),{class:"w-4 h-4"}),t[20]||(t[20]=x(" Clear All ",-1))])])])])):m("",!0)]),p.value?(u(),n("div",we,t[21]||(t[21]=[e("div",{class:"w-12 h-12 border-4 border-gray-300 border-t-red-600 rounded-full animate-spin"},null,-1)]))):o.value&&o.value.data&&o.value.data.length>0?(u(),n("div",ke,[e("div",Ce,[e("div",Fe,l(g.value?`Search results for "${g.value}"`:"Latest News")+" - Showing "+l(o.value.data.length)+" of "+l(o.value.total),1),e("div",Ne," Page "+l(o.value.page)+" of "+l(o.value.pages),1)]),U.value.length>0?(u(),n("div",Se,[e("div",je,[e("div",Me,[i(d($),{class:"w-5 h-5 text-red-600"})]),t[22]||(t[22]=e("h2",{class:"text-2xl font-bold text-gray-900"}," Breaking & Featured ",-1)),t[23]||(t[23]=e("div",{class:"flex-1 h-px bg-gradient-to-r from-red-500 to-transparent"},null,-1))]),e("div",Ve,[(u(!0),n(F,null,N(U.value.slice(0,2),s=>{var c,v;return u(),n("article",{key:s.id,class:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg border border-gray-200 hover:border-red-300 transition-all group cursor-pointer relative",onClick:C=>a.$router.push({name:"news_details",params:{id:s.slug}})},[t[27]||(t[27]=e("div",{class:"absolute -inset-1 bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 rounded-xl blur opacity-0 group-hover:opacity-10 transition duration-300"},null,-1)),e("div",Be,[e("div",Ue,[e("img",{src:s.featured_image_url,alt:s.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,De),t[26]||(t[26]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"},null,-1)),e("div",Pe,[s.is_breaking?(u(),n("span",Te,[i(d($),{class:"w-3 h-3 mr-1"}),t[24]||(t[24]=x(" Breaking ",-1))])):m("",!0),s.is_featured?(u(),n("span",Ie,[i(d(H),{class:"w-3 h-3 mr-1"}),t[25]||(t[25]=x(" Featured ",-1))])):m("",!0)]),e("div",Le,[e("span",Ae,l(((c=s.category)==null?void 0:c.name)||"News"),1)])]),e("div",He,[e("h3",ze,l(s.title),1),e("p",Ee,l(s.excerpt),1),e("div",Ze,[e("div",Ye,[e("div",qe,[i(d(z),{class:"w-4 h-4 text-gray-500"})]),e("div",null,[e("p",We,l(((v=s.author)==null?void 0:v.name)||"Staff Writer"),1),e("p",Ge,l(D(s.published_at)),1)])]),e("div",Oe,[e("div",Qe,[i(d(E),{class:"w-4 h-4"}),e("span",null,l(s.views_count||0),1)]),e("div",Xe,[i(d(Z),{class:"w-4 h-4"}),e("span",null,l(s.reading_time||2)+"min",1)])])])])])],8,$e)}),128))])])):m("",!0),e("div",Je,[e("div",Ke,[e("div",Re,[i(d(V),{class:"w-5 h-5 text-blue-600"})]),t[28]||(t[28]=e("h2",{class:"text-2xl font-bold text-gray-900"},"All Stories",-1)),t[29]||(t[29]=e("div",{class:"flex-1 h-px bg-gradient-to-r from-blue-500 to-transparent"},null,-1))]),(u(!0),n(F,null,N(o.value.data,s=>{var c,v;return u(),n("div",{key:s.id,class:"bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md hover:border-red-300 transition-all group cursor-pointer relative overflow-hidden",onClick:C=>a.$router.push({name:"news_details",params:{id:s.slug}})},[t[32]||(t[32]=e("div",{class:"absolute -inset-1 bg-gradient-to-r from-red-500 via-yellow-500 to-blue-500 rounded-xl blur opacity-0 group-hover:opacity-5 transition duration-300"},null,-1)),e("div",tt,[e("div",st,[e("div",ot,[e("div",at,[e("img",{src:s.featured_image_url,alt:s.title,class:"w-full h-full object-cover"},null,8,lt)])]),e("div",rt,[e("div",nt,[e("span",it,l(((c=s.category)==null?void 0:c.name)||"News"),1),s.is_breaking?(u(),n("span",dt,[i(d($),{class:"w-3 h-3 mr-1"}),t[30]||(t[30]=x(" Breaking ",-1))])):m("",!0),s.is_featured?(u(),n("span",ut,[i(d(H),{class:"w-3 h-3 mr-1"}),t[31]||(t[31]=x(" Featured ",-1))])):m("",!0),e("span",ct,[i(d(se),{class:"w-3 h-3"}),x(" "+l(D(s.published_at)),1)])]),e("h3",gt,l(s.title),1),e("p",mt,l(s.excerpt),1),e("div",pt,[e("div",vt,[e("div",ft,[i(d(z),{class:"w-3 h-3 text-gray-500"})]),e("span",xt,l(((v=s.author)==null?void 0:v.name)||"Staff Writer"),1)]),e("div",bt,[e("div",yt,[i(d(E),{class:"w-4 h-4"}),e("span",null,l(s.views_count||0),1)]),e("div",_t,[i(d(Z),{class:"w-4 h-4"}),e("span",null,l(s.reading_time||2)+"min",1)]),e("div",ht,[i(d(oe),{class:"w-4 h-4"}),e("span",null,l(s.likes_count||0),1)])])])])])])],8,et)}),128))]),o.value.pages>1?(u(),n("div",wt,[e("button",{onClick:t[6]||(t[6]=s=>j(o.value.page-1)),disabled:o.value.page<=1,class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"}," Previous ",8,kt),e("div",Ct,[(u(!0),n(F,null,N(W.value,s=>(u(),n("button",{key:s,onClick:c=>j(s),class:I(["w-10 h-10 rounded-lg transition-colors font-medium",s===o.value.page?"bg-red-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"])},l(s),11,Ft))),128))]),e("button",{onClick:t[7]||(t[7]=s=>j(o.value.page+1)),disabled:o.value.page>=o.value.pages,class:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"}," Next ",8,Nt)])):m("",!0)])):(u(),n("div",St,[e("div",jt,[i(d(V),{class:"w-8 h-8 text-gray-400"})]),t[33]||(t[33]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"}," No News Available ",-1)),e("p",Mt,l(g.value?`No results found for "${g.value}"`:"Check back later for the latest updates."),1),q.value?(u(),n("button",{key:0,onClick:P,class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"}," Clear Filters ")):m("",!0)]))])])]))}},Zt=Q(Vt,[["__scopeId","data-v-5f183c87"]]);export{Zt as default};
