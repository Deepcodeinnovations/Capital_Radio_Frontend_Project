import{_ as re,u as de,e as g,r as h,o as ce,c as n,h as e,a as G,i as H,j as i,k as c,v as A,x as Z,G as ue,F,l as V,n as w,s as k,t as a,q as j,b as l}from"./index-8ff82c37.js";import{V as pe}from"./volume-2-016dff22.js";import{P as ve}from"./play-ab7444ca.js";import{S as me}from"./search-4769dc69.js";import{a as I,C as Q}from"./clock-b7bb90a4.js";import{C as be}from"./chevron-down-ee8d242b.js";import{X as fe}from"./x-eb094e08.js";import{S as ge}from"./star-e097ad70.js";import{M as R}from"./map-pin-04db48a4.js";import{E as J}from"./eye-0b265ec1.js";import{S as K}from"./share-2-9d965db9.js";import{B as he}from"./bookmark-fcde8143.js";import"./createLucideIcon-3ab7f00b.js";const xe={class:"min-h-screen"},_e={class:"relative min-h-[80vh] flex items-center justify-center overflow-hidden"},ye={class:"relative z-10 container mx-auto px-6 text-center"},we={class:"flex flex-col sm:flex-row gap-4 justify-center items-center"},ke=["disabled"],Ce={key:0,class:"w-5 h-5 border-2 rounded-full border-white border-t-transparent animate-spin"},Ee={key:3,class:"tracking-wide"},De={key:4,class:"tracking-wide"},Ne={key:5,class:"tracking-wide"},Se={class:"bg-white relative",id:"events-content"},Fe={class:"max-w-7xl mx-auto px-6 py-12 relative z-10"},Ve={class:"mb-12"},je={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-4xl mx-auto"},Ie={class:"relative"},Te={class:"relative"},$e={class:"relative"},Me=["value"],Pe={class:"flex flex-wrap justify-center gap-3 mb-8"},Be={key:0,class:"flex justify-center items-center py-20"},Le={key:1},Ae={class:"flex items-center justify-between mb-8"},Ue={class:"text-gray-600"},qe={class:"text-gray-600"},ze={key:0,class:"mb-12"},We={class:"flex items-center gap-3 mb-8"},Ye={class:"w-8 h-8 bg-pink-100 rounded-lg flex items-center justify-center"},Oe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Ge=["onClick"],He={class:"relative"},Ze={class:"relative h-64 overflow-hidden"},Qe=["src","alt"],Re={class:"absolute top-4 right-4"},Je={class:"bg-black/70 backdrop-blur-sm px-3 py-1 rounded-full text-white text-sm font-medium"},Ke={class:"absolute bottom-4 left-4"},Xe={class:"bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-gray-900 text-sm font-medium"},et={class:"p-6"},tt={class:"flex items-center gap-2 mb-3"},st={class:"bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-sm font-medium"},ot={class:"text-gray-500 text-sm flex items-center gap-1"},at={class:"text-xl font-bold text-gray-900 mb-3 group-hover:text-pink-500 transition-colors line-clamp-2"},lt={class:"text-gray-600 mb-4 line-clamp-2"},nt={class:"flex items-center justify-between"},it={class:"flex items-center space-x-2"},rt={class:"text-sm text-gray-600"},dt={class:"flex items-center space-x-4 text-sm text-gray-500"},ct={class:"flex items-center space-x-1"},ut={class:"flex items-center space-x-1"},pt={class:"space-y-4 mb-8"},vt={class:"flex items-center gap-3 mb-8"},mt={class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},bt=["onClick"],ft={class:"relative"},gt={class:"flex items-start space-x-4"},ht={class:"flex-shrink-0"},xt={class:"w-24 h-24 rounded-lg overflow-hidden relative"},_t=["src","alt"],yt={class:"flex-1 min-w-0"},wt={class:"flex items-center space-x-3 mb-2"},kt={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-600"},Ct={class:"text-xs text-gray-500 flex items-center gap-1"},Et={class:"text-xs text-gray-500 flex items-center gap-1"},Dt={class:"text-xs text-gray-500 flex items-center gap-1"},Nt={key:0,class:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full"},St={key:1,class:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full"},Ft={class:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-pink-500 transition-colors line-clamp-2"},Vt={class:"text-gray-600 text-sm mb-4 line-clamp-2"},jt={class:"flex items-center justify-between"},It={class:"flex items-center space-x-4"},Tt={class:"text-sm text-gray-600"},$t={class:"font-medium"},Mt={class:"text-sm font-medium text-gray-900"},Pt={class:"flex items-center space-x-4 text-sm text-gray-500"},Bt={class:"flex items-center space-x-1"},Lt={class:"flex items-center space-x-1"},At={class:"flex items-center space-x-1"},Ut={key:1,class:"flex justify-center items-center gap-2 mt-12"},qt=["disabled"],zt={class:"flex items-center gap-1"},Wt=["onClick"],Yt=["disabled"],Ot={key:2,class:"text-center py-20"},Gt={class:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4"},Ht={class:"text-gray-600 mb-6"},Zt={__name:"events",setup(Qt){const x=de(),p=g(()=>x.getters.events||{}),C=g(()=>{var o;return((o=p.value)==null?void 0:o.data)||[]}),T=h(!1),$=g(()=>x.getters.isLoading),U=g(()=>x.getters.isPlaying),m=h(""),b=h(""),f=h(""),u=h(""),M=h(null),X=["concert","festival","workshop","conference","comedy","sports"];g(()=>{const o=C.value||[],t=new Date;return{upcoming_events:o.filter(r=>new Date(r.start_date)>t).length,this_month:o.filter(r=>{const d=new Date(r.start_date);return d.getMonth()===t.getMonth()&&d.getFullYear()===t.getFullYear()}).length,featured_events:o.filter(r=>r.is_featured).length}});const q=g(()=>C.value.filter(o=>o.is_featured)),P=g(()=>{var o;return((o=p.value)==null?void 0:o.total_pages)||1}),ee=g(()=>{var y;const o=[],t=((y=p.value)==null?void 0:y.current_page)||1,r=P.value,d=Math.max(1,t-2),S=Math.min(r,t+2);for(let s=d;s<=S;s++)o.push(s);return o}),E=o=>{if(!o)return"";const t=new Date(o),r=new Date,d=Math.floor((t-r)/(1e3*60*60*24));return d===0?"Today":d===1?"Tomorrow":d===-1?"Yesterday":d>0&&d<7?`In ${d} days`:d<0&&d>-7?`${Math.abs(d)} days ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==r.getFullYear()?"numeric":void 0})},D=o=>o?o.charAt(0).toUpperCase()+o.slice(1):"",z=o=>o?o.charAt(0).toUpperCase()+o.slice(1):"",W=o=>{const t={concert:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",festival:"https://images.unsplash.com/photo-1533174972262-ba846eca23bf?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",workshop:"https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",conference:"https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",comedy:"https://images.unsplash.com/photo-1594736797933-d0c4a5a65d96?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",sports:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"};return t[o]||t.concert},te=async()=>{try{await x.dispatch("togglePlayPause")}catch(o){console.error("Failed to toggle playback:",o)}},se=()=>{M.value&&clearTimeout(M.value),M.value=setTimeout(()=>{_()},500)},N=o=>{u.value=o===u.value?"":o,_()},oe=()=>{_()},ae=()=>{_()},Y=()=>{m.value="",b.value="",f.value="",u.value="",_()},_=async()=>{const o={};if(m.value&&(o.search=m.value),b.value&&(o.event_date=b.value),f.value&&(o.category=f.value),u.value)switch(u.value){case"upcoming":o.time_filter="upcoming";break;case"this_week":const t=new Date,r=new Date(t.getTime()+7*24*60*60*1e3);o.start_date=t.toISOString(),o.end_date=r.toISOString();break;case"featured":o.is_featured=!0;break;case"public":o.event_type="public";break}await L(o)},B=async o=>{o>=1&&o<=P.value&&(await L({},o),window.scrollTo({top:0,behavior:"smooth"}))},le=()=>{document.getElementById("events-content").scrollIntoView({behavior:"smooth",block:"start"})},O=o=>{console.log("Opening event details:",o.title)},ne=()=>{if(m.value)return`Search results for "${m.value}"`;if(b.value)return`Events on ${E(b.value)}`;if(f.value)return`${D(f.value)} Events`;if(u.value)switch(u.value){case"upcoming":return"Upcoming Events";case"this_week":return"This Week's Events";case"featured":return"Featured Events";case"public":return"Public Events"}return"All Events"},ie=()=>m.value?`No events found matching "${m.value}"`:b.value?`No events scheduled for ${E(b.value)}`:f.value?`No ${f.value.toLowerCase()} events found`:"No events available at the moment",L=async(o={},t=1)=>{T.value=!0;try{await x.dispatch("fetch_events",{data:o,page:t})}catch(r){console.error("Failed to load events:",r)}finally{T.value=!1}};return ce(()=>{L()}),(o,t)=>{var r,d,S,y;return l(),n("div",xe,[e("section",_e,[t[11]||(t[11]=G('<div class="absolute inset-0" data-v-28b5789e><img src="https://images.unsplash.com/photo-1661697522426-84b53a4ce613?w=1500&amp;auto=format&amp;fit=crop&amp;q=60&amp;ixlib=rb-4.1.0&amp;ixid=M3wxMjA3fDB8MHxzZWFyY2h8NzJ8fGV2ZW50c3xlbnwwfHwwfHx8MA%3D%3D" alt="Events" class="w-full h-full object-cover" data-v-28b5789e><div class="absolute inset-0 bg-black/80" data-v-28b5789e></div></div><div class="absolute inset-0 overflow-hidden opacity-20" data-v-28b5789e><div class="absolute top-1/4 left-1/4 w-64 h-64 bg-pink-500 rounded-full blur-3xl animate-pulse" data-v-28b5789e></div><div class="absolute bottom-1/4 right-1/4 w-72 h-72 bg-purple-600 rounded-full blur-3xl animate-pulse" style="animation-delay:1s;" data-v-28b5789e></div><div class="absolute top-1/2 right-1/3 w-48 h-48 bg-pink-400 rounded-full blur-3xl animate-pulse" style="animation-delay:2s;" data-v-28b5789e></div></div>',2)),e("div",ye,[t[10]||(t[10]=G('<div class="inline-flex items-center justify-center mb-8" data-v-28b5789e><div class="h-px w-12 bg-pink-500" data-v-28b5789e></div><span class="mx-4 text-pink-400 font-bold tracking-wider text-sm uppercase" data-v-28b5789e>Live Events</span><div class="h-px w-12 bg-pink-500" data-v-28b5789e></div></div><h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight" data-v-28b5789e> KIIS <span class="text-pink-500" data-v-28b5789e>Events</span></h1><p class="text-xl md:text-2xl text-gray-200 mb-8 max-w-4xl mx-auto leading-relaxed" data-v-28b5789e> Experience the best live events, concerts, and entertainment in Uganda </p>',3)),e("div",we,[e("button",{onClick:te,disabled:$.value,class:"bg-pink-500 hover:bg-pink-600 px-8 py-4 rounded-2xl text-white font-bold flex items-center space-x-3 transition-all duration-300"},[$.value?(l(),n("div",Ce)):U.value?(l(),H(i(pe),{key:1,size:20,class:"animate-bounce"})):(l(),H(i(ve),{key:2,size:20})),$.value?(l(),n("span",Ee,"CONNECTING")):U.value?(l(),n("span",De,"LISTENING LIVE")):(l(),n("span",Ne,"TUNE IN NOW"))],8,ke),e("button",{onClick:le,class:"bg-white/10 backdrop-blur-md border-2 border-white/20 text-white font-semibold px-8 py-4 rounded-2xl hover:bg-white/20 transition-all duration-300"},t[9]||(t[9]=[e("span",{class:"tracking-wide"},"VIEW ALL EVENTS",-1)]))])]),t[12]||(t[12]=e("div",{class:"absolute bottom-0 left-0 w-full"},[e("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",class:"w-full h-16"},[e("path",{fill:"white",d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V120H0V0C0,0,31,17,94.98,30.44c64.64,13.91,93.29,29.88,150.17,38.07,65.88,9.2,165.63,17.05,240.88,12.55Z"})])],-1))]),e("div",Se,[t[24]||(t[24]=e("div",{class:"absolute inset-0 overflow-hidden opacity-5 pointer-events-none"},[e("div",{class:"absolute top-1/4 left-1/5 w-32 h-32 bg-pink-500 rounded-full blur-2xl animate-float"}),e("div",{class:"absolute bottom-1/3 right-1/5 w-40 h-40 bg-purple-600 rounded-full blur-3xl animate-float",style:{"animation-delay":"2s"}}),e("div",{class:"absolute top-1/2 left-1/2 w-24 h-24 bg-pink-400 rounded-full blur-xl animate-pulse-slow"})],-1)),e("div",Fe,[e("div",Ve,[e("div",je,[e("div",Ie,[c(i(me),{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-pink-500 w-5 h-5"}),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>m.value=s),onInput:se,type:"text",placeholder:"Search events...",class:"w-full pl-12 pr-4 py-4 bg-white border-2 border-pink-200 rounded-xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 shadow-sm"},null,544),[[Z,m.value]])]),e("div",Te,[c(i(I),{class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-purple-600 w-5 h-5"}),A(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.value=s),onChange:oe,type:"date",class:"w-full pl-12 pr-4 py-4 bg-white border-2 border-purple-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-purple-600 shadow-sm"},null,544),[[Z,b.value]])]),e("div",$e,[A(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),onChange:ae,class:"w-full px-4 py-4 bg-white border-2 border-pink-200 rounded-xl text-gray-900 focus:outline-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 shadow-sm appearance-none"},[t[13]||(t[13]=e("option",{value:""},"All Categories",-1)),(l(),n(F,null,V(X,s=>e("option",{key:s,value:s},a(D(s)),9,Me)),64))],544),[[ue,f.value]]),c(i(be),{class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-pink-500 w-5 h-5 pointer-events-none"})])]),e("div",Pe,[e("button",{onClick:t[3]||(t[3]=s=>N("upcoming")),class:w([u.value==="upcoming"?"bg-pink-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," Upcoming Events ",2),e("button",{onClick:t[4]||(t[4]=s=>N("this_week")),class:w([u.value==="this_week"?"bg-pink-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," This Week ",2),e("button",{onClick:t[5]||(t[5]=s=>N("featured")),class:w([u.value==="featured"?"bg-pink-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," Featured ",2),e("button",{onClick:t[6]||(t[6]=s=>N("public")),class:w([u.value==="public"?"bg-pink-500 text-white":"bg-gray-100 hover:bg-gray-200 text-gray-700","px-4 py-2 rounded-lg font-medium transition-colors"])}," Public Events ",2),e("button",{onClick:Y,class:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg font-medium transition-colors flex items-center gap-2"},[c(i(fe),{class:"w-4 h-4"}),t[14]||(t[14]=k(" Clear ",-1))])])]),T.value?(l(),n("div",Be,t[15]||(t[15]=[e("div",{class:"w-12 h-12 border-4 border-pink-200 border-t-pink-500 rounded-full animate-spin"},null,-1)]))):C.value.length>0?(l(),n("div",Le,[e("div",Ae,[e("div",Ue,a(ne()),1),e("div",qe,a(((r=p.value)==null?void 0:r.total)||0)+" "+a((((d=p.value)==null?void 0:d.total)||0)===1?"event":"events"),1)]),q.value.length>0?(l(),n("div",ze,[e("div",We,[e("div",Ye,[c(i(ge),{class:"w-5 h-5 text-pink-500"})]),t[16]||(t[16]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Featured Events",-1)),t[17]||(t[17]=e("div",{class:"flex-1 h-px bg-pink-500"},null,-1))]),e("div",Oe,[(l(!0),n(F,null,V(q.value.slice(0,2),s=>(l(),n("div",{key:s.id,class:"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg border-2 border-pink-100 hover:border-pink-300 transition-all group cursor-pointer relative",onClick:v=>O(s)},[t[19]||(t[19]=e("div",{class:"absolute -inset-1 bg-pink-500 rounded-xl blur opacity-0 group-hover:opacity-10 transition duration-300"},null,-1)),e("div",He,[e("div",Ze,[e("img",{src:s.featured_image_url||W(s.category),alt:s.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,Qe),t[18]||(t[18]=e("div",{class:"absolute inset-0 bg-black/40"},null,-1)),e("div",Re,[e("span",Je,a(z(s.event_type)),1)]),e("div",Ke,[e("span",Xe,a(E(s.start_date)),1)])]),e("div",et,[e("div",tt,[e("span",st,a(D(s.category)),1),e("span",ot,[c(i(R),{class:"w-3 h-3"}),k(" "+a(s.venue_name),1)])]),e("h3",at,a(s.title),1),e("p",lt,a(s.description),1),e("div",nt,[e("div",it,[c(i(Q),{class:"w-4 h-4 text-gray-400"}),e("span",rt,a(s.start_time)+" - "+a(s.end_time),1)]),e("div",dt,[e("div",ct,[c(i(J),{class:"w-4 h-4"}),e("span",null,a(s.views_count||0),1)]),e("div",ut,[c(i(K),{class:"w-4 h-4"}),e("span",null,a(s.shares_count||0),1)])])])])])],8,Ge))),128))])])):j("",!0),e("div",pt,[e("div",vt,[e("div",mt,[c(i(I),{class:"w-5 h-5 text-purple-600"})]),t[20]||(t[20]=e("h2",{class:"text-2xl font-bold text-gray-900"},"All Events",-1)),t[21]||(t[21]=e("div",{class:"flex-1 h-px bg-purple-600"},null,-1))]),(l(!0),n(F,null,V(C.value,s=>(l(),n("div",{key:s.id,class:"bg-white rounded-xl p-6 border-2 border-pink-100 shadow-sm hover:shadow-md hover:border-pink-300 transition-all group cursor-pointer relative overflow-hidden",onClick:v=>O(s)},[t[22]||(t[22]=e("div",{class:"absolute -inset-1 bg-pink-500 rounded-xl blur opacity-0 group-hover:opacity-5 transition duration-300"},null,-1)),e("div",ft,[e("div",gt,[e("div",ht,[e("div",xt,[e("img",{src:s.featured_image_url||W(s.category),alt:s.title,class:"w-full h-full object-cover"},null,8,_t)])]),e("div",yt,[e("div",wt,[e("span",kt,a(D(s.category)),1),e("span",Ct,[c(i(I),{class:"w-3 h-3"}),k(" "+a(E(s.start_date)),1)]),e("span",Et,[c(i(Q),{class:"w-3 h-3"}),k(" "+a(s.start_time)+" - "+a(s.end_time),1)]),e("span",Dt,[c(i(R),{class:"w-3 h-3"}),k(" "+a(s.venue_name),1)]),s.is_featured?(l(),n("span",Nt," Featured ")):j("",!0),s.is_virtual?(l(),n("span",St," Virtual ")):j("",!0)]),e("h3",Ft,a(s.title),1),e("p",Vt,a(s.description),1),e("div",jt,[e("div",It,[e("span",Tt,[e("span",$t,a(s.city)+", "+a(s.country),1)]),e("span",Mt,a(z(s.event_type)),1)]),e("div",Pt,[e("div",Bt,[c(i(J),{class:"w-4 h-4"}),e("span",null,a(s.views_count||0),1)]),e("div",Lt,[c(i(K),{class:"w-4 h-4"}),e("span",null,a(s.shares_count||0),1)]),e("div",At,[c(i(he),{class:"w-4 h-4"})])])])])])])],8,bt))),128))]),P.value>1?(l(),n("div",Ut,[e("button",{onClick:t[7]||(t[7]=s=>{var v;return B(((v=p.value)==null?void 0:v.current_page)-1)}),disabled:!((S=p.value)!=null&&S.has_prev),class:"px-4 py-2 bg-white border-2 border-pink-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-pink-50 transition-colors"}," Previous ",8,qt),e("div",zt,[(l(!0),n(F,null,V(ee.value,s=>{var v;return l(),n("button",{key:s,onClick:Rt=>B(s),class:w(["w-10 h-10 rounded-lg transition-colors font-medium",s===(((v=p.value)==null?void 0:v.current_page)||1)?"bg-pink-500 text-white":"bg-white border-2 border-pink-200 text-gray-700 hover:bg-pink-50"])},a(s),11,Wt)}),128))]),e("button",{onClick:t[8]||(t[8]=s=>{var v;return B(((v=p.value)==null?void 0:v.current_page)+1)}),disabled:!((y=p.value)!=null&&y.has_next),class:"px-4 py-2 bg-white border-2 border-pink-200 text-gray-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-pink-50 transition-colors"}," Next ",8,Yt)])):j("",!0)])):(l(),n("div",Ot,[e("div",Gt,[c(i(I),{class:"w-8 h-8 text-pink-500"})]),t[23]||(t[23]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"}," No Events Found ",-1)),e("p",Ht,a(ie()),1),e("button",{onClick:Y,class:"px-6 py-3 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors font-medium"}," Show All Events ")]))])])])}}},cs=re(Zt,[["__scopeId","data-v-28b5789e"]]);export{cs as default};
