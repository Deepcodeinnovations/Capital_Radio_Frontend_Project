import{u as ae,d as Me,r as I,e as k,f as be,o as t,c as s,g as e,b as Ie,F as H,h as D,i as x,w as de,j as Q,t as n,n as z,k as F,l as c,a as se,m as Fe,p as P,_ as Le,q as ue,s as ie,v as ne,x as Se,T as ze,y as Ae,z as Ue,A as Ne,B as qe,C as he,D as He}from"./index-110393c0.js";import{V as oe}from"./volume-2-496a51c0.js";import{P as te}from"./play-bce2e7bc.js";import{P as De}from"./pause-e249ea7e.js";import{X as ce,C as Ve}from"./x-e3996f91.js";import{c as K}from"./createLucideIcon-45e0e77c.js";import{C as je,a as Oe}from"./chevron-right-defe43ed.js";import{M as Re}from"./map-pin-3d4a9a37.js";import{S as Be}from"./send-d104ca05.js";import{C as Ge,A as Ke}from"./check-d23f49c1.js";import{M as $e}from"./message-circle-bb200a8b.js";import{I as We}from"./info-83274173.js";const Ye=K("CodeIcon",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),pe=K("ExternalLinkIcon",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Pe=K("FacebookIcon",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Te=K("InstagramIcon",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Je=K("LinkedinIcon",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Xe=K("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ze=K("MenuIcon",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Qe=K("PhoneIcon",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ee=K("TwitterIcon",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),et=K("YoutubeIcon",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),tt={class:"relative z-40"},st={class:"container mx-auto px-4 md:px-6"},ot={class:"flex items-center justify-between h-16 md:h-20"},at={class:"hidden lg:flex items-center space-x-8 pt-10"},lt={class:"flex items-center space-x-2 md:space-x-3 pt-6 md:pt-8"},rt=["disabled"],it={class:"relative bg-gradient-to-r from-[#F8CB00] to-red-500 px-8 py-4 rounded-2xl text-black font-bold flex items-center space-x-3 transition-all duration-300"},nt={key:0,class:"w-5 h-5 border-2 rounded-full border-black border-t-transparent animate-spin"},dt={key:3,class:"tracking-wide"},ct={key:4,class:"tracking-wide"},ut={key:5,class:"tracking-wide"},vt=["disabled"],mt={key:0,class:"w-5 h-5 border-2 border-white border-t-transparent animate-spin"},ht={key:0,class:"fixed inset-0 z-50 bg-black/95 backdrop-blur-xl"},pt={class:"container mx-auto px-4 md:px-6 h-full flex items-center justify-center"},bt={class:"text-center max-w-4xl mx-auto"},gt={class:"mb-8 md:mb-12"},xt={class:"space-y-4 md:space-y-6"},ft={class:"mb-8 md:mb-12"},yt=["disabled"],wt={key:0,class:"w-6 h-6 border-2 border-white border-t-transparent animate-spin"},_t={key:3},kt={key:4},Ct={key:5},$t={class:"flex justify-center space-x-4 md:space-x-6"},It=["href"],Ft={__name:"header",setup(le){const p=ae();Me();const g=I(!1),u=k(()=>p.getters.isPlaying),v=k(()=>p.getters.isLoading),N=[{label:"Home",to:"welcome"},{label:"Radio Shows",to:"radio_shows"},{label:"News",to:"news"},{label:"Events",to:"events"},{label:"Forums",to:"forums"},{label:"About",to:"about_us"}],b=[{icon:Pe,href:"#",color:"hover:bg-blue-600"},{icon:Ee,href:"#",color:"hover:bg-sky-500"},{icon:Te,href:"#",color:"hover:bg-pink-600"},{icon:Je,href:"#",color:"hover:bg-blue-700"}],y=()=>{g.value=!g.value},L=async()=>{try{await p.dispatch("togglePlayPause")}catch(E){console.error("Failed to toggle playback:",E)}};return(E,w)=>{const T=be("router-link");return t(),s("div",null,[e("header",tt,[e("div",st,[e("div",ot,[w[1]||(w[1]=e("div",{class:"flex items-center"},[e("div",{class:"flex items-center space-x-2 md:space-x-3"},[e("div",{class:"h-[90px] md:h-[130px] pt-[20px] md:pt-[40px]"},[e("img",{src:Ie,alt:"Capital FM Logo",class:"w-full h-full object-contain"})])])],-1)),e("nav",at,[(t(),s(H,null,D(N,(j,f)=>x(T,{key:f,to:{name:j.to},class:z([{"border-b-2 border-blue-400":E.$route.name===j.to},"text-white text-lg font-bold hover:text-red-200 transition-colors pb-1"])},{default:de(()=>[Q(n(j.label),1)]),_:2},1032,["to","class"])),64))]),e("div",lt,[e("button",{onClick:L,disabled:v.value,class:"relative group overflow-hidden rounded-2xl"},[w[0]||(w[0]=e("div",{class:"absolute -inset-0.5 bg-gradient-to-r from-[#F8CB00] via-red-500 to-blue-500 rounded-2xl blur opacity-60 group-hover:opacity-80 transition duration-300"},null,-1)),e("div",it,[v.value?(t(),s("div",nt)):u.value?(t(),F(c(oe),{key:1,size:20,class:"animate-bounce"})):(t(),F(c(te),{key:2,size:20})),v.value?(t(),s("span",dt,"CONNECTING")):u.value?(t(),s("span",ct,"LISTENING LIVE")):(t(),s("span",ut,"TUNE IN NOW"))])],8,rt),e("button",{onClick:L,disabled:v.value,class:z(["md:hidden p-2.5 rounded-full backdrop-blur-md border transition-all duration-300",u.value?"bg-[#F8CB00]/80 border-[#F8CB00]/80 text-white":v.value?"bg-blue-500/90 border-blue-400 text-white cursor-not-allowed":"bg-red-500/90 border-red-400 text-white hover:bg-red-600/90"])},[v.value?(t(),s("div",mt)):u.value?(t(),F(c(De),{key:1,size:20})):(t(),F(c(te),{key:2,size:20}))],10,vt),e("button",{onClick:y,class:"p-2.5 bg-white/10 backdrop-blur-md rounded-full text border border-white/20 text-white hover:bg-white/20 transition-all duration-300"},[g.value?(t(),F(c(ce),{key:0,size:28})):(t(),F(c(Ze),{key:1,size:28}))])])])])]),g.value?(t(),s("div",ht,[e("div",pt,[e("button",{onClick:y,class:"absolute top-4 md:top-6 right-4 md:right-6 p-3 bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 transition-all duration-300"},[x(c(ce),{size:24})]),e("div",bt,[w[3]||(w[3]=se('<div class="mb-8 md:mb-12"><div class="flex items-center justify-center space-x-3 mb-4"><div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-red-500 flex items-center justify-center"><span class="text-white font-bold text-xl">FM</span></div><h2 class="text-3xl md:text-4xl font-bold text-white">Capital FM</h2></div><p class="text-white/60">Uganda&#39;s Premier Radio Station</p></div>',1)),e("nav",gt,[e("ul",xt,[(t(),s(H,null,D(N,(j,f)=>e("li",{key:f},[x(T,{to:j.to,onClick:y,class:"block text-2xl md:text-3xl lg:text-4xl font-light text-white/80 hover:text-white transition-all duration-500 transform hover:scale-110 uppercase tracking-wider"},{default:de(()=>[Q(n(j.label),1)]),_:2},1032,["to"])])),64))])]),e("div",ft,[e("button",{onClick:L,disabled:v.value,class:z(["flex items-center justify-center space-x-3 mx-auto px-8 md:px-12 py-4 md:py-6 font-bold text-lg md:text-xl transition-all duration-300 transform hover:scale-105 shadow-xl",u.value?"bg-yellow-500 text-white shadow-yellow-500/30":v.value?"bg-blue-500 text-white cursor-not-allowed":"bg-red-500 text-white shadow-red-500/30"])},[v.value?(t(),s("div",wt)):u.value?(t(),F(c(oe),{key:1,size:24,class:"animate-bounce"})):(t(),F(c(te),{key:2,size:24})),v.value?(t(),s("span",_t,"CONNECTING...")):u.value?(t(),s("span",kt,"ON AIR • LIVE")):(t(),s("span",Ct,"LISTEN LIVE"))],10,yt)]),e("div",null,[w[2]||(w[2]=e("h6",{class:"text-white/60 font-semibold mb-4 md:mb-6 text-base md:text-lg"},"Follow Us",-1)),e("div",$t,[(t(),s(H,null,D(b,(j,f)=>e("a",{key:f,href:j.href,class:z(["p-3 md:p-4 bg-white/10 backdrop-blur-md border border-white/20 text-white transition-all duration-300 transform hover:scale-110",j.color])},[(t(),F(Fe(j.icon),{size:24}))],10,It)),64))])])])])])):P("",!0)])}}};const Lt={class:"bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white relative overflow-hidden"},St={class:"relative z-10 pt-24 pb-12"},Nt={class:"container mx-auto px-6"},jt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12 mb-16"},Bt={class:"lg:col-span-1"},Pt={class:"flex space-x-4"},Tt=["href"],Et={class:"relative w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors"},Mt={class:"space-y-3"},zt={class:"space-y-4"},At={class:"flex items-start space-x-3"},Ut={class:"w-10 h-10 bg-[#F8CB00]/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1"},qt={class:"flex items-start space-x-3"},Ht={class:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1"},Dt={class:"flex items-start space-x-3"},Vt={class:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-1"},Ot={class:"grid grid-cols-2 gap-3 mb-8"},Rt={class:"text-lg font-bold text-[#F8CB00] group-hover:scale-110 transition-transform"},Gt={class:"text-xs text-gray-400"},Kt={class:"bg-gray-800/30 rounded-2xl p-6 border border-gray-700/50"},Wt={class:"flex gap-2"},Yt=["disabled"],Jt={key:0,class:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"},Xt={class:"bg-gradient-to-r from-red-500/20 via-[#F8CB00]/20 to-blue-500/20 rounded-2xl p-6 mb-12 border border-gray-700/30"},Zt={class:"flex flex-col md:flex-row items-center justify-between gap-4"},Qt={class:"flex items-center space-x-4"},es={class:"text-white"},ts={class:"font-semibold"},ss={class:"text-gray-300 ml-2"},os=["disabled"],as={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},ls={class:"border-t border-gray-700/50 pt-8"},rs={class:"flex flex-col md:flex-row justify-between items-center gap-4"},is={class:"text-gray-400 text-sm text-center md:text-left"},ns={class:"mt-2 flex items-center justify-center md:justify-start gap-2"},ds={href:"https://deepcodeinnovations.com/",target:"_blank",rel:"noopener noreferrer",class:"text-[#F8CB00] hover:text-red-500 transition-colors font-semibold flex items-center gap-1 group"},cs={key:0,class:"fixed bottom-4 right-4 z-50 bg-gray-800 border border-gray-700 rounded-lg p-4 shadow-xl max-w-sm"},us={class:"flex items-center gap-3"},vs={class:"text-white font-medium"},ms={__name:"footer",setup(le){const p=ae(),g=I(""),u=I(!1),v=I(""),N=I(!1),b=I({show:!1,message:"",type:"success"}),y=k(()=>new Date().getFullYear()),L=k(()=>p.getters.isPlaying),E=k(()=>p.getters.isLoading),w=k(()=>p.getters.station),T=[{label:"Home",to:"welcome"},{label:"Radio Shows",to:"radio_shows"},{label:"News",to:"news"},{label:"Events",to:"events"},{label:"Forums",to:"forums"},{label:"About",to:"about_us"}],j=[{icon:Pe,href:"https://facebook.com/capitalfm913"},{icon:Ee,href:"https://twitter.com/capitalfm913"},{icon:Te,href:"https://instagram.com/capitalfm913"},{icon:et,href:"https://youtube.com/capitalfm913"}],f=[{freq:"91.3",location:"Kampala"},{freq:"90.9",location:"Mbale"},{freq:"88.7",location:"Mbarara"},{freq:"89.4",location:"Fort Portal"},{freq:"96.9",location:"Gulu"},{freq:"92.7",location:"Arua"}],V=k(()=>{var B,S;if(!((S=(B=w.value)==null?void 0:B.schedule)!=null&&S.sessions))return null;const _=d(),r=w.value.schedule.sessions[_]||[],U=C();return r.find($=>O(U,$.start_time,$.end_time))}),d=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],C=()=>{const _=new Date;return`${_.getHours().toString().padStart(2,"0")}:${_.getMinutes().toString().padStart(2,"0")}`},O=(_,r,U)=>{const B=_.replace(":",""),S=r.replace(":",""),$=U.replace(":","");return $<S?B>=S||B<=$:B>=S&&B<=$},R=()=>{var U,B;if(!((B=(U=V.value)==null?void 0:U.program)!=null&&B.hosts))return"Live Presenters";const _=V.value.hosts||[],r=V.value.program.hosts.filter(S=>_.includes(S.id));return r.length>0?r.map(S=>S.name).join(" & "):"Live Presenters"},Z=async()=>{try{await p.dispatch("togglePlayPause")}catch(_){console.error("Failed to toggle playback:",_),X("Failed to control audio player","error")}},J=async()=>{if(!(!g.value||u.value)){u.value=!0,v.value="";try{await new Promise(_=>setTimeout(_,1500)),N.value=!0,v.value="Successfully subscribed to newsletter!",X("Successfully subscribed to newsletter!","success"),g.value=""}catch(_){console.error("Newsletter subscription failed:",_),N.value=!1,v.value="Failed to subscribe. Please try again.",X("Failed to subscribe to newsletter","error")}finally{u.value=!1,setTimeout(()=>{v.value=""},5e3)}}},X=(_,r="success")=>{b.value={show:!0,message:_,type:r},setTimeout(()=>{b.value.show=!1},3e3)},W=()=>{b.value.show=!1};return ue(()=>{}),(_,r)=>{var B,S;const U=be("router-link");return t(),s("footer",Lt,[r[17]||(r[17]=se('<div class="absolute inset-0 opacity-10" data-v-285f7bce><div class="absolute top-20 left-20 w-64 h-64 bg-[#F8CB00] rounded-full blur-3xl animate-pulse" data-v-285f7bce></div><div class="absolute bottom-20 right-20 w-72 h-72 bg-red-500 rounded-full blur-3xl animate-pulse" style="animation-delay:1s;" data-v-285f7bce></div><div class="absolute top-1/2 left-1/2 w-48 h-48 bg-blue-500 rounded-full blur-3xl animate-pulse" style="animation-delay:2s;" data-v-285f7bce></div></div><div class="absolute top-0 left-0 w-full" data-v-285f7bce><svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="w-full h-16 fill-current text-white" data-v-285f7bce><path d="M0,120 C400,40 800,80 1200,20 L1200,0 L0,0 Z" data-v-285f7bce></path></svg></div>',2)),e("div",St,[e("div",Nt,[e("div",jt,[e("div",Bt,[r[2]||(r[2]=e("div",{class:"flex items-center mb-6"},[e("div",{class:"h-[80px] md:h-[130px] pt-[10px] md:pt-[20px]"},[e("img",{src:Ie,alt:"Capital FM Logo",class:"w-full h-full object-contain"})])],-1)),r[3]||(r[3]=e("p",{class:"text-gray-300 mb-6 leading-relaxed"}," Uganda's premier radio station delivering fresh hits, breaking news, and quality entertainment since 1993. Connecting communities across the nation. ",-1)),e("div",Pt,[(t(),s(H,null,D(j,($,Y)=>e("a",{key:Y,href:$.href,class:"group relative",target:"_blank",rel:"noopener noreferrer"},[r[1]||(r[1]=e("div",{class:"absolute -inset-2 bg-gradient-to-r from-[#F8CB00] to-red-500 rounded-full blur opacity-0 group-hover:opacity-60 transition duration-300"},null,-1)),e("div",Et,[(t(),F(Fe($.icon),{class:"w-5 h-5"}))])],8,Tt)),64))])]),e("div",null,[r[4]||(r[4]=e("h3",{class:"text-xl font-bold mb-6 text-white"},"Quick Links",-1)),e("ul",Mt,[(t(),s(H,null,D(T,($,Y)=>e("li",{key:Y},[x(U,{to:{name:$.to},class:"text-gray-300 hover:text-[#F8CB00] transition-colors flex items-center group"},{default:de(()=>[x(c(je),{class:"w-4 h-4 mr-2 opacity-0 group-hover:opacity-100 transition-opacity"}),Q(" "+n($.label),1)]),_:2},1032,["to"])])),64))])]),e("div",null,[r[8]||(r[8]=e("h3",{class:"text-xl font-bold mb-6 text-white"},"Get in Touch",-1)),e("div",zt,[e("div",At,[e("div",Ut,[x(c(Re),{class:"w-5 h-5 text-[#F8CB00]"})]),r[5]||(r[5]=e("div",null,[e("p",{class:"text-white font-medium"},"Studio Location"),e("p",{class:"text-gray-300 text-sm"},[Q("Plot 1A, Cooper Road"),e("br"),Q("Kisementi, Kampala, Uganda")])],-1))]),e("div",qt,[e("div",Ht,[x(c(Qe),{class:"w-5 h-5 text-red-500"})]),r[6]||(r[6]=e("div",null,[e("p",{class:"text-white font-medium"},"Call Us"),e("p",{class:"text-gray-300 text-sm"},[e("a",{href:"tel:+256703766257",class:"hover:text-[#F8CB00] transition-colors"}," Hotline: +256 703 766257 "),e("br"),e("a",{href:"tel:+256414257300",class:"hover:text-[#F8CB00] transition-colors"}," Studio: +256 414 257300 ")])],-1))]),e("div",Dt,[e("div",Vt,[x(c(Xe),{class:"w-5 h-5 text-blue-500"})]),r[7]||(r[7]=e("div",null,[e("p",{class:"text-white font-medium"},"Email Us"),e("p",{class:"text-gray-300 text-sm"},[e("a",{href:"mailto:info@capitalfm.co.ug",class:"hover:text-[#F8CB00] transition-colors"}," info@capitalfm.co.ug "),e("br"),e("a",{href:"mailto:studio@capitalfm.co.ug",class:"hover:text-[#F8CB00] transition-colors"}," studio@capitalfm.co.ug ")])],-1))])])]),e("div",null,[r[11]||(r[11]=e("h3",{class:"text-xl font-bold mb-6 text-white"},"Broadcasting Frequencies",-1)),e("div",Ot,[(t(),s(H,null,D(f,($,Y)=>e("div",{key:Y,class:"bg-gray-800/50 rounded-lg p-3 text-center hover:bg-gray-700/50 transition-colors group cursor-pointer"},[e("div",Rt,n($.freq),1),e("div",Gt,n($.location),1)])),64))]),e("div",Kt,[r[9]||(r[9]=e("h4",{class:"text-white font-semibold mb-3"},"Stay Updated",-1)),r[10]||(r[10]=e("p",{class:"text-gray-300 text-sm mb-4"},"Get the latest news, show updates, and exclusive content.",-1)),e("div",Wt,[ie(e("input",{"onUpdate:modelValue":r[0]||(r[0]=$=>g.value=$),type:"email",placeholder:"Your email",class:"flex-1 bg-gray-700/50 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#F8CB00] focus:border-transparent",onKeyup:Se(J,["enter"])},null,544),[[ne,g.value]]),e("button",{onClick:J,disabled:!g.value||u.value,class:"bg-gradient-to-r from-[#F8CB00] to-red-500 text-black font-semibold px-4 py-2 rounded-lg hover:shadow-lg hover:shadow-[#F8CB00]/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(t(),s("div",Jt)):(t(),F(c(Be),{key:1,class:"w-4 h-4"}))],8,Yt)]),v.value?(t(),s("div",{key:0,class:z(["mt-2 text-sm",N.value?"text-green-400":"text-red-400"])},n(v.value),3)):P("",!0)])])]),e("div",Xt,[e("div",Zt,[e("div",Qt,[r[12]||(r[12]=e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e("span",{class:"text-red-400 font-bold text-sm uppercase"},"ON AIR NOW")],-1)),e("div",es,[e("span",ts,n(((S=(B=V.value)==null?void 0:B.program)==null?void 0:S.title)||"Live Show"),1),e("span",ss,"with "+n(R()),1)])]),e("button",{onClick:Z,disabled:E.value,class:"bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold px-6 py-3 rounded-full hover:shadow-lg hover:shadow-red-500/30 transition-all flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"},[E.value?(t(),s("div",as)):L.value?(t(),F(c(oe),{key:1,class:"w-4 h-4 animate-bounce"})):(t(),F(c(te),{key:2,class:"w-4 h-4"})),e("span",null,n(E.value?"Connecting...":L.value?"On Air Live":"Listen Live"),1)],8,os)])]),e("div",ls,[e("div",rs,[e("div",is,[e("p",null,"© "+n(y.value)+" Capital FM Uganda. All rights reserved.",1),r[15]||(r[15]=e("p",{class:"mt-1"},"Broadcasting excellence since 1993",-1)),e("p",ns,[r[14]||(r[14]=e("span",null,"Powered by",-1)),e("a",ds,[x(c(Ye),{class:"w-4 h-4 group-hover:scale-110 transition-transform"}),r[13]||(r[13]=e("span",null,"Deepcode Innovations",-1)),x(c(pe),{class:"w-3 h-3 opacity-60 group-hover:opacity-100 transition-opacity"})])])]),r[16]||(r[16]=se('<div class="flex flex-wrap justify-center md:justify-end gap-6 text-sm" data-v-285f7bce><a href="#" class="text-gray-400 hover:text-[#F8CB00] transition-colors" data-v-285f7bce>Privacy Policy</a><a href="#" class="text-gray-400 hover:text-[#F8CB00] transition-colors" data-v-285f7bce>Terms of Service</a><a href="#" class="text-gray-400 hover:text-[#F8CB00] transition-colors" data-v-285f7bce>Advertise With Us</a><a href="#" class="text-gray-400 hover:text-[#F8CB00] transition-colors" data-v-285f7bce>Careers</a></div>',1))])])])]),r[18]||(r[18]=e("div",{class:"absolute top-1/4 left-10 w-2 h-2 bg-[#F8CB00] rounded-full animate-ping opacity-60"},null,-1)),r[19]||(r[19]=e("div",{class:"absolute top-1/2 right-20 w-2 h-2 bg-red-500 rounded-full animate-ping opacity-60",style:{"animation-delay":"1s"}},null,-1)),r[20]||(r[20]=e("div",{class:"absolute bottom-1/4 left-1/3 w-2 h-2 bg-blue-500 rounded-full animate-ping opacity-60",style:{"animation-delay":"2s"}},null,-1)),(t(),F(Ae,{to:"body"},[x(ze,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform translate-y-2 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform translate-y-2 opacity-0"},{default:de(()=>[b.value.show?(t(),s("div",cs,[e("div",us,[e("div",{class:z(["w-8 h-8 rounded-full flex items-center justify-center",b.value.type==="success"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"])},[b.value.type==="success"?(t(),F(c(Ge),{key:0,class:"h-4 w-4"})):(t(),F(c(Ke),{key:1,class:"h-4 w-4"}))],2),e("div",null,[e("p",vs,n(b.value.message),1)]),e("button",{onClick:W,class:"text-gray-400 hover:text-white"},[x(c(ce),{class:"h-4 w-4"})])])])):P("",!0)]),_:1})]))])}}},hs=Le(ms,[["__scopeId","data-v-285f7bce"]]);const ps={class:"relative overflow-hidden"},bs={class:"relative"},gs={class:"absolute inset-0"},xs={class:"absolute inset-0"},fs=["src","alt"],ys={class:"relative z-30 flex items-center min-h-[calc(100vh-6rem)] md:min-h-[calc(100vh-2rem)]"},ws={class:"container mx-auto px-4 md:px-6 mt-[calc(100vh-55rem)] md:mt-[calc(100vh-53rem)]"},_s={class:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-center"},ks={class:"lg:col-span-8 text-center lg:text-left order-2 lg:order-1"},Cs={class:"inline-flex items-center rounded-full space-x-2 bg-white/10 backdrop-blur-md px-3 md:px-4 py-2 border border-white/20 mb-4 md:mb-6"},$s={class:"text-white/90 font-medium text-xs md:text-sm uppercase tracking-wider"},Is={class:"text-xl sm:text-md md:text-1xl lg:text-3xl xl:text-4xl font-bold mb-4 md:mb-6 leading-tight"},Fs={class:"bg-gradient-to-r from-white via-yellow-100 to-white bg-clip-text text-transparent"},Ls={class:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-white/90 mb-6 md:mb-8 leading-relaxed max-w-4xl"},Ss={class:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start"},Ns=["disabled"],js={class:"relative bg-gradient-to-r from-[#F8CB00] to-red-500 px-8 py-4 rounded-2xl text-black font-bold flex items-center space-x-3 transition-all duration-300"},Bs={key:0,class:"w-5 h-5 border-2 rounded-full border-black border-t-transparent animate-spin"},Ps={key:3,class:"tracking-wide"},Ts={key:4,class:"tracking-wide"},Es={key:5,class:"tracking-wide"},Ms={class:"grid grid-cols-3 gap-4 md:gap-6 mt-8 md:mt-12 max-w-md mx-auto lg:mx-0"},zs={class:"text-center lg:text-left"},As={class:"text-2xl md:text-3xl font-bold text-white mb-1"},Us={class:"mt-8 md:mt-12"},qs={class:"grid grid-cols-3 md:grid-cols-6 gap-3 md:gap-4"},Hs={class:"relative bg-black/30 backdrop-blur-sm p-3 rounded-lg text-center border border-white/20 hover:border-yellow-400/50 transition-all duration-300 transform hover:scale-105"},Ds={class:"text-lg font-bold text-yellow-400 mb-1"},Vs={class:"text-xs text-white/70 font-medium"},Os={class:"lg:col-span-4 order-1 lg:order-2 hidden lg:block"},Rs={class:"bg-black/40 backdrop-blur-xl border border-white/20 rounded-2xl p-6 md:p-8 shadow-2xl max-w-md mx-auto"},Gs={class:"mb-6"},Ks={class:"text-white font-bold text-xl md:text-2xl mb-2"},Ws={class:"text-white/80 text-base md:text-lg mb-3"},Ys={class:"flex items-center text-white/60 text-sm"},Js={class:"space-y-3 mb-6"},Xs=["disabled"],Zs={class:"relative bg-gradient-to-r from-[#F8CB00] to-red-500 px-8 py-4 rounded-2xl text-black font-bold flex items-center space-x-3 transition-all duration-300"},Qs={key:0,class:"w-5 h-5 border-2 rounded-full border-black border-t-transparent animate-spin"},eo={key:3,class:"tracking-wide"},to={key:4,class:"tracking-wide"},so={key:5,class:"tracking-wide"},oo={class:"border-t border-white/20 pt-6"},ao={class:"space-y-3 max-h-64 overflow-y-auto custom-scrollbar"},lo=["onClick"],ro={class:"w-16 text-right mr-3"},io={class:"flex-1"},no={class:"text-xs text-white/50 font-medium"},co={class:"flex items-center gap-2"},uo={key:0,class:"flex items-center gap-2"},vo={key:1,class:"flex items-center gap-2"},mo={key:0,class:"absolute rounded-full bottom-6 md:bottom-8 left-1/2 transform -translate-x-1/2 z-30"},ho={class:"flex items-center space-x-3 bg-black/20 backdrop-blur-md px-4 py-3 rounded-full border border-white/20"},po={class:"flex space-x-2"},bo=["onClick"],go={__name:"Hero",setup(le){const p=ae(),g=Ue(),u=I(0),v=I(null),N=I(null),b=k(()=>p.getters.isPlaying),y=k(()=>p.getters.isLoading),L=k(()=>p.getters.station),E=k(()=>{var a;return((a=p.getters.adverts)==null?void 0:a.data)||[]}),w=k(()=>{var a;return((a=p.getters.breakingnews)==null?void 0:a.data)||[]}),T=[{freq:"91.3",location:"Kampala"},{freq:"90.9",location:"Mbale"},{freq:"88.7",location:"Mbarara"},{freq:"89.4",location:"Fort Portal"},{freq:"96.9",location:"Gulu"},{freq:"92.7",location:"Arua"}],j=k(()=>{var o,M;if(!((M=(o=L.value)==null?void 0:o.schedule)!=null&&M.sessions))return[];const a=J();return L.value.schedule.sessions[a]||[]}),f=()=>{var o,M;if(!((M=(o=L.value)==null?void 0:o.schedule)!=null&&M.sessions))return[];const a=J();return L.value.schedule.sessions[a]||[]},V=k(()=>{const a=R();return j.value.find(o=>Z(a,o.start_time,o.end_time))}),d=k(()=>{const a=[];return E.value&&Array.isArray(E.value)&&E.value.forEach(o=>{o&&a.push({...o,type:"advert",image:o.image_url})}),w.value&&Array.isArray(w.value)&&w.value.forEach(o=>{o&&o.status&&o.state&&a.push({...o,type:"news",image:o.image_url||"/api/placeholder/1920/1080"})}),a.length===0?[{id:"fallback",title:"Capital FM 91.3",description:"Uganda's Premier Radio Station - Fresh Hits, Breaking News & Entertainment",image:"/api/placeholder/1920/1080",type:"default"}]:a}),C=k(()=>!d.value||d.value.length===0?null:d.value[u.value]||null),O=a=>{var q;if(!((q=a==null?void 0:a.program)!=null&&q.hosts))return"Live Presenters";const o=a.hosts||[],M=a.program.hosts.filter(A=>o.includes(A.id));return M.length>0?M.map(A=>A.name).join(" & "):"Live Presenters"},R=()=>{const a=new Date;return`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`},Z=(a,o,M)=>{const q=a.replace(":",""),A=o.replace(":",""),ee=M.replace(":","");return ee<A?q>=A||q<=ee:q>=A&&q<=ee},J=()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][new Date().getDay()],X=a=>{N.value=a.program},W=a=>{const o=R();return Z(o,a.start_time,a.end_time)},_=a=>R()<a.start_time,r=a=>{var q;if(!((q=a==null?void 0:a.program)!=null&&q.hosts))return"Live Presenters";const o=a.hosts||[],M=a.program.hosts.filter(A=>o.includes(A.id));return M.length>0?M.map(A=>A.name).join(" & "):"Live Presenters"},U=(a,o)=>a?a.length>o?a.substring(0,o)+"...":a:"",B=async()=>{try{await p.dispatch("togglePlayPause")}catch(a){console.error("Failed to toggle playbook:",a)}},S=()=>{var a;(a=C.value)!=null&&a.target_url&&(C.value.id&&p.dispatch("trackAdvertClick",C.value.id),window.open(C.value.target_url,"_blank"))},$=a=>{let o=a.slug;g.push({name:"news_details",params:{id:o}}),console.log(a)},Y=()=>{!d.value||d.value.length===0||(u.value=(u.value+1)%d.value.length,i())},ve=()=>{!d.value||d.value.length===0||(u.value=(u.value-1+d.value.length)%d.value.length,i())},re=a=>{!d.value||a>=d.value.length||(u.value=a,i())},m=()=>{!d.value||d.value.length<=1||(v.value=setInterval(()=>{u.value=(u.value+1)%d.value.length},7e3))},l=()=>{v.value&&(clearInterval(v.value),v.value=null)},i=()=>{l(),m()};return ue(()=>{d.value&&d.value.length>1&&m()}),Ne(()=>{l()}),(a,o)=>{var M,q,A,ee,ge,xe,fe,ye,we,_e,ke;return t(),s("div",ps,[e("div",bs,[e("div",gs,[(t(!0),s(H,null,D(d.value,(h,G)=>(t(),s("div",{key:(h==null?void 0:h.id)||G,class:z(["absolute inset-0 transition-all duration-1000 ease-in-out",G===u.value?"opacity-100 scale-100":"opacity-0 scale-110"])},[e("div",xs,[e("img",{src:(h==null?void 0:h.image_url)||(h==null?void 0:h.featured_image_url)||"/api/placeholder/1920/1080",alt:(h==null?void 0:h.title)||"Background",class:"w-full h-full object-cover"},null,8,fs),o[1]||(o[1]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/40 via-black/30 to-black/70"},null,-1)),o[2]||(o[2]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-black/50 via-transparent to-black/20"},null,-1))])],2))),128))]),e("div",ys,[e("div",ws,[e("div",_s,[e("div",ks,[e("div",Cs,[o[3]||(o[3]=e("div",{class:"w-2 h-2 bg-[#F8CB00] animate-pulse"},null,-1)),e("span",$s,n(((M=C.value)==null?void 0:M.type)==="advert"?"Featured":((q=C.value)==null?void 0:q.type)==="news"?"Breaking News":"Live Radio"),1)]),e("h1",Is,[e("span",Fs,n(U(((A=C.value)==null?void 0:A.title)||"Capital FM 91.3",60)),1)]),e("p",Ls,n(U(((ee=C.value)==null?void 0:ee.description)||"Uganda's Premier Radio Station - Fresh Hits, Breaking News & Entertainment",90)),1),e("div",Ss,[e("button",{onClick:B,disabled:y.value,class:"relative group overflow-hidden rounded-2xl"},[o[4]||(o[4]=e("div",{class:"absolute -inset-0.5 bg-gradient-to-r from-[#F8CB00] via-red-500 to-blue-500 rounded-2xl blur opacity-60 group-hover:opacity-80 transition duration-300"},null,-1)),e("div",js,[y.value?(t(),s("div",Bs)):b.value?(t(),F(c(oe),{key:1,size:20,class:"animate-bounce"})):(t(),F(c(te),{key:2,size:20})),y.value?(t(),s("span",Ps,"CONNECTING")):b.value?(t(),s("span",Ts,"LISTENING LIVE")):(t(),s("span",Es,"TUNE IN NOW"))])],8,Ns),((ge=C.value)==null?void 0:ge.type)==="advert"&&((xe=C.value)!=null&&xe.target_url)?(t(),s("button",{key:0,onClick:S,class:"group rounded-full flex items-center justify-center space-x-3 px-6 md:px-8 py-3 md:py-4 font-bold text-base md:text-lg transition-all duration-500 transform hover:scale-105 shadow-xl backdrop-blur-md border-2 bg-white/10 border-white/30 text-white hover:bg-white/20"},[x(c(pe),{size:24,class:"group-hover:scale-110 transition-transform duration-300"}),e("span",null,n(((fe=C.value)==null?void 0:fe.button_title)||"LEARN MORE"),1)])):(t(),s("button",{key:1,onClick:o[0]||(o[0]=h=>$(C.value)),class:"group rounded-full flex items-center justify-center space-x-3 px-6 md:px-8 py-3 md:py-4 font-bold text-base md:text-lg transition-all duration-500 transform hover:scale-105 shadow-xl backdrop-blur-md border-2 bg-white/10 border-white/30 text-white hover:bg-white/20"},[x(c(pe),{size:24,class:"group-hover:scale-110 transition-transform duration-300"}),o[5]||(o[5]=e("span",null,"Read Details",-1))]))]),e("div",Ms,[o[7]||(o[7]=se('<div class="text-center lg:text-left" data-v-88c719e1><div class="text-2xl md:text-3xl font-bold text-white mb-1" data-v-88c719e1>91.3</div><div class="text-xs md:text-sm text-white/70" data-v-88c719e1>MHz Frequency</div></div><div class="text-center lg:text-left" data-v-88c719e1><div class="text-2xl md:text-3xl font-bold text-white mb-1" data-v-88c719e1>24/7</div><div class="text-xs md:text-sm text-white/70" data-v-88c719e1>Broadcasting</div></div>',2)),e("div",zs,[e("div",As,n(((ye=L.value)==null?void 0:ye.listeners)||"+")+"+",1),o[6]||(o[6]=e("div",{class:"text-xs md:text-sm text-white/70"},"Listeners",-1))])]),e("div",Us,[o[9]||(o[9]=e("h3",{class:"text-white font-bold text-lg md:text-xl mb-4 text-center lg:text-left"},"Broadcasting Across Uganda",-1)),e("div",qs,[(t(),s(H,null,D(T,(h,G)=>e("div",{key:G,class:"group relative"},[o[8]||(o[8]=e("div",{class:"absolute -inset-1 bg-gradient-to-br from-yellow-500/20 to-red-500/20 rounded-lg blur opacity-0 group-hover:opacity-100 transition-opacity duration-300"},null,-1)),e("div",Hs,[e("div",Ds,n(h.freq),1),e("div",Vs,n(h.location),1)])])),64))])])]),e("div",Os,[e("div",Rs,[o[14]||(o[14]=se('<div class="flex items-center space-x-3 mb-6" data-v-88c719e1><div class="relative" data-v-88c719e1><div class="w-3 h-3 bg-red-500 animate-pulse" data-v-88c719e1></div><div class="absolute inset-0 w-3 h-3 bg-red-500 animate-ping" data-v-88c719e1></div></div><span class="text-red-400 font-bold text-sm uppercase tracking-wider" data-v-88c719e1>ON AIR NOW</span></div>',1)),e("div",Gs,[e("h3",Ks,n((we=V.value)==null?void 0:we.program.title),1),e("p",Ws,"with "+n(O(V.value)),1),e("div",Ys,[x(c(Ve),{size:16,class:"mr-2"}),e("span",null,n((_e=V.value)==null?void 0:_e.start_time)+" - "+n((ke=V.value)==null?void 0:ke.end_time),1)])]),e("div",Js,[e("button",{onClick:B,disabled:y.value,class:"relative group overflow-hidden rounded-2xl w-full"},[o[10]||(o[10]=e("div",{class:"absolute -inset-0.5 bg-gradient-to-r from-[#F8CB00] via-red-500 to-blue-500 rounded-2xl blur opacity-60 group-hover:opacity-80 transition duration-300"},null,-1)),e("div",Zs,[y.value?(t(),s("div",Qs)):b.value?(t(),F(c(oe),{key:1,size:20,class:"animate-bounce"})):(t(),F(c(te),{key:2,size:20})),y.value?(t(),s("span",eo,"CONNECTING")):b.value?(t(),s("span",to,"LISTENING LIVE")):(t(),s("span",so,"TUNE IN NOW"))])],8,Xs)]),e("div",oo,[o[13]||(o[13]=e("h4",{class:"text-white font-bold text-lg mb-4"},"Today's Programs",-1)),e("div",ao,[(t(!0),s(H,null,D(f(),(h,G)=>{var me,Ce;return t(),s("div",{key:G,onClick:Ca=>X(h),class:z(["flex items-center p-3 rounded-xl transition-all duration-300 cursor-pointer group/session transform hover:scale-[1.02]",[W(h)?"bg-gradient-to-r from-red-500/20 to-red-600/20 border-l-4 border-red-500 shadow-lg shadow-red-500/10":((me=N.value)==null?void 0:me.id)===h.program_id?"bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 border border-yellow-500/30 shadow-lg shadow-yellow-500/10":"hover:bg-white/10 border border-transparent hover:border-white/30"]])},[e("div",ro,[e("span",{class:z(["text-sm font-bold",W(h)?"text-yellow-400":"text-white/60"])},n(h.start_time),3)]),e("div",io,[e("p",{class:z(["font-bold text-sm",W(h)?"text-white":"text-white/80 group-hover/session:text-white"])},n(((Ce=h.program)==null?void 0:Ce.title)||"Live Show"),3),e("p",no,n(r(h)),1)]),e("div",co,[W(h)?(t(),s("div",uo,o[11]||(o[11]=[e("div",{class:"w-2 h-2 bg-red-500 rounded-full animate-pulse shadow-lg"},null,-1),e("span",{class:"text-xs text-red-400 font-bold"},"LIVE",-1)]))):_(h)?(t(),s("div",vo,o[12]||(o[12]=[e("div",{class:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"},null,-1),e("span",{class:"text-xs text-blue-400 font-bold"},"NEXT",-1)]))):P("",!0)])],10,lo)}),128))])])])])])])]),d.value&&d.value.length>1?(t(),s("div",mo,[e("div",ho,[e("button",{onClick:ve,class:"p-2 bg-white/10 text-white hover:bg-white/20 transition-all duration-300 rounded-lg"},[x(c(Oe),{size:18})]),e("div",po,[(t(!0),s(H,null,D(d.value,(h,G)=>(t(),s("button",{key:(h==null?void 0:h.id)||G,onClick:me=>re(G),class:z(["w-2 h-2 rounded-full transition-all duration-300",G===u.value?"bg-white w-6":"bg-white/50 hover:bg-white/75"])},null,10,bo))),128))]),e("button",{onClick:Y,class:"p-2 bg-white/10 text-white hover:bg-white/20 transition-all duration-300 rounded-lg"},[x(c(je),{size:18})])])])):P("",!0),o[15]||(o[15]=e("div",{class:"absolute bottom-0 left-0 w-full overflow-hidden",style:{transform:"translateY(1px)"}},[e("svg",{class:"w-full h-auto",preserveAspectRatio:"none",viewBox:"0 0 1200 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M0,60 C400,120 800,0 1200,60 L1200,120 L0,120 Z",fill:"white"})])],-1))])])}}},xo=Le(go,[["__scopeId","data-v-88c719e1"]]),fo={class:"fixed right-4 md:right-6 bottom-4 md:bottom-6 z-50"},yo=["title"],wo={class:"relative z-10 flex items-center justify-center h-full"},_o={key:0,class:"absolute -top-2 -left-2 bg-yellow-400 text-red-600 text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-bounce"},ko={class:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-gray-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none"},Co={class:"animate-pulse font-bold text-yellow-300"},$o={key:1,class:"absolute bottom-full bottom-3 right-0 mb-20 bg-gradient-to-r w-[200px] from-red-500 to-yellow-400 text-white text-xs font-bold px-3 py-2 rounded-xl shadow-lg animate-bounce pointer-events-none"},Io={class:"relative"},Fo={class:"text-xs opacity-90 mt-1"},Lo={key:2,class:"w-80 md:w-96 h-[500px] md:h-[600px] bg-white/95 backdrop-blur-xl rounded-2xl border-2 border-red-500/30 overflow-hidden flex flex-col shadow-2xl shadow-red-500/20"},So={class:"relative px-4 md:px-6 py-4 bg-gradient-to-r from-red-500 to-red-600 border-b-2 border-red-600/30"},No={class:"relative flex items-center justify-between"},jo={class:"flex items-center gap-3"},Bo={class:"text-xs text-white/90"},Po={class:"flex items-center gap-2"},To={class:"bg-yellow-400/90 text-red-600 text-xs px-2 md:px-3 py-1 rounded-full font-bold uppercase tracking-wider flex items-center gap-1"},Eo={key:0,class:"text-center py-8"},Mo={key:0,class:"relative inline-block"},zo={class:"text-xs text-red-600 bg-gradient-to-r from-yellow-100 to-red-50 rounded-full px-4 py-2 border border-red-200 font-medium uppercase tracking-wide"},Ao={key:0,class:"relative group"},Uo={class:"w-8 h-8 rounded-xl overflow-hidden flex-shrink-0 shadow-lg border-2 border-red-200 group-hover:border-red-400 transition-all duration-300"},qo=["src","alt"],Ho={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-red-500 to-red-600 text-white font-bold text-xs uppercase"},Do={class:"relative max-w-[75%] group/message"},Vo={key:0,class:"flex items-center gap-2 mb-1"},Oo={class:"text-sm break-words leading-relaxed"},Ro={class:"flex items-center justify-end mt-1"},Go={class:"text-xs opacity-60 font-medium"},Ko={key:0,class:"absolute top-3 -left-1 w-3 h-3 bg-white transform rotate-45 border-l-2 border-b-2 border-gray-200"},Wo={key:1,class:"absolute top-3 -right-1 w-3 h-3 bg-gradient-to-r from-red-100 to-yellow-100 transform rotate-45 border-r-2 border-t-2 border-red-300"},Yo={key:1,class:"relative group"},Jo={class:"w-8 h-8 rounded-xl overflow-hidden flex-shrink-0 shadow-lg border-2 border-yellow-300 group-hover:border-yellow-400 transition-all duration-300"},Xo=["src","alt"],Zo={key:1,class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-yellow-400 to-yellow-500 text-red-600 font-bold text-xs uppercase"},Qo={key:1,class:"flex items-center gap-2 text-gray-600 text-sm"},ea={class:"relative p-3 md:p-4 border-t-2 border-red-200 bg-gradient-to-r from-red-50 to-yellow-50"},ta={class:"relative flex gap-2"},sa={class:"flex-1 relative group"},oa=["disabled"],aa={key:0,class:"absolute bottom-full left-4 right-4 mb-2 bg-white rounded-xl border-2 border-red-200 shadow-xl p-4 max-h-40 overflow-y-auto"},la={class:"grid grid-cols-8 gap-2"},ra=["onClick"],ia={class:"mt-2 flex items-center gap-2 px-1"},na={class:"text-xs text-gray-600 font-medium"},da={key:0,class:"text-red-600"},ca={key:1},ua={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md"},va={class:"relative bg-white rounded-2xl p-6 w-full max-w-sm mx-4 border-2 border-red-300 shadow-2xl"},ma={class:"relative"},ha={class:"text-center mb-6"},pa={class:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg"},ba={class:"text-gray-600 text-sm"},ga={class:"space-y-4"},xa={key:0,class:"text-red-500 text-xs mt-2 font-medium"},fa={class:"flex gap-3 pt-4"},ya=["disabled"],wa={__name:"LiveChat",setup(le){const p=ae(),g=I(!1),u=I(null),v=I(null),N=I(""),b=I(!1);k(()=>p.getters.station.listeners);const y=I(0),L=I(!1),E=I(!1),w=I(""),T=I(!1),j=I(0),f=I({name:"",email:""}),V=["😊","😂","❤️","👍","👎","🔥","🎵","🎶","🎧","📻","🎤","🎸","🥳","😍","🤔","😮","👏","🙌","💯","✨","⭐","🌟","💫","🎯","🚗","☕","🌅","🌃","🏙️","🎪","🎭","🎨"],d=k(()=>p.getters.authuser||{name:"Guest123",avatar:""}),C=k(()=>p.getters.livechatmessages||[]),O=k(()=>p.getters.station),R=k(()=>{var l;const m=d.value;return m&&m.name&&m.email&&!((l=m.name)!=null&&l.includes("User - "))}),Z=k(()=>f.value.name.trim().length>0&&f.value.email.trim().length>0&&X(f.value.email)&&!w.value);qe(C,(m,l)=>{if(m&&m.length>0&&m.length>j.value){const i=m.length-j.value;g.value||(y.value+=i),g.value&&he(()=>{S()}),j.value=m.length}},{deep:!0,immediate:!0});const J=()=>{g.value=!g.value,g.value&&(y.value=0,T.value=!1,he(()=>{S(),v.value&&v.value.focus()}))},X=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),W=()=>{f.value.email&&!X(f.value.email)?w.value="Please enter a valid email address":w.value=""},_=()=>{R.value||(L.value=!0),T.value=!1},r=()=>{R.value||(L.value=!0),T.value=!1},U=m=>{N.value+=m,T.value=!1,v.value&&v.value.focus()},B=()=>{if(N.value.trim()===""||!R.value)return;let m={message:N.value,user_id:d.value.id,station_id:p.getters.station.id};p.dispatch("send_livechat",m),N.value="",T.value=!1,he(()=>{S()})},S=()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)},$=m=>{const l=["text-red-500","text-red-600","text-yellow-600","text-red-700","text-yellow-700","text-red-400"];let i=0;for(let o=0;o<m.length;o++)i=(i<<5)-i+m.charCodeAt(o),i|=0;const a=Math.abs(i)%l.length;return l[a]},Y=async()=>{if(W(),!!Z.value){E.value=!0;try{const m={name:f.value.name.trim(),email:f.value.email.trim()};await p.dispatch("update_user_profile",m),L.value=!1,f.value={name:"",email:""}}catch(m){console.error("Failed to update profile:",m)}finally{E.value=!1}}},ve=()=>{L.value=!1,f.value={name:"",email:""},w.value=""},re=m=>{T.value&&!m.target.closest(".emoji-picker")&&(T.value=!1)};return ue(()=>{S(),C.value&&(j.value=C.value.length);const m=setInterval(()=>{g.value&&Math.random()>.9&&(b.value=!0,setTimeout(()=>{b.value=!1},3e3))},25e3);document.addEventListener("click",re);const l=document.querySelector('input[type="email"]');l&&l.addEventListener("input",W),Ne(()=>{clearInterval(m),document.removeEventListener("click",re)})}),(m,l)=>(t(),s("div",fo,[g.value?P("",!0):(t(),s("button",{key:0,onClick:J,class:"relative w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-2xl shadow-2xl transition-all duration-300 transform hover:scale-110 group overflow-hidden animate-pulse",title:`Live Chat - ${O.value.listeners} listeners online`},[l[6]||(l[6]=e("div",{class:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center animate-pulse shadow-lg shadow-yellow-400/50"},[e("div",{class:"w-2 h-2 bg-white rounded-full"})],-1)),e("div",wo,[x(c($e),{class:"w-7 h-7 text-white animate-bounce"})]),y.value>0?(t(),s("div",_o,n(y.value>9?"9+":y.value),1)):P("",!0),e("div",ko,[e("div",Co,"💬 Chat with "+n(O.value.listeners)+" listeners!",1),l[4]||(l[4]=e("div",{class:"text-gray-300 mt-1"},"Click to join the conversation",-1)),l[5]||(l[5]=e("div",{class:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"},null,-1))])],8,yo)),g.value?P("",!0):(t(),s("div",$o,[e("div",Io,[l[7]||(l[7]=e("div",{class:"animate-pulse"},"💬 Chat with Other Listeners!",-1)),e("div",Fo,n(O.value.listeners)+" Online Now",1),l[8]||(l[8]=e("div",{class:"absolute -bottom-2 right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-red-500"},null,-1))])])),g.value?(t(),s("div",Lo,[e("div",So,[e("div",No,[e("div",jo,[l[10]||(l[10]=e("div",{class:"relative"},[e("div",{class:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse shadow-lg shadow-yellow-400/50"}),e("div",{class:"absolute inset-0 w-3 h-3 bg-yellow-400 rounded-full animate-ping opacity-30"})],-1)),e("div",null,[l[9]||(l[9]=e("h3",{class:"font-bold text-lg text-white uppercase tracking-wide"},"LIVE CHAT",-1)),e("p",Bo,n(O.value.listeners)+" listeners online 👥",1)])]),e("div",Po,[e("div",To,[l[11]||(l[11]=e("span",{class:"text-xs"},"👥",-1)),Q(" "+n(O.value.listeners),1)]),e("button",{onClick:J,class:"text-white/80 hover:text-white transition-all duration-300 p-2 rounded-xl hover:bg-white/20 group"},[x(c(ce),{class:"h-5 w-5 group-hover:rotate-90 transition-transform duration-300"})])])])]),e("div",{ref_key:"chatContainer",ref:u,class:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 bg-white scrollbar-thin scrollbar-thumb-red-400 scrollbar-track-gray-100",onClick:_},[!C.value||C.value.length===0?(t(),s("div",Eo,l[12]||(l[12]=[e("div",{class:"text-4xl mb-2"},"💬",-1),e("p",{class:"text-gray-500 text-sm"},"Welcome to Capital FM Live Chat!",-1),e("p",{class:"text-gray-400 text-xs mt-1"},"Be the first to start the conversation",-1)]))):P("",!0),(t(!0),s(H,null,D(C.value,(i,a)=>(t(),s("div",{key:i.id||a,class:z(["message-item",i.type==="system"?"text-center":""])},[i.type==="system"?(t(),s("div",Mo,[e("div",zo,[l[13]||(l[13]=e("span",{class:"mr-1"},"🔔",-1)),Q(n(i.message),1)])])):(t(),s("div",{key:1,class:z(["flex items-start gap-2",i.user.id===d.value.id?"justify-end":""])},[i.user.id!==d.value.id?(t(),s("div",Ao,[e("div",Uo,[i.user.image_url?(t(),s("img",{key:0,src:i.user.image_url,alt:i.user.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,qo)):(t(),s("div",Ho,n(i.user.name.charAt(0).toUpperCase()),1))]),l[14]||(l[14]=e("div",{class:"absolute -bottom-1 -right-1 w-2.5 h-2.5 bg-yellow-400 rounded-full border-2 border-white animate-pulse",title:"Online listener"},null,-1))])):P("",!0),e("div",Do,[e("div",{class:z([i.user.id===d.value.id?"bg-gradient-to-r from-red-100 to-yellow-100 text-red-800 border-red-300":"bg-white text-gray-800 border-gray-200 shadow-sm","rounded-2xl px-3 py-2 border-2 transition-all duration-300 group-hover/message:scale-[1.02] group-hover/message:shadow-md"])},[i.user.id!==d.value.id?(t(),s("div",Vo,[e("span",{class:z(["text-xs font-bold uppercase tracking-wider",$(i.user.name)])},n(i.user.name),3),l[15]||(l[15]=e("span",{class:"text-xs text-gray-400"},"🎧",-1))])):P("",!0),e("p",Oo,n(i.message),1),e("div",Ro,[e("span",Go,n(i.created_at),1)])],2),i.user.id!==d.value.id?(t(),s("div",Ko)):(t(),s("div",Wo))]),i.user.id===d.value.id?(t(),s("div",Yo,[e("div",Jo,[d.value.image_url?(t(),s("img",{key:0,src:d.value.image_url,alt:d.value.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,Xo)):(t(),s("div",Zo,n(d.value.name.charAt(0).toUpperCase()),1))]),l[16]||(l[16]=e("div",{class:"absolute -bottom-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white",title:"You"},null,-1))])):P("",!0)],2))],2))),128)),b.value?(t(),s("div",Qo,l[17]||(l[17]=[se('<div class="w-6 h-6 rounded-xl overflow-hidden flex-shrink-0 shadow-md border-2 border-gray-200"><div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-red-500 to-red-600 text-white font-bold text-xs"> DJ </div></div><div class="flex items-center gap-2"><span class="font-medium">Someone is typing</span><div class="flex gap-1"><span class="w-1 h-1 bg-red-500 rounded-full animate-bounce"></span><span class="w-1 h-1 bg-yellow-400 rounded-full animate-bounce" style="animation-delay:0.2s;"></span><span class="w-1 h-1 bg-red-400 rounded-full animate-bounce" style="animation-delay:0.4s;"></span></div></div>',2)]))):P("",!0)],512),e("div",ea,[e("div",ta,[e("button",{onClick:l[0]||(l[0]=i=>T.value=!T.value),class:"flex-shrink-0 p-3 bg-yellow-400 hover:bg-yellow-500 text-red-600 rounded-xl transition-all duration-300 transform hover:scale-105",title:"Add emoji"}," 😊 "),e("div",sa,[ie(e("input",{ref_key:"messageInput",ref:v,"onUpdate:modelValue":l[1]||(l[1]=i=>N.value=i),type:"text",placeholder:"Share your thoughts... 💭",class:"w-full bg-white border-2 border-red-200 rounded-xl py-3 px-4 pr-10 text-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 placeholder-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 group-hover:border-red-300",onKeyup:Se(B,["enter"]),onClick:r,maxlength:"500"},null,544),[[ne,N.value]]),l[18]||(l[18]=e("div",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 group-hover:text-gray-600 transition-colors"},[e("div",{class:"w-2 h-2 bg-current rounded-full opacity-50"})],-1))]),e("button",{onClick:B,disabled:!R.value||!N.value.trim(),class:"relative bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold p-3 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 shadow-lg hover:shadow-red-500/30 group overflow-hidden",title:"Send message"},[x(c(Be),{class:"h-5 w-5 relative z-10 group-hover:translate-x-0.5 transition-transform duration-300"})],8,oa)]),T.value?(t(),s("div",aa,[e("div",la,[(t(),s(H,null,D(V,i=>e("button",{key:i,onClick:a=>U(i),class:"p-2 hover:bg-red-50 rounded-lg transition-colors text-lg"},n(i),9,ra)),64))])])):P("",!0),e("div",ia,[x(c(We),{class:"h-3 w-3 text-gray-500"}),e("span",na,[R.value?(t(),s("span",ca,"Chat with "+n(O.value.listeners)+" listeners • Keep it friendly 🎵",1)):(t(),s("span",da,"Complete your profile to join the conversation 👆"))])])])])):P("",!0),L.value?(t(),s("div",ua,[e("div",va,[e("div",ma,[e("div",ha,[e("div",pa,[x(c($e),{class:"h-8 w-8 text-white"})]),l[19]||(l[19]=e("h3",{class:"text-xl font-bold text-red-600 mb-2 uppercase tracking-wide"},"JOIN THE CHAT 💬",-1)),e("p",ba,"Complete your profile to start chatting with "+n(O.value.listeners)+" other listeners",1)]),e("div",ga,[e("div",null,[l[20]||(l[20]=e("label",{class:"block text-sm font-bold text-red-600 mb-2 uppercase tracking-wider"},"FULL NAME",-1)),ie(e("input",{"onUpdate:modelValue":l[2]||(l[2]=i=>f.value.name=i),type:"text",required:"",class:"w-full bg-red-50 border-2 border-red-200 rounded-xl py-3 px-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Enter your full name"},null,512),[[ne,f.value.name]])]),e("div",null,[l[21]||(l[21]=e("label",{class:"block text-sm font-bold text-red-600 mb-2 uppercase tracking-wider"},"EMAIL ADDRESS",-1)),ie(e("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>f.value.email=i),type:"email",required:"",class:"w-full bg-red-50 border-2 border-red-200 rounded-xl py-3 px-4 text-gray-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Enter your email address"},null,512),[[ne,f.value.email]]),w.value?(t(),s("div",xa,n(w.value),1)):P("",!0)]),e("div",fa,[e("button",{onClick:Y,disabled:E.value||!Z.value,class:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-3 px-4 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 shadow-lg hover:shadow-red-500/30 uppercase tracking-wide"},n(E.value?"UPDATING...":"JOIN CHAT 🚀"),9,ya),e("button",{onClick:ve,class:"px-4 py-3 bg-gray-100 hover:bg-gray-200 transition-all duration-300 rounded-xl text-gray-700 font-medium border-2 border-gray-200 hover:border-gray-300"}," Cancel ")])])])])])):P("",!0)]))}},_a={class:"relative overflow-hidden bg-transparent"},ka={class:"relative z-10"},za={__name:"main",setup(le){const p=ae();let g=null;const u=()=>{const b=p.getters.station;if(!(b!=null&&b.id))return;const y={station_id:b.id};p.dispatch("fetch_adverts",y),p.dispatch("fetch_breaking_news",y)},v=async()=>{const b={access_link:"https://capitalradio.co.ug"};await p.dispatch("fetch_station_details",b)},N=()=>{g=setInterval(v,18e4)};return ue(async()=>{await u(),await v(),N()}),He(()=>{g&&clearInterval(g)}),(b,y)=>{const L=be("router-view");return t(),s("div",_a,[x(Ft,{style:{"background-color":"transparent !important"}}),b.$route.name=="welcome"?(t(),F(xo,{key:0,style:{"margin-top":"-5rem !important"}})):P("",!0),e("main",ka,[x(L)]),x(wa),x(hs)])}}};export{za as default};
