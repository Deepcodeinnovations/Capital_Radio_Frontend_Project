{"version":3,"file":"Podcasts-DJNsFEs7.js","sources":["../../node_modules/lucide-vue-next/dist/esm/icons/volume-1.js","../../src/views/app/podcasts/Podcasts.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Volume1 = createLucideIcon(\"volume-1\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }]\n]);\n\nexport { Volume1 as default };\n//# sourceMappingURL=volume-1.js.map\n","<template>\r\n  <div class=\"\">\r\n    <!-- Header -->\r\n    <div class=\"mb-6\">\r\n      <div class=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 class=\"text-2xl font-bold text-gray-900 dark:text-white\">Session Recordings</h1>\r\n          <p class=\"text-gray-600 dark:text-gray-400 mt-1\">Manage radio session recordings and playback</p>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button\r\n            @click=\"fetchSessionRecordings\"\r\n            class=\"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n          >\r\n            <RadioIcon class=\"w-5 h-5 mr-2\" />\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters -->\r\n    <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6\">\r\n      <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Station</label>\r\n          <select\r\n            v-model=\"filters.station_id\"\r\n            @change=\"applyFilters\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"\">All Stations</option>\r\n            <option v-for=\"station in stations?.data\" :key=\"station.id\" :value=\"station.id\">\r\n              {{ station.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        \r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Program</label>\r\n          <select\r\n            v-model=\"filters.program_id\"\r\n            @change=\"applyFilters\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"\">All Programs</option>\r\n            <option v-for=\"program in programs?.data\" :key=\"program.id\" :value=\"program.id\">\r\n              {{ program.title }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Recording Status</label>\r\n          <select\r\n            v-model=\"filters.recording_status\"\r\n            @change=\"applyFilters\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"\">All Status</option>\r\n            <option value=\"scheduled\">Scheduled</option>\r\n            <option value=\"recording\">Recording</option>\r\n            <option value=\"completed\">Completed</option>\r\n            <option value=\"failed\">Failed</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Day</label>\r\n          <select\r\n            v-model=\"filters.day_of_week\"\r\n            @change=\"applyFilters\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\r\n          >\r\n            <option value=\"\">All Days</option>\r\n            <option value=\"monday\">Monday</option>\r\n            <option value=\"tuesday\">Tuesday</option>\r\n            <option value=\"wednesday\">Wednesday</option>\r\n            <option value=\"thursday\">Thursday</option>\r\n            <option value=\"friday\">Friday</option>\r\n            <option value=\"saturday\">Saturday</option>\r\n            <option value=\"sunday\">Sunday</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Session Date</label>\r\n          <input\r\n            v-model=\"filters.session_date\"\r\n            @change=\"applyFilters\"\r\n            type=\"date\"\r\n            class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"flex justify-end mt-4\">\r\n        <button\r\n          @click=\"resetFilters\"\r\n          class=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white\"\r\n        >\r\n          Reset Filters\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Recordings Table -->\r\n    <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden\">\r\n      <div class=\"overflow-x-auto\">\r\n        <table class=\"w-full\">\r\n          <thead class=\"bg-gray-50 dark:bg-gray-700\">\r\n            <tr>\r\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Session Info</th>\r\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Schedule</th>\r\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Recording Status</th>\r\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">File Info</th>\r\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody class=\"divide-y divide-gray-200 dark:divide-gray-600\">\r\n            <!-- Loading State -->\r\n            <tr v-if=\"loading === 'fetch_session_recordings'\" v-for=\"n in 5\" :key=\"n\" class=\"animate-pulse\">\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"flex items-center\">\r\n                  <div class=\"w-10 h-10 bg-gray-200 dark:bg-gray-600 rounded-lg\"></div>\r\n                  <div class=\"ml-4\">\r\n                    <div class=\"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32 mb-2\"></div>\r\n                    <div class=\"h-3 bg-gray-200 dark:bg-gray-600 rounded w-24\"></div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"h-4 bg-gray-200 dark:bg-gray-600 rounded w-24 mb-2\"></div>\r\n                <div class=\"h-3 bg-gray-200 dark:bg-gray-600 rounded w-16\"></div>\r\n              </td>\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"h-6 bg-gray-200 dark:bg-gray-600 rounded w-20\"></div>\r\n              </td>\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"h-4 bg-gray-200 dark:bg-gray-600 rounded w-16\"></div>\r\n              </td>\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"flex gap-2\">\r\n                  <div class=\"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded\"></div>\r\n                  <div class=\"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded\"></div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n\r\n            <!-- Data Rows -->\r\n            <tr v-else-if=\"sessionRecordings?.data?.length\" v-for=\"recording in sessionRecordings.data\" :key=\"recording.id\" class=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"flex items-center\">\r\n                  <div class=\"relative\">\r\n                    <div :class=\"[\r\n                      'w-10 h-10 rounded-lg flex items-center justify-center',\r\n                      getRecordingStatusColor(recording.recording_status)\r\n                    ]\">\r\n                      <MicIcon class=\"w-5 h-5 text-white\" />\r\n                    </div>\r\n                    <div v-if=\"recording.recording_status === 'recording'\" class=\"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-pulse\"></div>\r\n                  </div>\r\n                  <div class=\"ml-4\">\r\n                    <div class=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      {{ recording.station?.name || 'Unknown Station' }}\r\n                    </div>\r\n                    <div class=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                      {{ recording.program?.title || 'Unknown Program' }}\r\n                    </div>\r\n                    <div class=\"text-xs text-purple-600 dark:text-purple-400 capitalize\">\r\n                      {{ recording.day_of_week }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              \r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"text-sm text-gray-900 dark:text-white\">\r\n                  {{ formatDate(recording.session_date) }}\r\n                </div>\r\n                <div class=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                  <ClockIcon class=\"w-3 h-3 inline mr-1\" />\r\n                  {{ recording.scheduled_start_time ? formatTime(recording.scheduled_start_time) : 'N/A' }} - \r\n                  {{ recording.scheduled_end_time ? formatTime(recording.scheduled_end_time) : 'N/A' }}\r\n                </div>\r\n                <div v-if=\"recording.actual_start_time\" class=\"text-xs text-green-600 dark:text-green-400\">\r\n                  Started: {{ formatTime(recording.actual_start_time) }}\r\n                </div>\r\n              </td>\r\n\r\n              <td class=\"px-6 py-4\">\r\n                <span :class=\"[\r\n                  'inline-flex px-2 py-1 text-xs font-semibold rounded-full',\r\n                  getRecordingStatusBadge(recording.recording_status)\r\n                ]\">\r\n                  {{ recording.recording_status || 'Unknown' }}\r\n                </span>\r\n                <div v-if=\"recording.error_message\" class=\"text-xs text-red-500 mt-1\">\r\n                  {{ recording.error_message }}\r\n                </div>\r\n                <div v-if=\"recording.duration_minutes\" class=\"text-xs text-gray-500 mt-1\">\r\n                  Duration: {{ recording.duration_minutes }}m\r\n                </div>\r\n              </td>\r\n\r\n              <td class=\"px-6 py-4\">\r\n                <div v-if=\"recording.recording_file_url\" class=\"space-y-2\">\r\n                  <div class=\"text-sm text-gray-900 dark:text-white\">\r\n                    {{ recording.file_size_mb ? `${recording.file_size_mb} MB` : 'File available' }}\r\n                  </div>\r\n                  <div class=\"text-xs text-gray-500\">\r\n                    {{ recording.audio_format?.toUpperCase() || 'MP3' }} â€¢ {{ recording.audio_quality || '128kbps' }}\r\n                  </div>\r\n                  \r\n                  <!-- Audio Player Controls -->\r\n                  <div class=\"flex items-center gap-2\">\r\n                    <button\r\n                      @click=\"togglePlayback(recording)\"\r\n                      :class=\"[\r\n                        'flex items-center justify-center w-8 h-8 rounded-full transition-colors',\r\n                        currentPlayingId === recording.id && isPlaying\r\n                          ? 'bg-red-500 hover:bg-red-600 text-white'\r\n                          : 'bg-green-500 hover:bg-green-600 text-white'\r\n                      ]\"\r\n                      :title=\"currentPlayingId === recording.id && isPlaying ? 'Pause' : 'Play'\"\r\n                    >\r\n                      <PlayIcon v-if=\"currentPlayingId !== recording.id || !isPlaying\" class=\"w-4 h-4 ml-0.5\" />\r\n                      <PauseIcon v-else class=\"w-4 h-4\" />\r\n                    </button>\r\n                    \r\n                    <a \r\n                      :href=\"recording.recording_file_url\" \r\n                      download\r\n                      class=\"flex items-center justify-center w-8 h-8 rounded-full bg-blue-500 hover:bg-blue-600 text-white transition-colors\"\r\n                      title=\"Download\"\r\n                    >\r\n                      <DownloadIcon class=\"w-4 h-4\" />\r\n                    </a>\r\n                  </div>\r\n\r\n                  <!-- Audio Progress Bar (shown when playing this recording) -->\r\n                  <div v-if=\"currentPlayingId === recording.id\" class=\"space-y-1\">\r\n                    <div class=\"flex items-center justify-between text-xs text-gray-500\">\r\n                      <span>{{ formatAudioTime(currentTime) }}</span>\r\n                      <span>{{ formatAudioTime(duration) }}</span>\r\n                    </div>\r\n                    <div class=\"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2 cursor-pointer\" @click=\"seekAudio($event)\">\r\n                      <div \r\n                        class=\"bg-purple-600 h-2 rounded-full transition-all duration-300\" \r\n                        :style=\"{ width: `${audioProgress}%` }\"\r\n                      ></div>\r\n                    </div>\r\n                    <div class=\"flex items-center justify-between\">\r\n                      <div class=\"flex items-center gap-2\">\r\n                        <button\r\n                          @click=\"changeVolume(volume - 0.1)\"\r\n                          class=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n                        >\r\n                          <VolumeXIcon v-if=\"volume === 0\" class=\"w-4 h-4\" />\r\n                          <Volume1Icon v-else-if=\"volume < 0.5\" class=\"w-4 h-4\" />\r\n                          <Volume2Icon v-else class=\"w-4 h-4\" />\r\n                        </button>\r\n                        <input\r\n                          type=\"range\"\r\n                          min=\"0\"\r\n                          max=\"1\"\r\n                          step=\"0.1\"\r\n                          :value=\"volume\"\r\n                          @input=\"changeVolume($event.target.value)\"\r\n                          class=\"w-16 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-600\"\r\n                        />\r\n                        <button\r\n                          @click=\"changeVolume(volume + 0.1)\"\r\n                          class=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n                        >\r\n                          <Volume2Icon class=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                      <div class=\"text-xs text-gray-500\">\r\n                        {{ Math.round(volume * 100) }}%\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div v-else class=\"text-sm text-gray-400\">\r\n                  No file available\r\n                </div>\r\n              </td>\r\n\r\n              <td class=\"px-6 py-4\">\r\n                <div class=\"flex items-center gap-2\">\r\n                  <button\r\n                    @click=\"toggleRecordingStatus(recording)\"\r\n                    :class=\"[\r\n                      'p-2 rounded-lg transition-colors',\r\n                      recording.status \r\n                        ? 'text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20' \r\n                        : 'text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20'\r\n                    ]\"\r\n                    :title=\"recording.status ? 'Deactivate' : 'Activate'\"\r\n                  >\r\n                    <RadioIcon class=\"w-4 h-4\" />\r\n                  </button>\r\n                  \r\n                  <button\r\n                    @click=\"deleteRecording(recording)\"\r\n                    class=\"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\r\n                    title=\"Delete Recording\"\r\n                  >\r\n                    <TrashIcon class=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n\r\n            <!-- Empty State -->\r\n            <tr v-else>\r\n              <td colspan=\"5\" class=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                <MicIcon class=\"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-gray-600\" />\r\n                <p class=\"text-lg font-medium\">No session recordings found</p>\r\n                <p class=\"mt-2\">Recordings will appear here when sessions are scheduled</p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div v-if=\"sessionRecordings?.pagination\" class=\"px-6 py-3 bg-gray-50 dark:bg-gray-700 flex items-center justify-between\">\r\n        <div class=\"text-sm text-gray-700 dark:text-gray-300\">\r\n          Showing {{ sessionRecordings.pagination.from }} to {{ sessionRecordings.pagination.to }} of {{ sessionRecordings.pagination.total }} results\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button\r\n            @click=\"changePage(sessionRecordings.pagination.current_page - 1)\"\r\n            :disabled=\"!sessionRecordings.pagination.has_prev\"\r\n            class=\"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600\"\r\n          >\r\n            Previous\r\n          </button>\r\n          \r\n          <button\r\n            v-for=\"page in visiblePages\"\r\n            :key=\"page\"\r\n            @click=\"changePage(page)\"\r\n            :class=\"[\r\n              'px-3 py-1 text-sm border rounded',\r\n              page === sessionRecordings.pagination.current_page\r\n                ? 'bg-purple-600 text-white border-purple-600'\r\n                : 'hover:bg-gray-100 dark:hover:bg-gray-600'\r\n            ]\"\r\n          >\r\n            {{ page }}\r\n          </button>\r\n          \r\n          <button\r\n            @click=\"changePage(sessionRecordings.pagination.current_page + 1)\"\r\n            :disabled=\"!sessionRecordings.pagination.has_next\"\r\n            class=\"px-3 py-1 text-sm border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-600\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, reactive } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport {\r\n  Radio as RadioIcon,\r\n  Mic as MicIcon,\r\n  Clock as ClockIcon,\r\n  Play as PlayIcon,\r\n  Pause as PauseIcon,\r\n  Download as DownloadIcon,\r\n  Volume2 as Volume2Icon,\r\n  Volume1 as Volume1Icon,\r\n  VolumeX as VolumeXIcon,\r\n  Trash as TrashIcon,\r\n} from 'lucide-vue-next';\r\n\r\nconst store = useStore();\r\n\r\n// Computed properties from store\r\nconst sessionRecordings = computed(() => store.getters.sessionRecordings);\r\nconst programs = computed(() => store.getters.programs);\r\nconst stations = computed(() => store.getters.stations);\r\nconst loading = computed(() => store.getters.loading);\r\n\r\n// Reactive state\r\nconst currentPage = ref(1);\r\nconst filters = reactive({\r\n  station_id: '',\r\n  program_id: '',\r\n  recording_status: '',\r\n  day_of_week: '',\r\n  session_date: ''\r\n});\r\n\r\n// Audio player state\r\nconst audioPlayer = ref(null);\r\nconst currentPlayingId = ref(null);\r\nconst isPlaying = ref(false);\r\nconst currentTime = ref(0);\r\nconst duration = ref(0);\r\nconst volume = ref(0.8);\r\nconst audioProgress = computed(() => {\r\n  return duration.value > 0 ? (currentTime.value / duration.value) * 100 : 0;\r\n});\r\n\r\n// Computed pagination\r\nconst visiblePages = computed(() => {\r\n  if (!sessionRecordings.value?.pagination) return []\r\n  const current = sessionRecordings.value.pagination.current_page\r\n  const last = sessionRecordings.value.pagination.last_page || sessionRecordings.value.pagination.total_pages\r\n  const pages = []\r\n  const maxVisible = 5\r\n  \r\n  let start = Math.max(1, current - Math.floor(maxVisible / 2))\r\n  let end = Math.min(last, start + maxVisible - 1)\r\n  \r\n  if (end - start + 1 < maxVisible) {\r\n    start = Math.max(1, end - maxVisible + 1)\r\n  }\r\n  \r\n  for (let i = start; i <= end; i++) {\r\n    pages.push(i)\r\n  }\r\n  \r\n  return pages\r\n});\r\n\r\n// Methods\r\nconst fetchSessionRecordings = async () => {\r\n  try {\r\n    await store.dispatch('fetch_session_recordings', {\r\n      data: {\r\n        ...filters,\r\n        page: currentPage.value,\r\n        per_page: 20\r\n      },\r\n      page: currentPage.value\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch session recordings:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load session recordings');\r\n  }\r\n};\r\n\r\nconst fetchPrograms = async () => {\r\n  try {\r\n    await store.dispatch('fetch_programs', {\r\n      data: { per_page: 50 },\r\n      page: 1\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch programs:', error);\r\n  }\r\n};\r\n\r\nconst fetchStations = async () => {\r\n  try {\r\n    await store.dispatch('fetch_stations', {\r\n      data: { per_page: 50 },\r\n      page: 1\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch stations:', error);\r\n  }\r\n};\r\n\r\nconst changePage = (page) => {\r\n  if (page >= 1 && page <= (sessionRecordings.value.pagination.last_page || sessionRecordings.value.pagination.total_pages)) {\r\n    currentPage.value = page;\r\n    fetchSessionRecordings();\r\n  }\r\n};\r\n\r\nconst applyFilters = () => {\r\n  currentPage.value = 1;\r\n  fetchSessionRecordings();\r\n};\r\n\r\nconst resetFilters = () => {\r\n  Object.keys(filters).forEach(key => {\r\n    filters[key] = '';\r\n  });\r\n  currentPage.value = 1;\r\n  fetchSessionRecordings();\r\n};\r\n\r\nconst deleteRecording = async (recording) => {\r\n  if (confirm(`Are you sure you want to delete this recording from ${formatDate(recording.session_date)}?`)) {\r\n    try {\r\n      await store.dispatch('delete_session_recording', {\r\n        id: recording.id,\r\n        data: {}\r\n      });\r\n      \r\n      store.dispatch('template_play_delete_file', 'Recording deleted successfully');\r\n      fetchSessionRecordings();\r\n    } catch (error) {\r\n      console.error('Failed to delete recording:', error);\r\n      store.dispatch('template_play_error_file', 'Failed to delete recording');\r\n    }\r\n  }\r\n};\r\n\r\nconst toggleRecordingStatus = async (recording) => {\r\n  try {\r\n    await store.dispatch('toggle_session_recording_status', {\r\n      id: recording.id,\r\n      data: {}\r\n    });\r\n    \r\n    const statusText = recording.status ? 'deactivated' : 'activated';\r\n    store.dispatch('template_play_success_file', `Recording ${statusText} successfully`);\r\n    fetchSessionRecordings();\r\n  } catch (error) {\r\n    console.error('Failed to toggle recording status:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to update recording status');\r\n  }\r\n};\r\n\r\n// Audio player methods\r\nconst togglePlayback = async (recording) => {\r\n  if (currentPlayingId.value === recording.id) {\r\n    // Toggle play/pause for current recording\r\n    if (isPlaying.value) {\r\n      pauseAudio();\r\n    } else {\r\n      playAudio();\r\n    }\r\n  } else {\r\n    // Start playing new recording\r\n    await loadAndPlayAudio(recording);\r\n  }\r\n};\r\n\r\nconst loadAndPlayAudio = async (recording) => {\r\n  try {\r\n    // Stop current audio if playing\r\n    if (audioPlayer.value) {\r\n      audioPlayer.value.pause();\r\n      audioPlayer.value = null;\r\n    }\r\n    \r\n    // Create new audio element\r\n    audioPlayer.value = new Audio(recording.recording_file_url);\r\n    currentPlayingId.value = recording.id;\r\n    \r\n    // Set up event listeners\r\n    audioPlayer.value.addEventListener('loadedmetadata', () => {\r\n      duration.value = audioPlayer.value.duration;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('timeupdate', () => {\r\n      currentTime.value = audioPlayer.value.currentTime;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('ended', () => {\r\n      isPlaying.value = false;\r\n      currentTime.value = 0;\r\n      currentPlayingId.value = null;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('error', (e) => {\r\n      console.error('Audio playback error:', e);\r\n      store.dispatch('template_play_error_file', 'Failed to play audio file');\r\n      isPlaying.value = false;\r\n      currentPlayingId.value = null;\r\n    });\r\n    \r\n    // Set volume and play\r\n    audioPlayer.value.volume = volume.value;\r\n    await audioPlayer.value.play();\r\n    isPlaying.value = true;\r\n    \r\n  } catch (error) {\r\n    console.error('Failed to load audio:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load audio file');\r\n    isPlaying.value = false;\r\n    currentPlayingId.value = null;\r\n  }\r\n};\r\n\r\nconst playAudio = async () => {\r\n  if (audioPlayer.value) {\r\n    try {\r\n      await audioPlayer.value.play();\r\n      isPlaying.value = true;\r\n    } catch (error) {\r\n      console.error('Failed to play audio:', error);\r\n      store.dispatch('template_play_error_file', 'Failed to play audio');\r\n    }\r\n  }\r\n};\r\n\r\nconst pauseAudio = () => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.pause();\r\n    isPlaying.value = false;\r\n  }\r\n};\r\n\r\nconst seekAudio = (event) => {\r\n  if (audioPlayer.value && duration.value > 0) {\r\n    const rect = event.currentTarget.getBoundingClientRect();\r\n    const clickX = event.clientX - rect.left;\r\n    const width = rect.width;\r\n    const seekTime = (clickX / width) * duration.value;\r\n    \r\n    audioPlayer.value.currentTime = seekTime;\r\n    currentTime.value = seekTime;\r\n  }\r\n};\r\n\r\nconst changeVolume = (newVolume) => {\r\n  const vol = Math.max(0, Math.min(1, parseFloat(newVolume)));\r\n  volume.value = vol;\r\n  \r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.volume = vol;\r\n  }\r\n};\r\n\r\nconst formatAudioTime = (seconds) => {\r\n  if (isNaN(seconds)) return '0:00';\r\n  \r\n  const minutes = Math.floor(seconds / 60);\r\n  const remainingSeconds = Math.floor(seconds % 60);\r\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n};\r\n\r\n// Utility functions\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'No date';\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\nconst formatTime = (timeString) => {\r\n  if (!timeString) return 'No time';\r\n  const date = new Date(timeString);\r\n  return date.toLocaleTimeString('en-US', {\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n};\r\n\r\nconst getRecordingStatusColor = (status) => {\r\n  switch (status) {\r\n    case 'recording': return 'bg-red-500';\r\n    case 'completed': return 'bg-green-500';\r\n    case 'scheduled': return 'bg-blue-500';\r\n    case 'failed': return 'bg-red-600';\r\n    default: return 'bg-gray-500';\r\n  }\r\n};\r\n\r\nconst getRecordingStatusBadge = (status) => {\r\n  switch (status) {\r\n    case 'recording': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\r\n    case 'completed': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\r\n    case 'scheduled': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n    case 'failed': return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\r\n    default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200';\r\n  }\r\n};\r\n\r\n// Initialize component\r\nonMounted(async () => {\r\n  try {\r\n    await Promise.all([\r\n      fetchSessionRecordings(),\r\n      fetchPrograms(),\r\n      fetchStations()\r\n    ]);\r\n  } catch (error) {\r\n    console.error('Failed to initialize session recordings:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load session recordings data');\r\n  }\r\n});\r\n\r\n// Cleanup audio when component unmounts\r\nonUnmounted(() => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.pause();\r\n    audioPlayer.value = null;\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.line-clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style>"],"names":["Volume1","createLucideIcon","store","useStore","sessionRecordings","computed","programs","stations","loading","currentPage","ref","filters","reactive","audioPlayer","currentPlayingId","isPlaying","currentTime","duration","volume","audioProgress","visiblePages","_a","current","last","pages","maxVisible","start","end","i","fetchSessionRecordings","error","fetchPrograms","fetchStations","changePage","page","applyFilters","resetFilters","key","deleteRecording","recording","formatDate","toggleRecordingStatus","statusText","togglePlayback","pauseAudio","playAudio","loadAndPlayAudio","e","seekAudio","event","rect","clickX","width","seekTime","changeVolume","newVolume","vol","formatAudioTime","seconds","minutes","remainingSeconds","dateString","formatTime","timeString","getRecordingStatusColor","status","getRecordingStatusBadge","onMounted","onUnmounted"],"mappings":"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","x_google_ignoreList":[0]}