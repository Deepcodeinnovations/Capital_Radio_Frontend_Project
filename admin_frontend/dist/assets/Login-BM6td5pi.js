import{u as C,e as P,f as V,g as b,h as M,i as S,w as D,r as T,c as x,o as l,b as e,j,d as n,k as o,t as v,l as u,v as w,n as h,m as B,p as y,q as N,s as c,x as U,y as q}from"./index-xh6Kq0Kr.js";import{S as k}from"./shield-CwJg7_bM.js";import{C as z}from"./circle-alert-k5NeBr3Z.js";import{M as F}from"./mail-i_hkICoG.js";import{L as I}from"./lock-4Az48_zf.js";import{E as O}from"./eye-BQrvatmT.js";import{E as R}from"./eye-off-D_0WAl0J.js";import{L as K}from"./loader-B-oRPTg4.js";import{T as Y}from"./triangle-alert-D3Yw0v7U.js";import"./createLucideIcon-BvNgPl9c.js";const $={class:"max-w-md w-full space-y-6 bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm p-10 rounded-xl shadow-2xl border border-purple-200 dark:border-slate-700"},G={class:"text-center"},H={class:"mx-auto w-12 h-12 bg-gradient-to-r from-purple-600 to-orange-500 rounded-full flex items-center justify-center mb-4"},J={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Q={class:"flex items-center"},W={class:"text-sm text-red-700 dark:text-red-400"},X={class:"space-y-5"},Z={class:"relative"},ee={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},re={class:"flex items-center justify-between mb-2"},te={class:"relative"},se={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ae=["type"],oe={class:"flex items-center"},le=["disabled"],ne={class:"mt-8 p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg"},ie={class:"flex"},he={__name:"Login",setup(de){const f=C(),_=P(),t=V({email:"",password:"",remember:!1,device_fingerprint:""}),m=b(!1),i=b(!1),a=b("");M(()=>{A()});const A=()=>{const d=btoa(navigator.userAgent+screen.width+screen.height+new Date().getTimezoneOffset()).substring(0,32);t.device_fingerprint=d},E=S(()=>t.email.trim()&&t.password.length>=6&&t.email.includes("@")),g=()=>{a.value&&(a.value="")};D([()=>t.email,()=>t.password],g);const L=async()=>{var d,r,p;try{if(i.value=!0,a.value="",!t.email.includes("@"))throw new Error("Please enter a valid email address");if(t.password.length<6)throw new Error("Password must be at least 6 characters long");const s={email:t.email.trim().toLowerCase(),password:t.password,remember:t.remember,device_fingerprint:t.device_fingerprint};await f.dispatch("adminLogin",s),_.push({name:"Dashboard"})}catch(s){console.error("Admin login error:",s),((d=s.response)==null?void 0:d.status)===401?a.value="Invalid admin credentials. Please check your email and password.":((r=s.response)==null?void 0:r.status)===403?a.value="Access denied. You do not have admin privileges.":((p=s.response)==null?void 0:p.status)===429?a.value="Too many login attempts. Please try again later.":a.value=f.getters.error||s.message||"Login failed. Please try again.",t.password=""}finally{i.value=!1}};return(d,r)=>{const p=T("router-link");return l(),x("div",$,[e("div",G,[e("div",H,[n(o(k),{class:"w-6 h-6 text-white"})]),r[5]||(r[5]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Admin Portal",-1)),r[6]||(r[6]=e("p",{class:"text-gray-600 dark:text-gray-300 mt-1"},"Sign in to access your admin dashboard",-1))]),a.value?(l(),x("div",J,[e("div",Q,[n(o(z),{class:"h-5 w-5 text-red-500 mr-2"}),e("span",W,v(a.value),1)])])):j("",!0),e("form",{class:"space-y-6",onSubmit:q(L,["prevent"])},[e("div",X,[e("div",null,[r[7]||(r[7]=e("label",{for:"email-address",class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Admin Email ",-1)),e("div",Z,[e("div",ee,[n(o(F),{class:"h-5 w-5 text-purple-400 dark:text-purple-300"})]),u(e("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"","onUpdate:modelValue":r[0]||(r[0]=s=>t.email=s),onInput:g,class:h(["block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",{"border-red-300 focus:ring-red-500":a.value}]),placeholder:"Enter your admin email"},null,34),[[w,t.email]])])]),e("div",null,[e("div",re,[r[9]||(r[9]=e("label",{for:"password",class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"}," Password ",-1)),n(p,{to:{name:"ResetPassword"},class:"text-sm font-medium text-purple-600 hover:text-purple-500 dark:text-purple-400 dark:hover:text-purple-300 transition-colors"},{default:B(()=>r[8]||(r[8]=[y(" Forgot password? ")])),_:1,__:[8]})]),e("div",te,[e("div",se,[n(o(I),{class:"h-5 w-5 text-purple-400 dark:text-purple-300"})]),u(e("input",{id:"password",name:"password",type:m.value?"text":"password",autocomplete:"current-password",required:"","onUpdate:modelValue":r[1]||(r[1]=s=>t.password=s),onInput:g,class:h(["block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-slate-600 rounded-lg shadow-sm placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",{"border-red-300 focus:ring-red-500":a.value}]),placeholder:"Enter your password"},null,42,ae),[[N,t.password]]),e("button",{type:"button",onClick:r[2]||(r[2]=s=>m.value=!m.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-purple-400 dark:text-purple-300 hover:text-purple-600 dark:hover:text-purple-100 transition-colors"},[m.value?(l(),c(o(R),{key:1,class:"h-5 w-5"})):(l(),c(o(O),{key:0,class:"h-5 w-5"}))])])])]),e("div",oe,[u(e("input",{id:"remember-me",name:"remember-me",type:"checkbox","onUpdate:modelValue":r[3]||(r[3]=s=>t.remember=s),class:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700"},null,512),[[U,t.remember]]),r[10]||(r[10]=e("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Keep me signed in for 30 days ",-1))]),u(e("input",{"onUpdate:modelValue":r[4]||(r[4]=s=>t.device_fingerprint=s),type:"hidden"},null,512),[[w,t.device_fingerprint]]),e("button",{type:"submit",disabled:i.value||!E.value,class:"relative w-full flex justify-center items-center py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-gradient-to-r from-purple-600 to-orange-500 hover:from-purple-700 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[i.value?(l(),c(o(K),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):(l(),c(o(k),{key:1,class:"w-5 h-5 mr-2"})),y(" "+v(i.value?"Signing in...":"Sign in to Admin"),1)],8,le)],32),e("div",ne,[e("div",ie,[n(o(Y),{class:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),r[11]||(r[11]=e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-amber-900 dark:text-amber-200 mb-1"},"Admin Access Only"),e("p",{class:"text-xs text-amber-700 dark:text-amber-300"}," This portal is restricted to authorized administrators only. All login attempts are logged and monitored. ")],-1))])])])}}};export{he as default};
//# sourceMappingURL=Login-BM6td5pi.js.map
