{"version":3,"file":"ForumDetails-DAwhzvVt.js","sources":["../../node_modules/lucide-vue-next/dist/esm/icons/check.js","../../src/views/app/forums/ForumDetails.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","<template>\r\n  <div class=\"min-h-screen bg-gray-50 dark:bg-slate-900 px-6\">\r\n    <div class=\"max-w-9xl mx-auto space-y-6\">\r\n      <!-- Back Button -->\r\n      <button\r\n        @click=\"$router.go(-1)\"\r\n        class=\"flex items-center text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 transition-colors\"\r\n      >\r\n        <ArrowLeftIcon class=\"w-5 h-5 mr-2\" />\r\n        Back to Forums\r\n      </button>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading === 'fetchForum'\" class=\"flex justify-center py-12\">\r\n        <LoaderIcon class=\"w-8 h-8 animate-spin text-purple-600\" />\r\n      </div>\r\n\r\n      <!-- Forum Details -->\r\n      <div v-else-if=\"forum\" class=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden\">\r\n        <!-- Forum Header -->\r\n        <div class=\"p-6 border-b border-gray-200 dark:border-slate-600\">\r\n          <div class=\"flex justify-between items-start\">\r\n            <div class=\"flex-1\">\r\n              <div class=\"flex items-center gap-3 mb-2\">\r\n                <h1 class=\"text-2xl font-bold text-gray-900 dark:text-white\">{{ forum.title }}</h1>\r\n                <span\r\n                  :class=\"forum.status ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300' : 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300'\"\r\n                  class=\"px-3 py-1 rounded-full text-sm font-medium\"\r\n                >\r\n                  {{ forum.status ? 'Active' : 'Inactive' }}\r\n                </span>\r\n              </div>\r\n              \r\n              <div class=\"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                <div class=\"flex items-center\">\r\n                  <RadioIcon class=\"w-4 h-4 mr-1\" />\r\n                  {{ forum.station?.name || 'Unknown Station' }}\r\n                </div>\r\n                <div class=\"flex items-center\">\r\n                  <UserIcon class=\"w-4 h-4 mr-1\" />\r\n                  {{ forum.creator?.name || 'Unknown Creator' }}\r\n                </div>\r\n                <div class=\"flex items-center\">\r\n                  <CalendarIcon class=\"w-4 h-4 mr-1\" />\r\n                  {{ formatDate(forum.created_at) }}\r\n                </div>\r\n                <div class=\"flex items-center\">\r\n                  <MessageSquareIcon class=\"w-4 h-4 mr-1\" />\r\n                  {{ comments?.data?.length || 0 }} Comments\r\n                </div>\r\n              </div>\r\n              \r\n              <p class=\"text-gray-700 dark:text-gray-300 leading-relaxed\">{{ forum.body }}</p>\r\n            </div>\r\n\r\n            <!-- Actions -->\r\n            <div class=\"flex items-center gap-2 ml-6\">\r\n              <button\r\n                @click=\"toggleForumStatus\"\r\n                :disabled=\"loading === 'updateForum'\"\r\n                class=\"p-2 rounded-lg transition-colors\"\r\n                :class=\"forum.status \r\n                  ? 'text-green-600 hover:bg-green-100 dark:hover:bg-green-900' \r\n                  : 'text-red-600 hover:bg-red-100 dark:hover:bg-red-900'\"\r\n                :title=\"forum.status ? 'Deactivate Forum' : 'Activate Forum'\"\r\n              >\r\n                <ToggleLeftIcon v-if=\"!forum.status\" class=\"w-5 h-5\" />\r\n                <ToggleRightIcon v-else class=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              <button\r\n                @click=\"openEditModal\"\r\n                class=\"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900 rounded-lg transition-colors\"\r\n                title=\"Edit Forum\"\r\n              >\r\n                <EditIcon class=\"w-5 h-5\" />\r\n              </button>\r\n\r\n              <button\r\n                @click=\"confirmDeleteForum\"\r\n                class=\"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition-colors\"\r\n                title=\"Delete Forum\"\r\n              >\r\n                <TrashIcon class=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Comments Section -->\r\n        <div class=\"p-6\">\r\n          <div class=\"flex justify-between items-center mb-4\">\r\n            <h2 class=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n              Comments ({{ comments?.data?.length || 0 }})\r\n            </h2>\r\n            <button\r\n              @click=\"refreshComments\"\r\n              :disabled=\"loading === 'fetchComments'\"\r\n              class=\"flex items-center text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 transition-colors\"\r\n            >\r\n              <RefreshCwIcon :class=\"loading === 'fetchComments' ? 'animate-spin' : ''\" class=\"w-4 h-4 mr-2\" />\r\n              Refresh\r\n            </button>\r\n          </div>\r\n\r\n          <!-- Chat Container -->\r\n          <div class=\"border border-gray-200 dark:border-slate-600 rounded-lg bg-gray-50 dark:bg-slate-700 flex flex-col h-[70vh]\">\r\n            <!-- Comments List - Scrollable Area -->\r\n            <div \r\n              ref=\"commentsContainer\"\r\n              class=\"flex-1 overflow-y-auto p-4 space-y-3\"\r\n            >\r\n              <!-- Loading State -->\r\n              <div v-if=\"loading === 'fetchComments'\" class=\"flex justify-center py-8\">\r\n                <LoaderIcon class=\"w-6 h-6 animate-spin text-purple-600\" />\r\n              </div>\r\n\r\n              <!-- Comments -->\r\n              <div v-else-if=\"comments?.data?.length\">\r\n                <div\r\n                  v-for=\"comment in comments.data\"\r\n                  :key=\"comment.id\"\r\n                  class=\"bg-white dark:bg-slate-800 rounded-lg p-3 border border-gray-200 dark:border-slate-600 shadow-sm mb-2\"\r\n                >\r\n                  <div class=\"flex justify-between items-start\">\r\n                    <div class=\"flex-1\">\r\n                      <div class=\"flex items-center gap-2 mb-2\">\r\n                        <div class=\"w-6 h-6 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center\">\r\n                          <UserIcon class=\"w-3 h-3 text-purple-600 dark:text-purple-400\" />\r\n                        </div>\r\n                        <span class=\"font-medium text-sm text-gray-900 dark:text-white\">\r\n                          Admin\r\n                        </span>\r\n                        <span class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          {{ formatDateTime(comment.created_at) }}\r\n                        </span>\r\n                        <span\r\n                          v-if=\"comment.status !== undefined\"\r\n                          :class=\"comment.status ? 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300' : 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300'\"\r\n                          class=\"px-2 py-0.5 rounded-full text-xs font-medium\"\r\n                        >\r\n                          {{ comment.status ? 'Approved' : 'Pending' }}\r\n                        </span>\r\n                      </div>\r\n                      <p class=\"text-gray-700 dark:text-gray-300 text-sm\">{{ comment.content || comment.body }}</p>\r\n                    </div>\r\n\r\n                    <!-- Comment Actions -->\r\n                    <div class=\"flex items-center gap-1 ml-2\">\r\n                      <button\r\n                        v-if=\"comment.status !== undefined\"\r\n                        @click=\"toggleCommentStatus(comment)\"\r\n                        :disabled=\"loading === 'updateComment'\"\r\n                        class=\"p-1 rounded transition-colors\"\r\n                        :class=\"comment.status \r\n                          ? 'text-orange-600 hover:bg-orange-100 dark:hover:bg-orange-900' \r\n                          : 'text-green-600 hover:bg-green-100 dark:hover:bg-green-900'\"\r\n                        :title=\"comment.status ? 'Mark as Pending' : 'Approve Comment'\"\r\n                      >\r\n                        <CheckIcon v-if=\"!comment.status\" class=\"w-3 h-3\" />\r\n                        <ClockIcon v-else class=\"w-3 h-3\" />\r\n                      </button>\r\n\r\n                      <button\r\n                        @click=\"confirmDeleteComment(comment)\"\r\n                        class=\"p-1 text-red-600 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-colors\"\r\n                        title=\"Delete Comment\"\r\n                      >\r\n                        <TrashIcon class=\"w-3 h-3\" />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- No Comments -->\r\n              <div v-else class=\"flex flex-col items-center justify-center h-full text-center py-8\">\r\n                <MessageSquareIcon class=\"w-8 h-8 text-gray-400 mb-2\" />\r\n                <h3 class=\"text-sm font-medium text-gray-900 dark:text-white mb-1\">No comments yet</h3>\r\n                <p class=\"text-xs text-gray-600 dark:text-gray-400\">Start the conversation below</p>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Add Comment Form - Fixed at Bottom -->\r\n            <div class=\"border-t border-gray-200 dark:border-slate-600 p-4 bg-white dark:bg-slate-800\">\r\n              <form @submit.prevent=\"createComment\" class=\"space-y-3\">\r\n                <!-- Comment and Submit Row -->\r\n                <div class=\"flex gap-2\">\r\n                  <textarea\r\n                    v-model=\"commentForm.content\"\r\n                    required\r\n                    rows=\"2\"\r\n                    class=\"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none\"\r\n                    placeholder=\"Write your comment...\"\r\n                    @keydown.enter.ctrl=\"createComment\"\r\n                  ></textarea>\r\n                  <button\r\n                    type=\"submit\"\r\n                    :disabled=\"loading === 'createComment'\"\r\n                    class=\"bg-gradient-to-r from-purple-600 to-orange-500 hover:from-purple-700 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center self-end\"\r\n                  >\r\n                    <LoaderIcon v-if=\"loading === 'createComment'\" class=\"w-4 h-4 animate-spin\" />\r\n                    <SendIcon v-else class=\"w-4 h-4\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <!-- Status Toggle -->\r\n                <div class=\"flex items-center justify-between\">\r\n                  <label class=\"flex items-center text-sm\">\r\n                    <input\r\n                      v-model=\"commentForm.status\"\r\n                      type=\"checkbox\"\r\n                      class=\"rounded border-gray-300 text-purple-600 focus:ring-purple-500 mr-2\"\r\n                    />\r\n                    <span class=\"text-gray-700 dark:text-gray-300\">Auto-approve comment</span>\r\n                  </label>\r\n                  <span class=\"text-xs text-gray-500 dark:text-gray-400\">Ctrl+Enter to submit</span>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Forum Not Found -->\r\n      <div v-else class=\"text-center py-12\">\r\n        <AlertTriangleIcon class=\"w-12 h-12 text-red-400 mx-auto mb-4\" />\r\n        <h3 class=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Forum not found</h3>\r\n        <p class=\"text-gray-600 dark:text-gray-400\">The forum you're looking for doesn't exist or has been removed</p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Edit Forum Modal -->\r\n    <div\r\n      v-if=\"showEditModal\"\r\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n      @click=\"closeEditModal\"\r\n    >\r\n      <div\r\n        @click.stop\r\n        class=\"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4\"\r\n      >\r\n        <div class=\"flex justify-between items-center p-6 border-b border-gray-200 dark:border-slate-600\">\r\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">Edit Forum</h3>\r\n          <button @click=\"closeEditModal\" class=\"text-gray-400 hover:text-gray-600\">\r\n            <XIcon class=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"updateForum\" class=\"p-6 space-y-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Title</label>\r\n            <input\r\n              v-model=\"editForm.title\"\r\n              type=\"text\"\r\n              required\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Description</label>\r\n            <textarea\r\n              v-model=\"editForm.body\"\r\n              required\r\n              rows=\"4\"\r\n              class=\"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div class=\"flex justify-end gap-3 pt-4\">\r\n            <button\r\n              type=\"button\"\r\n              @click=\"closeEditModal\"\r\n              class=\"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-600 rounded-lg transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              :disabled=\"loading === 'updateForum'\"\r\n              class=\"bg-gradient-to-r from-purple-600 to-orange-500 hover:from-purple-700 hover:to-orange-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center\"\r\n            >\r\n              <LoaderIcon v-if=\"loading === 'updateForum'\" class=\"w-4 h-4 mr-2 animate-spin\" />\r\n              Update Forum\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Delete Forum Confirmation Modal -->\r\n    <div\r\n      v-if=\"showDeleteForumModal\"\r\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n      @click=\"showDeleteForumModal = false\"\r\n    >\r\n      <div\r\n        @click.stop\r\n        class=\"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4\"\r\n      >\r\n        <div class=\"p-6\">\r\n          <div class=\"flex items-center mb-4\">\r\n            <AlertTriangleIcon class=\"w-6 h-6 text-red-600 mr-3\" />\r\n            <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">Delete Forum</h3>\r\n          </div>\r\n          <p class=\"text-gray-600 dark:text-gray-300 mb-6\">\r\n            Are you sure you want to delete \"{{ forum?.title }}\"? This will also delete all comments. This action cannot be undone.\r\n          </p>\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button\r\n              @click=\"showDeleteForumModal = false\"\r\n              class=\"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-600 rounded-lg transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              @click=\"deleteForum\"\r\n              :disabled=\"loading === 'deleteForum'\"\r\n              class=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center\"\r\n            >\r\n              <LoaderIcon v-if=\"loading === 'deleteForum'\" class=\"w-4 h-4 mr-2 animate-spin\" />\r\n              Delete Forum\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Delete Comment Confirmation Modal -->\r\n    <div\r\n      v-if=\"showDeleteCommentModal\"\r\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\r\n      @click=\"showDeleteCommentModal = false\"\r\n    >\r\n      <div\r\n        @click.stop\r\n        class=\"bg-white dark:bg-slate-800 rounded-lg shadow-xl w-full max-w-md mx-4\"\r\n      >\r\n        <div class=\"p-6\">\r\n          <div class=\"flex items-center mb-4\">\r\n            <AlertTriangleIcon class=\"w-6 h-6 text-red-600 mr-3\" />\r\n            <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">Delete Comment</h3>\r\n          </div>\r\n          <p class=\"text-gray-600 dark:text-gray-300 mb-6\">\r\n            Are you sure you want to delete this comment? This action cannot be undone.\r\n          </p>\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button\r\n              @click=\"showDeleteCommentModal = false\"\r\n              class=\"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-600 rounded-lg transition-colors\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              @click=\"deleteComment\"\r\n              :disabled=\"loading === 'deleteComment'\"\r\n              class=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center\"\r\n            >\r\n              <LoaderIcon v-if=\"loading === 'deleteComment'\" class=\"w-4 h-4 mr-2 animate-spin\" />\r\n              Delete Comment\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport {\r\n  ArrowLeft as ArrowLeftIcon,\r\n  Edit as EditIcon,\r\n  Trash as TrashIcon,\r\n  X as XIcon,\r\n  Loader as LoaderIcon,\r\n  MessageSquare as MessageSquareIcon,\r\n  AlertTriangle as AlertTriangleIcon,\r\n  ToggleLeft as ToggleLeftIcon,\r\n  ToggleRight as ToggleRightIcon,\r\n  User as UserIcon,\r\n  Calendar as CalendarIcon,\r\n  Radio as RadioIcon,\r\n  RefreshCw as RefreshCwIcon,\r\n  Check as CheckIcon,\r\n  Clock as ClockIcon,\r\n  Send as SendIcon\r\n} from 'lucide-vue-next';\r\n\r\nconst store = useStore();\r\nconst route = useRoute();\r\nconst router = useRouter();\r\n\r\n// Reactive data\r\nconst showEditModal = ref(false);\r\nconst showDeleteForumModal = ref(false);\r\nconst showDeleteCommentModal = ref(false);\r\nconst commentToDelete = ref(null);\r\nconst commentsContainer = ref(null);\r\n\r\nconst editForm = ref({\r\n  title: '',\r\n  body: '',\r\n  station_id: ''\r\n});\r\n\r\nconst commentForm = ref({\r\n  content: '',\r\n  status: true\r\n});\r\n\r\n// Computed properties\r\nconst forum = computed(() => store.getters.forum);\r\nconst comments = computed(() => store.getters.comments);\r\nconst loading = computed(() => store.getters.loading);\r\n\r\n// Methods\r\nconst formatDate = (dateString) => {\r\n  return new Date(dateString).toLocaleDateString();\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  return new Date(dateString).toLocaleString();\r\n};\r\n\r\nconst fetchForumDetails = async () => {\r\n  await store.dispatch('fetchForum', route.params.id);\r\n};\r\n\r\nconst fetchComments = async () => {\r\n  await store.dispatch('fetchComments', route.params.id);\r\n};\r\n\r\nconst refreshComments = async () => {\r\n  await fetchComments();\r\n};\r\n\r\nconst scrollToBottom = () => {\r\n  if (commentsContainer.value) {\r\n    commentsContainer.value.scrollTop = commentsContainer.value.scrollHeight;\r\n  }\r\n};\r\n\r\nconst createComment = async () => {\r\n  try {\r\n    await store.dispatch('createComment', {\r\n      forumId: route.params.id,\r\n      data: commentForm.value\r\n    });\r\n    \r\n    // Reset form\r\n    commentForm.value = {\r\n      content: '',\r\n      status: true\r\n    };\r\n    \r\n    await fetchComments();\r\n    \r\n    // Scroll to bottom to show new comment\r\n    setTimeout(scrollToBottom, 100);\r\n  } catch (error) {\r\n    console.error('Error creating comment:', error);\r\n  }\r\n};\r\n\r\nconst openEditModal = () => {\r\n  editForm.value = {\r\n    title: forum.value.title,\r\n    body: forum.value.body,\r\n    station_id: forum.value.station_id\r\n  };\r\n  showEditModal.value = true;\r\n};\r\n\r\nconst closeEditModal = () => {\r\n  showEditModal.value = false;\r\n};\r\n\r\nconst updateForum = async () => {\r\n  try {\r\n    await store.dispatch('updateForum', {\r\n      id: route.params.id,\r\n      data: editForm.value\r\n    });\r\n    closeEditModal();\r\n    await fetchForumDetails();\r\n  } catch (error) {\r\n    console.error('Error updating forum:', error);\r\n  }\r\n};\r\n\r\nconst toggleForumStatus = async () => {\r\n  try {\r\n    await store.dispatch('updateForum', {\r\n      id: route.params.id,\r\n      data: { ...forum.value, status: !forum.value.status }\r\n    });\r\n    await fetchForumDetails();\r\n  } catch (error) {\r\n    console.error('Error toggling forum status:', error);\r\n  }\r\n};\r\n\r\nconst confirmDeleteForum = () => {\r\n  showDeleteForumModal.value = true;\r\n};\r\n\r\nconst deleteForum = async () => {\r\n  try {\r\n    await store.dispatch('deleteForum', route.params.id);\r\n    showDeleteForumModal.value = false;\r\n    router.push({ name: 'Forums' });\r\n  } catch (error) {\r\n    console.error('Error deleting forum:', error);\r\n  }\r\n};\r\n\r\nconst toggleCommentStatus = async (comment) => {\r\n  try {\r\n    await store.dispatch('updateComment', {\r\n      forumId: route.params.id,\r\n      commentId: comment.id,\r\n      data: { ...comment, status: !comment.status }\r\n    });\r\n    await fetchComments();\r\n  } catch (error) {\r\n    console.error('Error toggling comment status:', error);\r\n  }\r\n};\r\n\r\nconst confirmDeleteComment = (comment) => {\r\n  commentToDelete.value = comment;\r\n  showDeleteCommentModal.value = true;\r\n};\r\n\r\nconst deleteComment = async () => {\r\n  try {\r\n    await store.dispatch('deleteComment', {\r\n      forumId: route.params.id,\r\n      commentId: commentToDelete.value.id\r\n    });\r\n    showDeleteCommentModal.value = false;\r\n    commentToDelete.value = null;\r\n    await fetchComments();\r\n  } catch (error) {\r\n    console.error('Error deleting comment:', error);\r\n  }\r\n};\r\n\r\n// Lifecycle\r\nonMounted(() => {\r\n  fetchForumDetails();\r\n  fetchComments();\r\n});\r\n</script>"],"names":["Check","createLucideIcon","store","useStore","route","useRoute","router","useRouter","showEditModal","ref","showDeleteForumModal","showDeleteCommentModal","commentToDelete","commentsContainer","editForm","commentForm","forum","computed","comments","loading","formatDate","dateString","formatDateTime","fetchForumDetails","fetchComments","refreshComments","scrollToBottom","createComment","error","openEditModal","closeEditModal","updateForum","toggleForumStatus","confirmDeleteForum","deleteForum","toggleCommentStatus","comment","confirmDeleteComment","deleteComment","onMounted"],"mappings":"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","x_google_ignoreList":[0]}