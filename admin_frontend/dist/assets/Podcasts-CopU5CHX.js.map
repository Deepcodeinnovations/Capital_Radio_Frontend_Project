{"version":3,"file":"Podcasts-CopU5CHX.js","sources":["../../node_modules/lucide-vue-next/dist/esm/icons/file-audio.js","../../node_modules/lucide-vue-next/dist/esm/icons/mic-off.js","../../node_modules/lucide-vue-next/dist/esm/icons/volume-1.js","../../src/views/app/podcasts/UpdateRecordingModal.vue","../../src/views/app/podcasts/Podcasts.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileAudio = createLucideIcon(\"file-audio\", [\n  [\"path\", { d: \"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3\", key: \"rslqgf\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\n    \"path\",\n    {\n      d: \"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0\",\n      key: \"9f7x3i\"\n    }\n  ]\n]);\n\nexport { FileAudio as default };\n//# sourceMappingURL=file-audio.js.map\n","/**\n * @license lucide-vue-next v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MicOff = createLucideIcon(\"mic-off\", [\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"2\", y2: \"22\", key: \"a6p6uj\" }],\n  [\"path\", { d: \"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2\", key: \"80xlxr\" }],\n  [\"path\", { d: \"M5 10v2a7 7 0 0 0 12 5\", key: \"p2k8kg\" }],\n  [\"path\", { d: \"M15 9.34V5a3 3 0 0 0-5.68-1.33\", key: \"1gzdoj\" }],\n  [\"path\", { d: \"M9 9v3a3 3 0 0 0 5.12 2.12\", key: \"r2i35w\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"19\", y2: \"22\", key: \"x3vr5v\" }]\n]);\n\nexport { MicOff as default };\n//# sourceMappingURL=mic-off.js.map\n","/**\n * @license lucide-vue-next v0.511.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Volume1 = createLucideIcon(\"volume-1\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z\",\n      key: \"uqj9uw\"\n    }\n  ],\n  [\"path\", { d: \"M16 9a5 5 0 0 1 0 6\", key: \"1q6k2b\" }]\n]);\n\nexport { Volume1 as default };\n//# sourceMappingURL=volume-1.js.map\n","<template>\r\n    <div v-if=\"show\" class=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <div class=\"sticky top-0 bg-white dark:bg-slate-800 p-6 border-b border-gray-200 dark:border-slate-700 rounded-t-2xl\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <h2 class=\"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\r\n              Update Recording\r\n            </h2>\r\n            <button @click=\"closeModal\" class=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors\">\r\n              <XIcon class=\"w-6 h-6 text-gray-500\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n  \r\n        <form @submit.prevent=\"updateRecording\" class=\"p-6 space-y-6\">\r\n          <!-- Recording Status -->\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300\">Recording Status</label>\r\n            <select v-model=\"formData.recording_status\" class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all\">\r\n              <option value=\"scheduled\">Scheduled</option>\r\n              <option value=\"recording\">Recording</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"failed\">Failed</option>\r\n            </select>\r\n          </div>\r\n  \r\n          <!-- Session Notes -->\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300\">Session Notes</label>\r\n            <textarea v-model=\"formData.session_notes\" rows=\"3\" placeholder=\"Add notes about this recording session...\" class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all resize-none\"></textarea>\r\n          </div>\r\n  \r\n          <!-- Duration -->\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300\">Duration (minutes)</label>\r\n            <input v-model.number=\"formData.duration_minutes\" type=\"number\" min=\"0\" placeholder=\"Duration in minutes\" class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all\" />\r\n          </div>\r\n  \r\n          <!-- Error Message (for failed recordings) -->\r\n          <div v-if=\"formData.recording_status === 'failed'\" class=\"space-y-2\">\r\n            <label class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300\">Error Message</label>\r\n            <textarea v-model=\"formData.error_message\" rows=\"2\" placeholder=\"Describe the error...\" class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all resize-none\"></textarea>\r\n          </div>\r\n  \r\n          <!-- Recording File Upload -->\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-semibold text-gray-700 dark:text-gray-300\">Replace Recording File</label>\r\n            <div class=\"border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl p-6 text-center hover:border-purple-400 dark:hover:border-purple-500 transition-colors\">\r\n              <input ref=\"fileInput\" type=\"file\" accept=\"audio/*\" @change=\"handleFileSelect\" class=\"hidden\" />\r\n              <div v-if=\"!selectedFile\" @click=\"$refs.fileInput.click()\" class=\"cursor-pointer space-y-2\">\r\n                <UploadIcon class=\"w-8 h-8 mx-auto text-gray-400\" />\r\n                <p class=\"text-sm text-gray-600 dark:text-gray-400\">Click to upload new recording file</p>\r\n                <p class=\"text-xs text-gray-500\">MP3, WAV, AAC files supported</p>\r\n              </div>\r\n              <div v-else class=\"space-y-2\">\r\n                <FileAudioIcon class=\"w-8 h-8 mx-auto text-green-500\" />\r\n                <p class=\"text-sm font-medium text-gray-900 dark:text-white\">{{ selectedFile.name }}</p>\r\n                <p class=\"text-xs text-gray-500\">{{ formatFileSize(selectedFile.size) }}</p>\r\n                <button type=\"button\" @click=\"removeFile\" class=\"text-red-500 hover:text-red-600 text-sm font-medium\">Remove</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n  \r\n          <!-- Current File Info -->\r\n          <div v-if=\"recording?.recording_file_url && !selectedFile\" class=\"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4\">\r\n            <div class=\"flex items-center gap-3\">\r\n              <FileAudioIcon class=\"w-6 h-6 text-blue-500\" />\r\n              <div class=\"flex-1\">\r\n                <p class=\"text-sm font-medium text-gray-900 dark:text-white\">Current Recording</p>\r\n                <p class=\"text-xs text-gray-500\">{{ recording.file_size_mb }}MB • {{ recording.audio_format?.toUpperCase() }} • {{ recording.audio_quality }}</p>\r\n              </div>\r\n              <a :href=\"recording.recording_file_url\" target=\"_blank\" class=\"text-blue-500 hover:text-blue-600 text-sm font-medium\">View</a>\r\n            </div>\r\n          </div>\r\n  \r\n          <!-- Action Buttons -->\r\n          <div class=\"flex gap-3 pt-4\">\r\n            <button type=\"button\" @click=\"closeModal\" class=\"flex-1 px-6 py-3 border border-gray-200 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors\">\r\n              Cancel\r\n            </button>\r\n            <button type=\"submit\" :disabled=\"loading\" class=\"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl\">\r\n              <Loader2Icon v-if=\"loading\" class=\"w-5 h-5 mr-2 animate-spin\" />\r\n              {{ loading ? 'Updating...' : 'Update Recording' }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, reactive, watch, computed } from 'vue';\r\n  import { useStore } from 'vuex';\r\n  import { \r\n    X as XIcon, \r\n    Upload as UploadIcon, \r\n    FileAudio as FileAudioIcon,\r\n    Loader2 as Loader2Icon \r\n  } from 'lucide-vue-next';\r\n  \r\n  const props = defineProps({\r\n    show: { type: Boolean, default: false },\r\n    recording: { type: Object, default: null }\r\n  });\r\n  \r\n  const emit = defineEmits(['close', 'updated']);\r\n  \r\n  const store = useStore();\r\n  const loading = computed(() => store.getters.loading === 'update_session_recording');\r\n  \r\n  const fileInput = ref(null);\r\n  const selectedFile = ref(null);\r\n  \r\n  const formData = reactive({\r\n    recording_status: '',\r\n    session_notes: '',\r\n    duration_minutes: null,\r\n    error_message: ''\r\n  });\r\n  \r\n  watch(() => props.recording, (newRecording) => {\r\n    if (newRecording) {\r\n      formData.recording_status = newRecording.recording_status || 'scheduled';\r\n      formData.session_notes = newRecording.session_notes || '';\r\n      formData.duration_minutes = newRecording.duration_minutes || null;\r\n      formData.error_message = newRecording.error_message || '';\r\n    }\r\n  }, { immediate: true });\r\n  \r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      selectedFile.value = file;\r\n    }\r\n  };\r\n  \r\n  const removeFile = () => {\r\n    selectedFile.value = null;\r\n    if (fileInput.value) {\r\n      fileInput.value.value = '';\r\n    }\r\n  };\r\n  \r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n  \r\n  const updateRecording = async () => {\r\n    try {\r\n      const data = new FormData();\r\n      \r\n      // Append form data\r\n      Object.keys(formData).forEach(key => {\r\n        if (formData[key] !== null && formData[key] !== '') {\r\n          data.append(key, formData[key]);\r\n        }\r\n      });\r\n      \r\n      // Append file if selected\r\n      if (selectedFile.value) {\r\n        data.append('recording_file', selectedFile.value);\r\n      }\r\n      \r\n      await store.dispatch('update_session_recording', {\r\n        data: data,\r\n        id: props.recording.id\r\n      });\r\n      \r\n      store.dispatch('template_play_success_file', 'Recording updated successfully');\r\n      emit('updated');\r\n      closeModal();\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to update recording:', error);\r\n      store.dispatch('template_play_error_file', 'Failed to update recording');\r\n    }\r\n  };\r\n  \r\n  const closeModal = () => {\r\n    selectedFile.value = null;\r\n    if (fileInput.value) {\r\n      fileInput.value.value = '';\r\n    }\r\n    emit('close');\r\n  };\r\n  </script>","<template>\r\n  <div class=\"min-h-screen  p-6\">\r\n    <!-- Header Section -->\r\n    <div class=\"mb-8\">\r\n      <div class=\"flex flex-col lg:flex-row lg:items-center justify-between gap-4\">\r\n        <div class=\"space-y-2\">\r\n          <h1 class=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent\">\r\n            Session Recordings\r\n          </h1>\r\n          <p class=\"text-gray-600 dark:text-gray-400\">Monitor and manage radio session recordings in real-time</p>\r\n          <div class=\"flex items-center gap-4 text-sm\">\r\n            <div class=\"flex items-center gap-2\">\r\n              <div class=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\r\n              <span class=\"text-gray-500 dark:text-gray-400\">Auto-refreshing every minute</span>\r\n            </div>\r\n            <div class=\"flex items-center gap-2\">\r\n              <RadioIcon class=\"w-4 h-4 text-purple-600\" />\r\n              <span class=\"text-gray-500 dark:text-gray-400\">{{ sessionRecordings?.data?.length || 0 }} recordings</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"flex flex-wrap gap-3\">\r\n          <button\r\n          v-if=\"RecordingStatus\"\r\n            @click=\"toggleRecordingStatus\"\r\n            :disabled=\"loading === 'start_recording_sessions' || loading === 'stop_recording_sessions'\"\r\n            class=\"flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            :class=\"RecordingStatus.service_running == false \r\n              ? 'bg-gradient-to-r from-emerald-500 to-green-600 text-white hover:from-emerald-600 hover:to-green-700' \r\n              : 'bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700'\"\r\n          >\r\n            <MicOffIcon v-if=\"RecordingStatus.service_running == false\" class=\"w-5 h-5 mr-2\" />\r\n            <MicIcon v-else class=\"w-5 h-5 mr-2\" />\r\n            {{ RecordingStatus.service_running == false ? 'Start Recording Service' : 'Stop Recording Service' }}\r\n          </button>\r\n\r\n          <button\r\n            @click=\"fetchSessionRecordings\"\r\n            :disabled=\"loading === 'fetch_session_recordings'\"\r\n            class=\"flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50\"\r\n          >\r\n            <RadioIcon class=\"w-5 h-5 mr-2\" :class=\"{ 'animate-spin': loading === 'fetch_session_recordings' }\" />\r\n            Refresh Now\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Service Status Card -->\r\n    <div class=\"mb-6\">\r\n      <div class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div class=\"flex items-center gap-4\" v-if=\"RecordingStatus\">\r\n            <div :class=\"[\r\n              'w-12 h-12 rounded-xl flex items-center justify-center',\r\n              RecordingStatus.service_running \r\n                ? 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400' \r\n                : 'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400'\r\n            ]\">\r\n              <RadioIcon class=\"w-6 h-6\" />\r\n            </div>\r\n            <div>\r\n              <h3 class=\"font-semibold text-gray-900 dark:text-white\">Recording Service Status</h3>\r\n              <p :class=\"[\r\n                'text-sm font-medium',\r\n                RecordingStatus.service_running \r\n                  ? 'text-green-600 dark:text-green-400' \r\n                  : 'text-red-600 dark:text-red-400'\r\n              ]\">\r\n                {{ RecordingStatus.service_running ? 'Active & Monitoring' : 'Inactive' }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-right\">\r\n            <div class=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n              {{ sessionRecordings?.data?.filter(r => r.recording_status === 'recording').length || 0 }}\r\n            </div>\r\n            <div class=\"text-sm text-gray-500 dark:text-gray-400\">Active Recordings</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Filters Section -->\r\n    <div class=\"mb-6\">\r\n      <div class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6\">\r\n        <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Filters</h3>\r\n        <div class=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Station</label>\r\n            <select\r\n              v-model=\"filters.station_id\"\r\n              @change=\"applyFilters\"\r\n              class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\r\n            >\r\n              <option value=\"\">All Stations</option>\r\n              <option v-for=\"station in stations\" :key=\"station.id\" :value=\"station.id\">\r\n                {{ station.name }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Program</label>\r\n            <select\r\n              v-model=\"filters.program_id\"\r\n              @change=\"applyFilters\"\r\n              class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\r\n            >\r\n              <option value=\"\">All Programs</option>\r\n              <option v-for=\"program in programs?.data\" :key=\"program.id\" :value=\"program.id\">\r\n                {{ program.title }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Status</label>\r\n            <select\r\n              v-model=\"filters.recording_status\"\r\n              @change=\"applyFilters\"\r\n              class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"scheduled\">Scheduled</option>\r\n              <option value=\"recording\">Recording</option>\r\n              <option value=\"completed\">Completed</option>\r\n              <option value=\"failed\">Failed</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Day</label>\r\n            <select\r\n              v-model=\"filters.day_of_week\"\r\n              @change=\"applyFilters\"\r\n              class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\r\n            >\r\n              <option value=\"\">All Days</option>\r\n              <option value=\"monday\">Monday</option>\r\n              <option value=\"tuesday\">Tuesday</option>\r\n              <option value=\"wednesday\">Wednesday</option>\r\n              <option value=\"thursday\">Thursday</option>\r\n              <option value=\"friday\">Friday</option>\r\n              <option value=\"saturday\">Saturday</option>\r\n              <option value=\"sunday\">Sunday</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"space-y-2\">\r\n            <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Date</label>\r\n            <input\r\n              v-model=\"filters.session_date\"\r\n              @change=\"applyFilters\"\r\n              type=\"date\"\r\n              class=\"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"flex justify-end mt-6\">\r\n          <button\r\n            @click=\"resetFilters\"\r\n            class=\"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\"\r\n          >\r\n            Reset Filters\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Recordings Grid -->\r\n    <div class=\"space-y-4\">\r\n      <!-- Loading State -->\r\n      <div v-if=\"loading === 'fetch_session_recordings'\" class=\"grid gap-4\">\r\n        <div v-for=\"n in 5\" :key=\"n\" class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6 animate-pulse\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center gap-4\">\r\n              <div class=\"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-xl\"></div>\r\n              <div class=\"space-y-2\">\r\n                <div class=\"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32\"></div>\r\n                <div class=\"h-3 bg-gray-200 dark:bg-gray-600 rounded w-24\"></div>\r\n              </div>\r\n            </div>\r\n            <div class=\"h-6 bg-gray-200 dark:bg-gray-600 rounded w-20\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Data Cards -->\r\n      <div v-else-if=\"sessionRecordings?.data?.length\" class=\"grid gap-4\">\r\n        <div v-for=\"recording in sessionRecordings.data\" :key=\"recording.id\" \r\n             class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1\">\r\n          \r\n          <div class=\"flex flex-col lg:flex-row lg:items-center justify-between gap-6\">\r\n            <!-- Recording Info -->\r\n            <div class=\"flex items-center gap-4 flex-1\">\r\n              <div class=\"relative\">\r\n                <div :class=\"[\r\n                  'w-12 h-12 rounded-xl flex items-center justify-center shadow-lg',\r\n                  getRecordingStatusColor(recording.recording_status)\r\n                ]\">\r\n                  <MicIcon class=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div v-if=\"recording.recording_status === 'recording'\" \r\n                     class=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse border-2 border-white\"></div>\r\n              </div>\r\n              \r\n              <div class=\"flex-1 min-w-0\">\r\n                <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white truncate\">\r\n                  {{ recording.station?.name || 'Unknown Station' }}\r\n                </h3>\r\n                <p class=\"text-gray-600 dark:text-gray-400 truncate\">\r\n                  {{ recording.program?.title || 'Unknown Program' }}\r\n                </p>\r\n                <div class=\"flex items-center gap-4 mt-2\">\r\n                  <span class=\"px-3 py-1 text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full capitalize\">\r\n                    {{ recording.day_of_week }}\r\n                  </span>\r\n                  <span class=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {{ formatDate(recording.session_date) }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Schedule Info -->\r\n            <div class=\"flex-1 lg:max-w-xs\">\r\n              <div class=\"space-y-2\">\r\n                <div class=\"flex items-center text-sm text-gray-600 dark:text-gray-400\">\r\n                  <ClockIcon class=\"w-4 h-4 mr-2\" />\r\n                  {{ recording.scheduled_start_time ? formatTime(recording.scheduled_start_time) : 'N/A' }} - \r\n                  {{ recording.scheduled_end_time ? formatTime(recording.scheduled_end_time) : 'N/A' }}\r\n                </div>\r\n                <div v-if=\"recording.actual_start_time\" class=\"text-sm text-green-600 dark:text-green-400\">\r\n                  Started: {{ formatTime(recording.actual_start_time) }}\r\n                </div>\r\n                <div v-if=\"recording.duration_minutes\" class=\"text-sm text-blue-600 dark:text-blue-400\">\r\n                  Duration: {{ recording.duration_minutes }}m\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Status Badge -->\r\n            <div class=\"flex-shrink-0\">\r\n              <span :class=\"[\r\n                'inline-flex px-4 py-2 text-sm font-semibold rounded-xl shadow-sm',\r\n                getRecordingStatusBadge(recording.recording_status)\r\n              ]\">\r\n                {{ recording.recording_status || 'Unknown' }}\r\n              </span>\r\n              <div v-if=\"recording.error_message\" class=\"text-xs text-red-500 mt-2 max-w-xs truncate\">\r\n                {{ recording.error_message }}\r\n              </div>\r\n            </div>\r\n\r\n            <!-- File Info & Controls -->\r\n            <div v-if=\"recording\" class=\"flex-1 lg:max-w-md\">\r\n              <div class=\"space-y-3\">\r\n                <div class=\"flex items-center justify-between\">\r\n                  <span class=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                    {{ recording.file_size_mb ? `${recording.file_size_mb} MB` : 'File available' }}\r\n                  </span>\r\n                  <span class=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                    {{ recording.audio_format?.toUpperCase() || 'MP3' }} • {{ recording.audio_quality || '128kbps' }}\r\n                  </span>\r\n                </div>\r\n                \r\n                <!-- Audio Player Controls -->\r\n                <div class=\"flex items-center gap-3\">\r\n                  <button\r\n                    @click=\"togglePlayback(recording)\"\r\n                    :class=\"[\r\n                      'flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105',\r\n                      currentPlayingId === recording.id && isPlaying\r\n                        ? 'bg-gradient-to-r from-red-500 to-pink-600 text-white'\r\n                        : 'bg-gradient-to-r from-green-500 to-emerald-600 text-white'\r\n                    ]\"\r\n                  >\r\n                    <PlayIcon v-if=\"currentPlayingId !== recording.id || !isPlaying\" class=\"w-5 h-5 ml-0.5\" />\r\n                    <PauseIcon v-else class=\"w-5 h-5\" />\r\n                  </button>\r\n                  \r\n                  <a \r\n                    :href=\"recording.recording_file_url\" \r\n                    download\r\n                    target=\"_blank\"\r\n                    class=\"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                  >\r\n                    <DownloadIcon class=\"w-5 h-5\" />\r\n                  </a>\r\n\r\n                  <button\r\n                    @click=\"showUpdateRecordingModal(recording)\"\r\n                    class=\"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                  >\r\n                    <EditIcon class=\"w-5 h-5\" />\r\n                  </button>\r\n\r\n                  <button\r\n                    @click=\"deleteRecording(recording)\"\r\n                    class=\"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105\"\r\n                  >\r\n                    <TrashIcon class=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n\r\n                <!-- Audio Progress (when playing) -->\r\n                <div v-if=\"currentPlayingId === recording.id\" class=\"space-y-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4\">\r\n                  <div class=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400\">\r\n                    <span>{{ formatAudioTime(currentTime) }}</span>\r\n                    <span>{{ formatAudioTime(duration) }}</span>\r\n                  </div>\r\n                  <div class=\"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 cursor-pointer\" @click=\"seekAudio($event)\">\r\n                    <div \r\n                      class=\"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full transition-all duration-300\" \r\n                      :style=\"{ width: `${audioProgress}%` }\"\r\n                    ></div>\r\n                  </div>\r\n                  <div class=\"flex items-center justify-between\">\r\n                    <div class=\"flex items-center gap-2\">\r\n                      <button @click=\"changeVolume(volume - 0.1)\" class=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\">\r\n                        <VolumeXIcon v-if=\"volume === 0\" class=\"w-4 h-4\" />\r\n                        <Volume1Icon v-else-if=\"volume < 0.5\" class=\"w-4 h-4\" />\r\n                        <Volume2Icon v-else class=\"w-4 h-4\" />\r\n                      </button>\r\n                      <input\r\n                        type=\"range\" min=\"0\" max=\"1\" step=\"0.1\" :value=\"volume\" @input=\"changeVolume($event.target.value)\"\r\n                        class=\"w-20 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-600\"\r\n                      />\r\n                      <button @click=\"changeVolume(volume + 0.1)\" class=\"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\">\r\n                        <Volume2Icon class=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                    <span class=\"text-xs text-gray-500 dark:text-gray-400\">{{ Math.round(volume * 100) }}%</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-else class=\"flex-1 lg:max-w-md\">\r\n              <div class=\"text-center py-8 text-gray-400 dark:text-gray-500\">\r\n                <MicOffIcon class=\"w-8 h-8 mx-auto mb-2\" />\r\n                <p class=\"text-sm\">No recording file available</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Empty State -->\r\n      <div v-else class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-12 text-center\">\r\n        <MicIcon class=\"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600\" />\r\n        <h3 class=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">No recordings found</h3>\r\n        <p class=\"text-gray-500 dark:text-gray-400 max-w-md mx-auto\">\r\n          Session recordings will appear here when programs are scheduled and the recording service is active.\r\n        </p>\r\n      </div>\r\n\r\n      <!-- Pagination -->\r\n      <div v-if=\"sessionRecordings?.pagination\" class=\"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6\">\r\n        <div class=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\r\n          <div class=\"text-sm text-gray-700 dark:text-gray-300\">\r\n            Showing {{ sessionRecordings.pagination.from }} to {{ sessionRecordings.pagination.to }} of {{ sessionRecordings.pagination.total }} results\r\n          </div>\r\n          <div class=\"flex gap-2\">\r\n            <button\r\n              @click=\"changePage(sessionRecordings.pagination.current_page - 1)\"\r\n              :disabled=\"!sessionRecordings.pagination.has_prev\"\r\n              class=\"px-4 py-2 text-sm bg-gray-100 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n            >\r\n              Previous\r\n            </button>\r\n            \r\n            <button\r\n              v-for=\"page in visiblePages\"\r\n              :key=\"page\"\r\n              @click=\"changePage(page)\"\r\n              :class=\"[\r\n                'px-4 py-2 text-sm rounded-lg transition-colors',\r\n                page === sessionRecordings.pagination.current_page\r\n                  ? 'bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg'\r\n                  : 'bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600'\r\n              ]\"\r\n            >\r\n              {{ page }}\r\n            </button>\r\n            \r\n            <button\r\n              @click=\"changePage(sessionRecordings.pagination.current_page + 1)\"\r\n              :disabled=\"!sessionRecordings.pagination.has_next\"\r\n              class=\"px-4 py-2 text-sm bg-gray-100 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors\"\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <UpdateRecordingModal \r\n    :show=\"updateRecordingModal\"\r\n    :recording=\"selectedRecording\"\r\n    @close=\"closeUpdateModal\"\r\n    @updated=\"onRecordingUpdated\"\r\n  />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, reactive } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport UpdateRecordingModal from './UpdateRecordingModal.vue';\r\nimport {\r\n  Radio as RadioIcon,\r\n  Mic as MicIcon,\r\n  MicOff as MicOffIcon,\r\n  Clock as ClockIcon,\r\n  Play as PlayIcon,\r\n  Pause as PauseIcon,\r\n  Download as DownloadIcon,\r\n  Volume2 as Volume2Icon,\r\n  Volume1 as Volume1Icon,\r\n  VolumeX as VolumeXIcon,\r\n  Trash as TrashIcon,\r\n  Edit as EditIcon,\r\n} from 'lucide-vue-next';\r\n\r\nconst store = useStore();\r\n\r\n// Computed properties from store\r\nconst sessionRecordings = computed(() => store.getters.sessionRecordings);\r\nconst programs = computed(() => store.getters.programs);\r\nconst stations = computed(() => store.getters.stations);\r\nconst loading = computed(() => store.getters.loading);\r\nconst RecordingStatus = computed(() => store.getters.recordingStatus);\r\n\r\n// Auto-refresh functionality\r\nlet refreshInterval = null;\r\n\r\n// Reactive state\r\nconst currentPage = ref(1);\r\nconst filters = reactive({\r\n  station_id: '',\r\n  program_id: '',\r\n  recording_status: '',\r\n  day_of_week: '',\r\n  session_date: ''\r\n});\r\n\r\n// Audio player state\r\nconst audioPlayer = ref(null);\r\nconst updateRecordingModal = ref(false);\r\nconst selectedRecording = ref(null);\r\nconst currentPlayingId = ref(null);\r\nconst isPlaying = ref(false);\r\nconst currentTime = ref(0);\r\nconst duration = ref(0);\r\nconst volume = ref(0.8);\r\nconst audioProgress = computed(() => {\r\n  return duration.value > 0 ? (currentTime.value / duration.value) * 100 : 0;\r\n});\r\n\r\n// Computed pagination\r\nconst visiblePages = computed(() => {\r\n  if (!sessionRecordings.value?.pagination) return []\r\n  const current = sessionRecordings.value.pagination.current_page\r\n  const last = sessionRecordings.value.pagination.last_page || sessionRecordings.value.pagination.total_pages\r\n  const pages = []\r\n  const maxVisible = 5\r\n  \r\n  let start = Math.max(1, current - Math.floor(maxVisible / 2))\r\n  let end = Math.min(last, start + maxVisible - 1)\r\n  \r\n  if (end - start + 1 < maxVisible) {\r\n    start = Math.max(1, end - maxVisible + 1)\r\n  }\r\n  \r\n  for (let i = start; i <= end; i++) {\r\n    pages.push(i)\r\n  }\r\n  \r\n  return pages\r\n});\r\n\r\n// Update recording modal\r\nconst showUpdateRecordingModal = (recording) => {\r\n  updateRecordingModal.value = true;\r\n  selectedRecording.value = recording;\r\n};\r\n\r\nconst closeUpdateModal = () => {\r\n  updateRecordingModal.value = false;\r\n  selectedRecording.value = null;\r\n};\r\n\r\nconst onRecordingUpdated = () => {\r\n  fetchSessionRecordings(); // Refresh the list\r\n};\r\n\r\n// Auto-refresh functions\r\nconst startAutoRefresh = () => {\r\n  refreshInterval = setInterval(async () => {\r\n    try {\r\n      await Promise.all([\r\n        store.dispatch('get_recording_status'),\r\n        store.dispatch('fetch_session_recordings', {\r\n          data: {\r\n            ...filters,\r\n            page: currentPage.value,\r\n            per_page: 20\r\n          },\r\n          page: currentPage.value\r\n        })\r\n      ]);\r\n    } catch (error) {\r\n      console.error('Auto-refresh failed:', error);\r\n    }\r\n  }, 60000); // Refresh every minute\r\n};\r\n\r\nconst stopAutoRefresh = () => {\r\n  if (refreshInterval) {\r\n    clearInterval(refreshInterval);\r\n    refreshInterval = null;\r\n  }\r\n};\r\n\r\nconst toggleRecordingStatus = async () => {\r\n  try {\r\n    if (RecordingStatus.value.service_running == false) {\r\n      await store.dispatch('start_recording_sessions');\r\n    } else {\r\n      await store.dispatch('stop_recording_sessions');\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to toggle recording status:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to toggle recording status');\r\n  }\r\n};\r\n\r\nconst get_recording_status = async () => {\r\n  try {\r\n    await store.dispatch('get_recording_status');\r\n  } catch (error) {\r\n    console.error('Failed to get recording status:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to get recording status');\r\n  }\r\n};\r\n\r\n// Methods\r\nconst fetchSessionRecordings = async () => {\r\n  try {\r\n    await store.dispatch('fetch_session_recordings', {\r\n      data: {\r\n        ...filters,\r\n        page: currentPage.value,\r\n        per_page: 20\r\n      },\r\n      page: currentPage.value\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch session recordings:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load session recordings');\r\n  }\r\n};\r\n\r\nconst fetchPrograms = async () => {\r\n  try {\r\n    await store.dispatch('fetch_programs', {\r\n      data: { per_page: 50 },\r\n      page: 1\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch programs:', error);\r\n  }\r\n};\r\n\r\nconst fetchStations = async () => {\r\n  try {\r\n    await store.dispatch('fetch_stations', {\r\n      data: { per_page: 50 },\r\n      page: 1\r\n    });\r\n  } catch (error) {\r\n    console.error('Failed to fetch stations:', error);\r\n  }\r\n};\r\n\r\nconst changePage = (page) => {\r\n  if (page >= 1 && page <= (sessionRecordings.value.pagination.last_page || sessionRecordings.value.pagination.total_pages)) {\r\n    currentPage.value = page;\r\n    fetchSessionRecordings();\r\n  }\r\n};\r\n\r\nconst applyFilters = () => {\r\n  currentPage.value = 1;\r\n  fetchSessionRecordings();\r\n};\r\n\r\nconst resetFilters = () => {\r\n  Object.keys(filters).forEach(key => {\r\n    filters[key] = '';\r\n  });\r\n  currentPage.value = 1;\r\n  fetchSessionRecordings();\r\n};\r\n\r\nconst deleteRecording = async (recording) => {\r\n  try {\r\n    await store.dispatch('delete_session_recording', {id: recording.id, data: {}});\r\n  } catch (error) {\r\n    console.error('Failed to delete recording:', error);\r\n  }\r\n};\r\n\r\n// Audio player methods\r\nconst togglePlayback = async (recording) => {\r\n  if (currentPlayingId.value === recording.id) {\r\n    if (isPlaying.value) {\r\n      pauseAudio();\r\n    } else {\r\n      playAudio();\r\n    }\r\n  } else {\r\n    await loadAndPlayAudio(recording);\r\n  }\r\n};\r\n\r\nconst loadAndPlayAudio = async (recording) => {\r\n  try {\r\n    if (audioPlayer.value) {\r\n      audioPlayer.value.pause();\r\n      audioPlayer.value = null;\r\n    }\r\n    \r\n    audioPlayer.value = new Audio(recording.recording_file_url);\r\n    currentPlayingId.value = recording.id;\r\n    \r\n    audioPlayer.value.addEventListener('loadedmetadata', () => {\r\n      duration.value = audioPlayer.value.duration;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('timeupdate', () => {\r\n      currentTime.value = audioPlayer.value.currentTime;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('ended', () => {\r\n      isPlaying.value = false;\r\n      currentTime.value = 0;\r\n      currentPlayingId.value = null;\r\n    });\r\n    \r\n    audioPlayer.value.addEventListener('error', (e) => {\r\n      console.error('Audio playback error:', e);\r\n      store.dispatch('template_play_error_file', 'Failed to play audio file');\r\n      isPlaying.value = false;\r\n      currentPlayingId.value = null;\r\n    });\r\n    \r\n    audioPlayer.value.volume = volume.value;\r\n    await audioPlayer.value.play();\r\n    isPlaying.value = true;\r\n    \r\n  } catch (error) {\r\n    console.error('Failed to load audio:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load audio file');\r\n    isPlaying.value = false;\r\n    currentPlayingId.value = null;\r\n  }\r\n};\r\n\r\nconst playAudio = async () => {\r\n  if (audioPlayer.value) {\r\n    try {\r\n      await audioPlayer.value.play();\r\n      isPlaying.value = true;\r\n    } catch (error) {\r\n      console.error('Failed to play audio:', error);\r\n      store.dispatch('template_play_error_file', 'Failed to play audio');\r\n    }\r\n  }\r\n};\r\n\r\nconst pauseAudio = () => {\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.pause();\r\n    isPlaying.value = false;\r\n  }\r\n};\r\n\r\nconst seekAudio = (event) => {\r\n  if (audioPlayer.value && duration.value > 0) {\r\n    const rect = event.currentTarget.getBoundingClientRect();\r\n    const clickX = event.clientX - rect.left;\r\n    const width = rect.width;\r\n    const seekTime = (clickX / width) * duration.value;\r\n    \r\n    audioPlayer.value.currentTime = seekTime;\r\n    currentTime.value = seekTime;\r\n  }\r\n};\r\n\r\nconst changeVolume = (newVolume) => {\r\n  const vol = Math.max(0, Math.min(1, parseFloat(newVolume)));\r\n  volume.value = vol;\r\n  \r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.volume = vol;\r\n  }\r\n};\r\n\r\nconst formatAudioTime = (seconds) => {\r\n  if (isNaN(seconds)) return '0:00';\r\n  \r\n  const minutes = Math.floor(seconds / 60);\r\n  const remainingSeconds = Math.floor(seconds % 60);\r\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n};\r\n\r\n// Utility functions\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return 'No date';\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  });\r\n};\r\n\r\nconst formatTime = (timeString) => {\r\n  if (!timeString) return 'No time';\r\n  const date = new Date(timeString);\r\n  return date.toLocaleTimeString('en-US', {\r\n    hour: '2-digit',\r\n    minute: '2-digit'\r\n  });\r\n};\r\n\r\nconst getRecordingStatusColor = (status) => {\r\n  switch (status) {\r\n    case 'recording': return 'bg-gradient-to-r from-red-500 to-pink-600';\r\n    case 'completed': return 'bg-gradient-to-r from-green-500 to-emerald-600';\r\n    case 'scheduled': return 'bg-gradient-to-r from-blue-500 to-indigo-600';\r\n    case 'failed': return 'bg-gradient-to-r from-red-600 to-red-700';\r\n    default: return 'bg-gradient-to-r from-gray-500 to-gray-600';\r\n  }\r\n};\r\n\r\nconst getRecordingStatusBadge = (status) => {\r\n  switch (status) {\r\n    case 'recording': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\r\n    case 'completed': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300';\r\n    case 'scheduled': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300';\r\n    case 'failed': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300';\r\n    default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300';\r\n  }\r\n};\r\n\r\n// Initialize component\r\nonMounted(async () => {\r\n  try {\r\n    await Promise.all([\r\n      get_recording_status(),\r\n      fetchSessionRecordings(),\r\n      fetchPrograms(),\r\n      fetchStations()\r\n    ]);\r\n    \r\n    // Start auto-refresh after initial load\r\n    startAutoRefresh();\r\n  } catch (error) {\r\n    console.error('Failed to initialize session recordings:', error);\r\n    store.dispatch('template_play_error_file', 'Failed to load session recordings data');\r\n  }\r\n});\r\n\r\n// Cleanup when component unmounts\r\nonUnmounted(() => {\r\n  // Stop auto-refresh\r\n  stopAutoRefresh();\r\n  \r\n  // Cleanup audio\r\n  if (audioPlayer.value) {\r\n    audioPlayer.value.pause();\r\n    audioPlayer.value = null;\r\n  }\r\n});\r\n</script>"],"names":["FileAudio","createLucideIcon","MicOff","Volume1","props","__props","emit","__emit","store","useStore","loading","computed","fileInput","ref","selectedFile","formData","reactive","watch","newRecording","handleFileSelect","event","file","removeFile","formatFileSize","bytes","k","sizes","i","updateRecording","data","key","closeModal","error","sessionRecordings","programs","stations","RecordingStatus","refreshInterval","currentPage","filters","audioPlayer","updateRecordingModal","selectedRecording","currentPlayingId","isPlaying","currentTime","duration","volume","audioProgress","visiblePages","_a","current","last","pages","maxVisible","start","end","showUpdateRecordingModal","recording","closeUpdateModal","onRecordingUpdated","fetchSessionRecordings","startAutoRefresh","stopAutoRefresh","toggleRecordingStatus","get_recording_status","fetchPrograms","fetchStations","changePage","page","applyFilters","resetFilters","deleteRecording","togglePlayback","pauseAudio","playAudio","loadAndPlayAudio","e","seekAudio","rect","clickX","width","seekTime","changeVolume","newVolume","vol","formatAudioTime","seconds","minutes","remainingSeconds","formatDate","dateString","formatTime","timeString","getRecordingStatusColor","status","getRecordingStatusBadge","onMounted","onUnmounted"],"mappings":"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","x_google_ignoreList":[0,1,2]}