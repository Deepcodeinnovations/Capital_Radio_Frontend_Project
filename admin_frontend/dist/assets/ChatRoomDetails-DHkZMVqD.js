import{u as w,x as b,g as l,f as v,D as y,p as C,G as m,r as k,c as d,o as c,b as e,d as M,j as B,k as g,t as a,F as R,s as T,m as V,w as j,v as D}from"./index-nOqVMhSP.js";const z={class:"p-6"},A={class:"mb-6"},N={class:"text-2xl font-bold text-gray-900"},S={class:"text-gray-600"},U={class:"bg-white rounded-lg shadow overflow-hidden"},F={class:"p-4 bg-indigo-50 border-b border-indigo-100 flex justify-between items-center"},H={class:"flex items-center"},I={class:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full flex items-center"},L={class:"flex items-start"},q={class:"flex-shrink-0 mr-3"},E={class:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 font-semibold"},G={class:"flex items-center"},J={class:"font-medium text-gray-900"},K={class:"ml-2 text-xs text-gray-500"},O={class:"mt-1 text-gray-800 bg-gray-100 rounded-lg p-3"},P={class:"p-4 border-t border-gray-200"},X={__name:"ChatRoomDetails",setup(Q){const i=w(),h=b(),f=l(()=>parseInt(h.params.id)),n=l(()=>i.getters["liveChats/chatRooms"].find(s=>s.id===f.value)),u=l(()=>i.getters["liveChats/liveChat"]),t=v(null),r=v("");y(u,async()=>{await m(),t.value&&(t.value.scrollTop=t.value.scrollHeight)},{deep:!0}),C(async()=>{await m(),t.value&&(t.value.scrollTop=t.value.scrollHeight)});const p=()=>{r.value.trim()&&(i.dispatch("liveChats/sendChatMessage",{username:"Admin",message:r.value}),r.value="")};return(x,s)=>{const _=k("router-link");return c(),d("div",z,[e("div",A,[M(_,{to:"/dashboard/live-chats",class:"text-indigo-600 hover:text-indigo-800 mb-2 inline-block"},{default:B(()=>s[1]||(s[1]=[g(" ← Back to Chat Rooms ")])),_:1,__:[1]}),e("h1",N,a(n.value?n.value.name:"Chat Room"),1),e("p",S,a(n.value?n.value.description:"Loading..."),1)]),e("div",U,[e("div",F,[e("div",H,[e("span",I,[s[2]||(s[2]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-1"},null,-1)),g(" "+a(n.value?n.value.activeUsers:0)+" active users ",1)])]),s[3]||(s[3]=e("div",null,[e("button",{class:"text-gray-500 hover:text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])])],-1))]),e("div",{class:"p-4 h-96 overflow-y-auto",ref_key:"chatContainer",ref:t},[(c(!0),d(R,null,T(u.value,o=>(c(),d("div",{key:o.id,class:"mb-4"},[e("div",L,[e("div",q,[e("div",E,a(o.username.charAt(0).toUpperCase()),1)]),e("div",null,[e("div",G,[e("span",J,a(o.username),1),e("span",K,a(o.time),1)]),e("div",O,a(o.message),1)])])]))),128))],512),e("div",P,[e("form",{onSubmit:V(p,["prevent"]),class:"flex"},[j(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>r.value=o),placeholder:"Type your message...",class:"flex-grow rounded-l-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[D,r.value]]),s[4]||(s[4]=e("button",{type:"submit",class:"inline-flex items-center justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-r-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})])],-1))],32)])])])}}};export{X as default};
