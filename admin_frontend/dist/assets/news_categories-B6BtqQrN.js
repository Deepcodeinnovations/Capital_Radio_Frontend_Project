import{u as N,i as w,g as y,h as S,c as n,o as s,b as e,j as m,d as k,p as _,k as b,F as U,C as D,t as d,D as T,y as C,l as u,v as c,s as j}from"./index-B7q1ptPU.js";import{P as A}from"./plus-BRxyOAdI.js";import{S as L}from"./square-pen-DHkV9VY5.js";import{T as O}from"./trash-BsOYBMwe.js";import{L as P}from"./loader-0f-Uv3-i.js";import"./createLucideIcon-Bsy_Af9M.js";const q={class:"space-y-6"},z={class:"flex items-center justify-between"},I={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden"},$={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},H={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},J={class:"px-6 py-4"},K={class:"flex items-center"},Q={key:0,class:"mr-3"},R={class:"text-sm font-medium text-gray-900 dark:text-white"},W={class:"px-6 py-4"},X={class:"flex items-center"},Y={class:"text-sm text-gray-600 dark:text-gray-400"},Z={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 max-w-xs truncate"},ee={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},te={class:"px-6 py-4 text-right text-sm font-medium"},re={class:"flex justify-end gap-2"},ae=["onClick"],oe=["onClick"],se={key:0},de={class:"mt-3"},le={class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},ie={class:"space-y-4"},ne={class:"flex items-center gap-3"},ue={class:"flex justify-end gap-3 mt-6"},ce=["disabled"],fe={__name:"news_categories",setup(ge){const l=N(),h=w(()=>l.getters.categories||[]),g=w(()=>l.getters.loading),x=y(!1),i=y(!1),p=y(null),a=y({name:"",description:"",color:"#3B82F6",icon:"",sort_order:0}),v=async()=>{try{await l.dispatch("fetchcategories")}catch(o){console.error("Error fetching categories:",o)}},V=()=>{i.value=!1,p.value=null,a.value={name:"",description:"",color:"#3B82F6",icon:"",sort_order:0},x.value=!0},B=o=>{i.value=!0,p.value=o.id,a.value={name:o.name||"",description:o.description||"",color:o.color||"#3B82F6",icon:o.icon||"",sort_order:o.sort_order||0},x.value=!0},f=()=>{x.value=!1,i.value=!1,p.value=null,a.value={name:"",description:"",color:"#3B82F6",icon:"",sort_order:0}},E=async()=>{try{i.value?await l.dispatch("updatecategory",{id:p.value,data:a.value}):await l.dispatch("createcategory",a.value),f(),await v()}catch(o){console.error("Error submitting form:",o)}},F=async o=>{if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{await l.dispatch("removecategory",o),await v()}catch(t){console.error("Error deleting category:",t)}};return S(()=>{v()}),(o,t)=>(s(),n("div",q,[e("div",z,[t[8]||(t[8]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Categories Management",-1)),e("button",{onClick:V,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[k(b(A),{class:"w-5 h-5"}),t[7]||(t[7]=_(" Add Category "))])]),e("div",I,[e("div",$,[e("table",G,[t[10]||(t[10]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Color"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Order"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",H,[(s(!0),n(U,null,D(h.value,r=>(s(),n("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",J,[e("div",K,[r.icon?(s(),n("div",Q,d(r.icon),1)):m("",!0),e("div",R,d(r.name),1)])]),e("td",W,[e("div",X,[e("div",{class:"w-4 h-4 rounded mr-2 border border-gray-300 dark:border-gray-600",style:T({backgroundColor:r.color})},null,4),e("span",Y,d(r.color),1)])]),e("td",Z,d(r.description||"No description"),1),e("td",ee,d(r.sort_order),1),e("td",te,[e("div",re,[e("button",{onClick:M=>B(r),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"},[k(b(L),{class:"h-4 w-4"})],8,ae),e("button",{onClick:M=>F(r.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"},[k(b(O),{class:"h-4 w-4"})],8,oe)])])]))),128)),h.value.length===0?(s(),n("tr",se,t[9]||(t[9]=[e("td",{colspan:"5",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"}," No categories found. Create your first category to get started. ",-1)]))):m("",!0)])])])]),x.value?(s(),n("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:f},[e("div",{class:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800",onClick:t[6]||(t[6]=C(()=>{},["stop"]))},[e("div",de,[e("h3",le,d(i.value?"Edit Category":"Create Category"),1),e("form",{onSubmit:C(E,["prevent"])},[e("div",ie,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Name *",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.name=r),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category name"},null,512),[[c,a.value.name]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.description=r),rows:"3",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter category description"},null,512),[[c,a.value.description]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Color",-1)),e("div",ne,[u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>a.value.color=r),type:"color",class:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer"},null,512),[[c,a.value.color]]),u(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>a.value.color=r),type:"text",class:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"#3B82F6"},null,512),[[c,a.value.color]])])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Icon (Optional)",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>a.value.icon=r),type:"text",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ðŸ“°"},null,512),[[c,a.value.icon]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sort Order",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>a.value.sort_order=r),type:"number",min:"0",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[c,a.value.sort_order,void 0,{number:!0}]])])]),e("div",ue,[e("button",{type:"button",onClick:f,class:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:g.value==="createcategory"||g.value==="updatecategory",class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md disabled:opacity-50 transition-colors flex items-center gap-2"},[g.value==="createcategory"||g.value==="updatecategory"?(s(),j(b(P),{key:0,class:"w-4 h-4 animate-spin"})):m("",!0),_(" "+d(i.value?"Update":"Create"),1)],8,ce)])],32)])])])):m("",!0)]))}};export{fe as default};
//# sourceMappingURL=news_categories-B6BtqQrN.js.map
