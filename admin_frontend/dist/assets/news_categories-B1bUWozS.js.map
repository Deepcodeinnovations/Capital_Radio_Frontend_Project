{"version":3,"file":"news_categories-B1bUWozS.js","sources":["../../src/views/app/news/news_categories.vue"],"sourcesContent":["<template>\r\n    <div class=\"space-y-6\">\r\n      <!-- Header with Create Button -->\r\n      <div class=\"flex items-center justify-between\">\r\n        <h2 class=\"text-2xl font-bold text-gray-900 dark:text-white\">Categories Management</h2>\r\n        <button\r\n          @click=\"openCreateModal\"\r\n          class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\r\n        >\r\n          <PlusIcon class=\"w-5 h-5\" />\r\n          Add Category\r\n        </button>\r\n      </div>\r\n  \r\n      <!-- Categories Table -->\r\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden\">\r\n        <div class=\"overflow-x-auto\">\r\n          <table class=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\r\n            <thead class=\"bg-gray-50 dark:bg-gray-700\">\r\n              <tr>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Name</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Color</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Description</th>\r\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Order</th>\r\n                <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\r\n              <tr v-for=\"category in categories\" :key=\"category.id\" class=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\r\n                <td class=\"px-6 py-4\">\r\n                  <div class=\"flex items-center\">\r\n                    <div v-if=\"category.icon\" class=\"mr-3\">{{ category.icon }}</div>\r\n                    <div class=\"text-sm font-medium text-gray-900 dark:text-white\">{{ category.name }}</div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"px-6 py-4\">\r\n                  <div class=\"flex items-center\">\r\n                    <div \r\n                      class=\"w-4 h-4 rounded mr-2 border border-gray-300 dark:border-gray-600\"\r\n                      :style=\"{ backgroundColor: category.color }\"\r\n                    ></div>\r\n                    <span class=\"text-sm text-gray-600 dark:text-gray-400\">{{ category.color }}</span>\r\n                  </div>\r\n                </td>\r\n                <td class=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 max-w-xs truncate\">\r\n                  {{ category.description || 'No description' }}\r\n                </td>\r\n                <td class=\"px-6 py-4 text-sm text-gray-900 dark:text-white\">\r\n                  {{ category.sort_order }}\r\n                </td>\r\n                <td class=\"px-6 py-4 text-right text-sm font-medium\">\r\n                  <div class=\"flex justify-end gap-2\">\r\n                    <button\r\n                      @click=\"openEditModal(category)\"\r\n                      class=\"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300\"\r\n                    >\r\n                      <EditIcon class=\"h-4 w-4\" />\r\n                    </button>\r\n                    <button\r\n                      @click=\"deleteCategory(category.id)\"\r\n                      class=\"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300\"\r\n                    >\r\n                      <TrashIcon class=\"h-4 w-4\" />\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr v-if=\"categories.length === 0\">\r\n                <td colspan=\"5\" class=\"px-6 py-8 text-center text-gray-500 dark:text-gray-400\">\r\n                  No categories found. Create your first category to get started.\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Create/Edit Modal -->\r\n      <div v-if=\"showModal\" class=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\" @click=\"closeModal\">\r\n        <div class=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800\" @click.stop>\r\n          <div class=\"mt-3\">\r\n            <h3 class=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">\r\n              {{ isEditing ? 'Edit Category' : 'Create Category' }}\r\n            </h3>\r\n            <form @submit.prevent=\"submitForm\">\r\n              <div class=\"space-y-4\">\r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Name *</label>\r\n                  <input\r\n                    v-model=\"formData.name\"\r\n                    type=\"text\"\r\n                    required\r\n                    class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter category name\"\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Description</label>\r\n                  <textarea\r\n                    v-model=\"formData.description\"\r\n                    rows=\"3\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"Enter category description\"\r\n                  ></textarea>\r\n                </div>\r\n  \r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Color</label>\r\n                  <div class=\"flex items-center gap-3\">\r\n                    <input\r\n                      v-model=\"formData.color\"\r\n                      type=\"color\"\r\n                      class=\"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded-md cursor-pointer\"\r\n                    />\r\n                    <input\r\n                      v-model=\"formData.color\"\r\n                      type=\"text\"\r\n                      class=\"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                      placeholder=\"#3B82F6\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n  \r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Icon (Optional)</label>\r\n                  <input\r\n                    v-model=\"formData.icon\"\r\n                    type=\"text\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    placeholder=\"ðŸ“°\"\r\n                  />\r\n                </div>\r\n  \r\n                <div>\r\n                  <label class=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Sort Order</label>\r\n                  <input\r\n                    v-model.number=\"formData.sort_order\"\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n  \r\n              <div class=\"flex justify-end gap-3 mt-6\">\r\n                <button\r\n                  type=\"button\"\r\n                  @click=\"closeModal\"\r\n                  class=\"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  :disabled=\"loading === 'createcategory' || loading === 'updatecategory'\"\r\n                  class=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md disabled:opacity-50 transition-colors flex items-center gap-2\"\r\n                >\r\n                  <LoaderIcon v-if=\"loading === 'createcategory' || loading === 'updatecategory'\" class=\"w-4 h-4 animate-spin\" />\r\n                  {{ isEditing ? 'Update' : 'Create' }}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\n  import { ref, computed, onMounted } from 'vue';\r\n  import { useStore } from 'vuex';\r\n  import { \r\n    PlusIcon, \r\n    EditIcon, \r\n    TrashIcon,\r\n    LoaderIcon\r\n  } from 'lucide-vue-next';\r\n  \r\n  const store = useStore();\r\n  \r\n  // Computed properties\r\n  const categories = computed(() => store.getters.categories || []);\r\n  const loading = computed(() => store.getters.loading);\r\n  \r\n  // Reactive data\r\n  const showModal = ref(false);\r\n  const isEditing = ref(false);\r\n  const editingId = ref(null);\r\n  \r\n  const formData = ref({\r\n    name: '',\r\n    description: '',\r\n    color: '#3B82F6',\r\n    icon: '',\r\n    sort_order: 0\r\n  });\r\n  \r\n  // Methods\r\n  const fetchCategories = async () => {\r\n    try {\r\n      await store.dispatch('fetchcategories');\r\n    } catch (error) {\r\n      console.error('Error fetching categories:', error);\r\n    }\r\n  };\r\n  \r\n  const openCreateModal = () => {\r\n    isEditing.value = false;\r\n    editingId.value = null;\r\n    formData.value = {\r\n      name: '',\r\n      description: '',\r\n      color: '#3B82F6',\r\n      icon: '',\r\n      sort_order: 0\r\n    };\r\n    showModal.value = true;\r\n  };\r\n  \r\n  const openEditModal = (category) => {\r\n    isEditing.value = true;\r\n    editingId.value = category.id;\r\n    formData.value = {\r\n      name: category.name || '',\r\n      description: category.description || '',\r\n      color: category.color || '#3B82F6',\r\n      icon: category.icon || '',\r\n      sort_order: category.sort_order || 0\r\n    };\r\n    showModal.value = true;\r\n  };\r\n  \r\n  const closeModal = () => {\r\n    showModal.value = false;\r\n    isEditing.value = false;\r\n    editingId.value = null;\r\n    formData.value = {\r\n      name: '',\r\n      description: '',\r\n      color: '#3B82F6',\r\n      icon: '',\r\n      sort_order: 0\r\n    };\r\n  };\r\n  \r\n  const submitForm = async () => {\r\n    try {\r\n      if (isEditing.value) {\r\n        await store.dispatch('updatecategory', { \r\n          id: editingId.value, \r\n          data: formData.value \r\n        });\r\n      } else {\r\n        await store.dispatch('createcategory', formData.value);\r\n      }\r\n      closeModal();\r\n      await fetchCategories();\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n    }\r\n  };\r\n  \r\n  const deleteCategory = async (id) => {\r\n    if (confirm('Are you sure you want to delete this category? This action cannot be undone.')) {\r\n      try {\r\n        await store.dispatch('removecategory', id);\r\n        await fetchCategories();\r\n      } catch (error) {\r\n        console.error('Error deleting category:', error);\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Lifecycle\r\n  onMounted(() => {\r\n    fetchCategories();\r\n  });\r\n  </script>"],"names":["store","useStore","categories","computed","loading","showModal","ref","isEditing","editingId","formData","fetchCategories","error","openCreateModal","openEditModal","category","closeModal","submitForm","deleteCategory","id","onMounted"],"mappings":"i7CAmLE,MAAMA,EAAQC,IAGRC,EAAaC,EAAS,IAAMH,EAAM,QAAQ,YAAc,CAAA,CAAE,EAC1DI,EAAUD,EAAS,IAAMH,EAAM,QAAQ,OAAO,EAG9CK,EAAYC,EAAI,EAAK,EACrBC,EAAYD,EAAI,EAAK,EACrBE,EAAYF,EAAI,IAAI,EAEpBG,EAAWH,EAAI,CACnB,KAAM,GACN,YAAa,GACb,MAAO,UACP,KAAM,GACN,WAAY,CAChB,CAAG,EAGKI,EAAkB,SAAY,CAClC,GAAI,CACF,MAAMV,EAAM,SAAS,iBAAiB,CACvC,OAAQW,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,CAClD,CACL,EAEQC,EAAkB,IAAM,CAC5BL,EAAU,MAAQ,GAClBC,EAAU,MAAQ,KAClBC,EAAS,MAAQ,CACf,KAAM,GACN,YAAa,GACb,MAAO,UACP,KAAM,GACN,WAAY,CAClB,EACIJ,EAAU,MAAQ,EACtB,EAEQQ,EAAiBC,GAAa,CAClCP,EAAU,MAAQ,GAClBC,EAAU,MAAQM,EAAS,GAC3BL,EAAS,MAAQ,CACf,KAAMK,EAAS,MAAQ,GACvB,YAAaA,EAAS,aAAe,GACrC,MAAOA,EAAS,OAAS,UACzB,KAAMA,EAAS,MAAQ,GACvB,WAAYA,EAAS,YAAc,CACzC,EACIT,EAAU,MAAQ,EACtB,EAEQU,EAAa,IAAM,CACvBV,EAAU,MAAQ,GAClBE,EAAU,MAAQ,GAClBC,EAAU,MAAQ,KAClBC,EAAS,MAAQ,CACf,KAAM,GACN,YAAa,GACb,MAAO,UACP,KAAM,GACN,WAAY,CAClB,CACA,EAEQO,EAAa,SAAY,CAC7B,GAAI,CACET,EAAU,MACZ,MAAMP,EAAM,SAAS,iBAAkB,CACrC,GAAIQ,EAAU,MACd,KAAMC,EAAS,KACzB,CAAS,EAED,MAAMT,EAAM,SAAS,iBAAkBS,EAAS,KAAK,EAEvDM,IACA,MAAML,EAAe,CACtB,OAAQC,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACL,EAEQM,EAAiB,MAAOC,GAAO,CACnC,GAAI,QAAQ,8EAA8E,EACxF,GAAI,CACF,MAAMlB,EAAM,SAAS,iBAAkBkB,CAAE,EACzC,MAAMR,EAAe,CACtB,OAAQC,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CAChD,CAEP,EAGE,OAAAQ,EAAU,IAAM,CACdT,GACJ,CAAG"}