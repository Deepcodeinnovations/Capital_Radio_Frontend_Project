import{e as Ue,u as Ae,g as b,i as I,w as Se,h as De,z as Ee,H as Pe,c as d,o as l,b as e,j as m,d as p,l as x,k as i,v as A,I as O,p as _,t as o,a as je,F as Ve,C as Me,n as J,y as Ie,q as ne,s as S,x as ie}from"./index-HonnCRWc.js";import{S as Le,C as ue}from"./search-DRpXXN1_.js";import{X as L}from"./x-DCmuZfUC.js";import{U as Te}from"./user-plus-DRH40Ur9.js";import{U as ce}from"./users-DrFhHweA.js";import{S as Ne}from"./shield-BKvmVRpv.js";import{S as pe}from"./square-pen-DxPRNa8l.js";import{M as Fe}from"./mic-d2YjbIgg.js";import{C as Re}from"./circle-check-big-CR-3oK1Y.js";import{L as K}from"./loader-circle-BylLMRlM.js";import{E as Y}from"./eye-Dccr2bBQ.js";import{c as $e}from"./createLucideIcon-DJ9dhBxN.js";import{C as qe}from"./camera-D3EfL0Le.js";import{E as me}from"./eye-off-DrtVPf98.js";import{T as Be}from"./triangle-alert-BsOCzNhg.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=$e("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Oe={class:"min-h-screen"},Je={class:"mx-auto mb-8"},Ke={class:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6"},Ye={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 w-full lg:w-auto"},He={class:"flex items-center gap-3 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-xl p-3 shadow-lg border border-white/60 dark:border-slate-700/60"},We={class:"relative"},Xe={class:"relative"},Ge={class:"relative"},Qe={class:"mx-auto space-y-8"},Ze={key:0,class:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-white/60 dark:border-slate-700/60"},et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"},tt={class:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/40 dark:to-blue-800/40 rounded-xl p-6 border border-blue-200/50 dark:border-blue-700/50"},rt={class:"flex items-center justify-between"},st={class:"text-3xl font-bold text-blue-900 dark:text-blue-100 mt-1"},at={class:"p-3 bg-blue-200/50 dark:bg-blue-800/50 rounded-xl"},lt={class:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/40 dark:to-red-800/40 rounded-xl p-6 border border-red-200/50 dark:border-red-700/50"},ot={class:"flex items-center justify-between"},dt={class:"text-3xl font-bold text-red-900 dark:text-red-100 mt-1"},nt={class:"p-3 bg-red-200/50 dark:bg-red-800/50 rounded-xl"},it={class:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-6 border border-purple-200/50 dark:border-purple-700/50"},ut={class:"flex items-center justify-between"},ct={class:"text-3xl font-bold text-purple-900 dark:text-purple-100 mt-1"},pt={class:"p-3 bg-purple-200/50 dark:bg-purple-800/50 rounded-xl"},mt={class:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/40 dark:to-green-800/40 rounded-xl p-6 border border-green-200/50 dark:border-green-700/50"},vt={class:"flex items-center justify-between"},bt={class:"text-3xl font-bold text-green-900 dark:text-green-100 mt-1"},xt={class:"p-3 bg-green-200/50 dark:bg-green-800/50 rounded-xl"},gt={class:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/40 dark:to-orange-800/40 rounded-xl p-6 border border-orange-200/50 dark:border-orange-700/50"},ft={class:"flex items-center justify-between"},ht={class:"text-3xl font-bold text-orange-900 dark:text-orange-100 mt-1"},kt={class:"p-3 bg-orange-200/50 dark:bg-orange-800/50 rounded-xl"},wt={key:0,class:"flex items-center gap-3 mt-6 pt-6 border-t border-slate-200/50 dark:border-slate-700/50"},_t={class:"flex items-center gap-3 flex-wrap"},yt={key:0,class:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/40 dark:to-blue-800/40 text-blue-800 dark:text-blue-200 text-sm rounded-full border border-blue-200 dark:border-blue-700"},Ct={key:1,class:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-purple-100 to-purple-200 dark:from-purple-900/40 dark:to-purple-800/40 text-purple-800 dark:text-purple-200 text-sm rounded-full border border-purple-200 dark:border-purple-700"},Ut={key:2,class:"inline-flex items-center px-3 py-1 bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/40 dark:to-green-800/40 text-green-800 dark:text-green-200 text-sm rounded-full border border-green-200 dark:border-green-700"},At={class:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/60 dark:border-slate-700/60 overflow-hidden"},St={key:0,class:"flex items-center justify-center py-20"},Dt={class:"text-center"},Et={key:1,class:"text-center py-20"},Pt={key:2},jt={class:"divide-y divide-slate-200/30 dark:divide-slate-700/30"},Vt={class:"grid grid-cols-12 gap-6 items-center"},Mt={class:"col-span-4"},It={class:"flex items-center space-x-4"},Lt={class:"relative flex-shrink-0"},Tt=["src","alt"],Nt={key:1,class:"h-12 w-12 rounded-2xl bg-gradient-to-br from-purple-500 to-orange-500 flex items-center justify-center text-white font-semibold text-lg shadow-lg ring-2 ring-white dark:ring-slate-700"},Ft={class:"min-w-0 flex-1"},Rt={class:"text-lg font-semibold text-slate-800 dark:text-white truncate group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors"},$t={class:"text-sm text-slate-500 dark:text-slate-400 truncate"},qt={key:0,class:"text-sm text-slate-600 dark:text-slate-300 truncate mt-1"},Bt={class:"col-span-2"},zt={class:"space-y-2"},Ot={class:"flex items-center space-x-2"},Jt={key:0,class:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200"},Kt={class:"col-span-2"},Yt={class:"space-y-1"},Ht={key:0,class:"text-sm text-slate-600 dark:text-slate-300"},Wt={key:1,class:"text-sm text-slate-500 dark:text-slate-400 truncate"},Xt={class:"flex items-center space-x-1 mt-2"},Gt={key:0,class:"w-2 h-2 bg-green-500 rounded-full",title:"Email Verified"},Qt={key:1,class:"w-2 h-2 bg-blue-500 rounded-full",title:"Phone Verified"},Zt={class:"col-span-2"},er={class:"space-y-1"},tr={class:"text-sm text-slate-600 dark:text-slate-300"},rr={key:0,class:"text-xs text-slate-500 dark:text-slate-400"},sr={class:"text-xs text-slate-400 dark:text-slate-500"},ar={class:"col-span-2"},lr={class:"flex items-center justify-center space-x-2"},or=["onClick"],dr=["onClick"],nr=["onClick","disabled"],ir={key:3,class:"px-8 py-6 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 border-t border-slate-200/50 dark:border-slate-700/50"},ur={class:"flex items-center justify-between"},cr={class:"text-sm text-slate-600 dark:text-slate-400"},pr={class:"flex items-center space-x-3"},mr=["disabled"],vr={class:"px-4 py-2 text-sm text-slate-600 dark:text-slate-300 bg-gradient-to-r from-purple-100 to-orange-100 dark:from-purple-900/40 dark:to-orange-900/40 rounded-xl border border-purple-200 dark:border-purple-700"},br=["disabled"],xr={key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},gr={class:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-3xl max-h-[90vh] shadow-2xl border border-white/40 dark:border-slate-700/40 flex flex-col"},fr={class:"px-8 py-6 border-b border-slate-200/50 dark:border-slate-700/50"},hr={class:"flex items-center justify-between"},kr={class:"text-2xl font-semibold text-slate-900 dark:text-white"},wr={class:"flex-1 overflow-y-auto p-8"},_r={class:"flex items-center space-x-6 pb-6 border-b border-slate-200/50 dark:border-slate-700/50"},yr={class:"relative"},Cr={class:"h-20 w-20 rounded-3xl overflow-hidden bg-gradient-to-br from-purple-100 to-orange-100 dark:from-purple-900 dark:to-orange-900 shadow-xl ring-4 ring-white dark:ring-slate-700"},Ur=["src","alt"],Ar={key:1,class:"h-full w-full bg-gradient-to-br from-purple-600 to-orange-500 flex items-center justify-center text-white font-bold text-2xl"},Sr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Dr={key:0},Er={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pr={class:"relative"},jr=["type"],Vr={class:"relative"},Mr=["type"],Ir={class:"space-y-4"},Lr={class:"flex flex-col sm:flex-row sm:items-center gap-6"},Tr={class:"flex items-center"},Nr={class:"flex items-center"},Fr={class:"px-8 py-6 border-t border-slate-200/50 dark:border-slate-700/50 bg-slate-50/60 dark:bg-slate-700/60"},Rr={class:"flex items-center justify-end gap-4"},$r=["disabled"],qr={key:1,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Br={class:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md shadow-2xl border border-white/40 dark:border-slate-700/40"},zr={class:"p-8"},Or={class:"flex items-center justify-center w-16 h-16 mx-auto mb-6 bg-gradient-to-br from-red-100 to-orange-100 dark:from-red-900/40 dark:to-orange-900/40 rounded-2xl"},Jr={class:"text-slate-600 dark:text-slate-300 text-center mb-8"},Kr={class:"text-slate-900 dark:text-white"},Yr={class:"flex items-center justify-center gap-4"},Hr=["disabled"],cs={__name:"user_manager",setup(Wr,{expose:ve}){Ue();const n=Ae(),$=b(!1),D=b(!1),E=b(!1),y=b(!1),T=b(!1),k=b(!1),P=b(null),N=b(null),C=b(null),j=b(null),V=b(!1),M=b(!1),H=I(()=>n.getters.adminList.data||[]),g=I(()=>n.getters.adminPagination),U=I(()=>n.getters.adminStats),be=I(()=>n.getters.authuser),W=I(()=>c.value.search||c.value.role||c.value.status),s=b({name:"",email:"",phone:"",role:"",password:"",confirm_password:"",address:"",about:"",status:!0,allow_login:!0,image_url:null,avatar:null}),c=b({search:"",role:"",status:"",page:1,per_page:10}),xe=a=>{const t=a.target.files[0];if(t){if(!t.type.startsWith("image/")){n.commit("seterror","Please select a valid image file",{root:!0});return}if(t.size>5*1024*1024){n.commit("seterror","Image size must be less than 5MB",{root:!0});return}const u=new FileReader;u.onload=v=>{C.value=v.target.result,s.value.avatar=t},u.readAsDataURL(t)}},ge=()=>{C.value=null,s.value.avatar=null,s.value.image_url=null,j.value&&(j.value.value="")},f=async()=>{$.value=!0;try{await n.dispatch("getAdminList",{...c.value,include_total:!0})}catch(a){console.error("Error fetching users:",a),n.commit("seterror","Failed to fetch users",{root:!0})}finally{$.value=!1}},fe=()=>{clearTimeout(N.value),N.value=setTimeout(()=>{c.value.page=1,f()},500)},he=()=>{c.value={search:"",role:"",status:"",page:1,per_page:10},f()},X=a=>{var t;a>=1&&a<=((t=g.value)==null?void 0:t.last_page)&&(c.value.page=a,f())},G=()=>{s.value={name:"",email:"",phone:"",role:"",password:"",confirm_password:"",address:"",about:"",status:!0,allow_login:!0,image_url:null,avatar:null},C.value=null,V.value=!1,M.value=!1,j.value&&(j.value.value="")},q=()=>{G(),k.value=!1,y.value=!0},Q=a=>{k.value=!0,s.value={id:a.id,name:a.name||"",email:a.email||"",phone:a.phone||"",role:a.role||"",address:a.address||"",about:a.about||"",status:a.status!==void 0?a.status:!0,allow_login:a.allow_login!==void 0?a.allow_login:!0,image_url:a.image_url||null,avatar:null},C.value=a.image_url||null,y.value=!0},ke=a=>{alert("You Now Allowed to View this Information")},Z=a=>{P.value=a,T.value=!0},F=()=>{y.value=!1,G()},B=()=>{T.value=!1,P.value=null},ee=()=>{var t,u;if(n.commit("seterror","",{root:!0}),!((t=s.value.name)!=null&&t.trim()))return n.commit("seterror","Name is required",{root:!0}),!1;if(!((u=s.value.email)!=null&&u.trim()))return n.commit("seterror","Email is required",{root:!0}),!1;if(!s.value.role)return n.commit("seterror","Role is required",{root:!0}),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email))return n.commit("seterror","Please enter a valid email address",{root:!0}),!1;if(!k.value){if(!s.value.password)return n.commit("seterror","Password is required",{root:!0}),!1;if(s.value.password!==s.value.confirm_password)return n.commit("seterror","Passwords do not match",{root:!0}),!1;if(s.value.password.length<8)return n.commit("seterror","Password must be at least 8 characters long",{root:!0}),!1}return s.value.phone&&s.value.phone.trim()&&!/^[\+]?[\d\s\-\(\)]{10,}$/.test(s.value.phone)?(n.commit("seterror","Please enter a valid phone number",{root:!0}),!1):!0},z=async()=>{var a,t;if(ee()){D.value=!0;try{const u=new FormData;["name","email","phone","role","address","about","status","allow_login"].forEach(w=>{s.value[w]!==null&&s.value[w]!==void 0&&s.value[w]!==""&&u.append(w,s.value[w])}),!k.value&&s.value.password&&u.append("password",s.value.password),s.value.avatar instanceof File&&u.append("image",s.value.avatar);let h;k.value?(h=await n.dispatch("updateAdmin",{adminId:s.value.id,data:u}),await n.dispatch("template_play_success_file","User updated successfully",{root:!0})):(h=await n.dispatch("createAdmin",u),await n.dispatch("template_play_success_file","User created successfully",{root:!0})),F(),await f()}catch(u){console.error("Error saving user:",u);const v=((t=(a=u.response)==null?void 0:a.data)==null?void 0:t.msg)||u.message||"Failed to save user";n.commit("seterror",v,{root:!0}),await n.dispatch("template_play_error_file",v,{root:!0})}finally{D.value=!1}}},te=async()=>{var a,t;if(P.value){E.value=!0;try{await n.dispatch("deleteAdmin",{adminId:P.value.id,hardDelete:!1}),await n.dispatch("template_play_delete_file","User deleted successfully",{root:!0}),B(),await f()}catch(u){console.error("Error deleting user:",u);const v=((t=(a=u.response)==null?void 0:a.data)==null?void 0:t.msg)||u.message||"Failed to delete user";n.commit("seterror",v,{root:!0}),await n.dispatch("template_play_error_file",v,{root:!0})}finally{E.value=!1}}},we=a=>({admin:"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/40 dark:to-red-800/40 text-red-800 dark:text-red-200 border border-red-200 dark:border-red-700",editor:"bg-gradient-to-r from-purple-100 to-purple-200 dark:from-purple-900/40 dark:to-purple-800/40 text-purple-800 dark:text-purple-200 border border-purple-200 dark:border-purple-700",presenter:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/40 dark:to-green-800/40 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-700"})[a]||"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-900/40 dark:to-gray-800/40 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700",re=a=>{if(!a)return"Never";try{const t=new Date(a),v=Math.abs(new Date-t),h=Math.ceil(v/(1e3*60*60*24));return h===1?"Yesterday":h<7?`${h} days ago`:h<30?`${Math.ceil(h/7)} weeks ago`:t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},se=a=>{var t;if(a.ctrlKey||a.metaKey)switch(a.key){case"n":a.preventDefault(),q();break;case"f":a.preventDefault(),(t=document.querySelector('input[placeholder="Search users..."]'))==null||t.focus();break}a.key==="Escape"&&(y.value?F():T.value&&B())};let R=null;const _e=()=>{clearTimeout(R),R=setTimeout(()=>{y.value&&localStorage.setItem("admin_user_form_draft",JSON.stringify({...s.value,avatar:null,timestamp:new Date().toISOString()}))},1e3)},ye=()=>{try{const a=localStorage.getItem("admin_user_form_draft");if(a){const t=JSON.parse(a);new Date-new Date(t.timestamp)<36e5&&confirm("You have unsaved changes from a previous session. Would you like to restore them?")&&(Object.assign(s.value,t),delete s.value.timestamp),localStorage.removeItem("admin_user_form_draft")}}catch(a){console.error("Error loading form draft:",a)}},Ce=()=>{localStorage.removeItem("admin_user_form_draft")};return Se(s,_e,{deep:!0}),De(async()=>{document.addEventListener("keydown",se),await f(),y.value&&!k.value&&ye()}),Ee(()=>{document.removeEventListener("keydown",se),N.value&&clearTimeout(N.value),R&&clearTimeout(R)}),Pe(()=>{Ce()}),ve({fetchUsers:f,openCreateModal:q,editUser:Q,deleteUser:Z,validateForm:ee,saveUser:z,confirmDelete:te}),(a,t)=>{var u,v,h,w;return l(),d("div",Oe,[e("div",Je,[e("div",Ke,[t[24]||(t[24]=e("div",null,[e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent"},"Admin Users"),e("p",{class:"text-slate-600 dark:text-slate-300 mt-1"},"Manage admin users and their permissions")],-1)),e("div",Ye,[e("div",He,[e("div",We,[p(i(Le),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-purple-400 dark:text-purple-300"}),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>c.value.search=r),onInput:fe,type:"text",placeholder:"Search users...",class:"pl-9 pr-3 py-2 w-48 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500"},null,544),[[A,c.value.search]])]),e("div",Xe,[x(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>c.value.role=r),onChange:f,class:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm appearance-none cursor-pointer pr-8 text-slate-900 dark:text-white"},t[21]||(t[21]=[e("option",{value:""},"All Roles",-1),e("option",{value:"admin"},"Admin",-1),e("option",{value:"editor"},"Editor",-1),e("option",{value:"presenter"},"Presenter",-1)]),544),[[O,c.value.role]]),p(i(ue),{class:"absolute right-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-slate-400 pointer-events-none"})]),e("div",Ge,[x(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>c.value.status=r),onChange:f,class:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm appearance-none cursor-pointer pr-8 text-slate-900 dark:text-white"},t[22]||(t[22]=[e("option",{value:""},"All Status",-1),e("option",{value:"true"},"Active",-1),e("option",{value:"false"},"Inactive",-1)]),544),[[O,c.value.status]]),p(i(ue),{class:"absolute right-2 top-1/2 transform -translate-y-1/2 h-3 w-3 text-slate-400 pointer-events-none"})]),W.value?(l(),d("button",{key:0,onClick:he,class:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Clear filters"},[p(i(L),{class:"h-4 w-4"})])):m("",!0)]),e("button",{onClick:q,class:"flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-600 to-orange-500 text-white rounded-xl hover:from-purple-700 hover:to-orange-600 transition-all duration-200 shadow-lg hover:shadow-xl text-sm font-medium transform hover:-translate-y-0.5"},[p(i(Te),{class:"h-4 w-4 mr-2"}),t[23]||(t[23]=_(" Add Admin User "))])])])]),e("div",Qe,[U.value?(l(),d("div",Ze,[t[31]||(t[31]=e("h3",{class:"text-xl font-semibold text-slate-800 dark:text-white mb-6"},"User Statistics",-1)),e("div",et,[e("div",tt,[e("div",rt,[e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-blue-600 dark:text-blue-400"},"Total Users",-1)),e("p",st,o(U.value.total_users||0),1)]),e("div",at,[p(i(ce),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})])])]),e("div",lt,[e("div",ot,[e("div",null,[t[26]||(t[26]=e("p",{class:"text-sm font-medium text-red-600 dark:text-red-400"},"Admins",-1)),e("p",dt,o(((u=U.value.users_by_role)==null?void 0:u.admin)||0),1)]),e("div",nt,[p(i(Ne),{class:"h-8 w-8 text-red-600 dark:text-red-400"})])])]),e("div",it,[e("div",ut,[e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm font-medium text-purple-600 dark:text-purple-400"},"Editors",-1)),e("p",ct,o(((v=U.value.users_by_role)==null?void 0:v.editor)||0),1)]),e("div",pt,[p(i(pe),{class:"h-8 w-8 text-purple-600 dark:text-purple-400"})])])]),e("div",mt,[e("div",vt,[e("div",null,[t[28]||(t[28]=e("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Presenters",-1)),e("p",bt,o(((h=U.value.users_by_role)==null?void 0:h.presenter)||0),1)]),e("div",xt,[p(i(Fe),{class:"h-8 w-8 text-green-600 dark:text-green-400"})])])]),e("div",gt,[e("div",ft,[e("div",null,[t[29]||(t[29]=e("p",{class:"text-sm font-medium text-orange-600 dark:text-orange-400"},"Active Users",-1)),e("p",ht,o(U.value.active_users||0),1)]),e("div",kt,[p(i(Re),{class:"h-8 w-8 text-orange-600 dark:text-orange-400"})])])])]),W.value?(l(),d("div",wt,[t[30]||(t[30]=e("span",{class:"text-sm text-slate-600 dark:text-slate-400 font-medium"},"Active filters:",-1)),e("div",_t,[c.value.search?(l(),d("span",yt,[_(' Search: "'+o(c.value.search)+'" ',1),e("button",{onClick:t[3]||(t[3]=r=>{c.value.search="",f()}),class:"ml-2 hover:text-blue-900 dark:hover:text-blue-100"},[p(i(L),{class:"h-3 w-3"})])])):m("",!0),c.value.role?(l(),d("span",Ct,[_(" Role: "+o(c.value.role)+" ",1),e("button",{onClick:t[4]||(t[4]=r=>{c.value.role="",f()}),class:"ml-2 hover:text-purple-900 dark:hover:text-purple-100"},[p(i(L),{class:"h-3 w-3"})])])):m("",!0),c.value.status?(l(),d("span",Ut,[_(" Status: "+o(c.value.status==="true"?"Active":"Inactive")+" ",1),e("button",{onClick:t[5]||(t[5]=r=>{c.value.status="",f()}),class:"ml-2 hover:text-green-900 dark:hover:text-green-100"},[p(i(L),{class:"h-3 w-3"})])])):m("",!0)])])):m("",!0)])):m("",!0),e("div",At,[$.value?(l(),d("div",St,[e("div",Dt,[p(i(K),{class:"h-12 w-12 animate-spin text-purple-600 mx-auto mb-4"}),t[32]||(t[32]=e("p",{class:"text-slate-600 dark:text-slate-300"},"Loading users...",-1))])])):H.value.length===0?(l(),d("div",Et,[p(i(ce),{class:"h-16 w-16 text-slate-400 mx-auto mb-6"}),t[33]||(t[33]=e("h3",{class:"text-xl font-medium text-slate-900 dark:text-white mb-2"},"No users found",-1)),t[34]||(t[34]=e("p",{class:"text-slate-500 dark:text-slate-400"},"Try adjusting your search criteria or add a new user",-1))])):(l(),d("div",Pt,[t[35]||(t[35]=je('<div class="px-8 py-5 bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-700 border-b border-slate-200/50 dark:border-slate-700/50"><div class="grid grid-cols-12 gap-6 text-sm font-semibold text-slate-600 dark:text-slate-400 uppercase tracking-wide"><div class="col-span-4">User</div><div class="col-span-2">Role &amp; Status</div><div class="col-span-2">Contact</div><div class="col-span-2">Last Activity</div><div class="col-span-2 text-center">Actions</div></div></div>',1)),e("div",jt,[(l(!0),d(Ve,null,Me(H.value,r=>{var ae,le,oe;return l(),d("div",{key:r.id,class:"px-8 py-6 hover:bg-white/60 dark:hover:bg-slate-700/50 transition-all duration-200 group"},[e("div",Vt,[e("div",Mt,[e("div",It,[e("div",Lt,[r.image_url?(l(),d("img",{key:0,src:r.image_url,alt:r.name,class:"h-12 w-12 rounded-2xl object-cover shadow-lg ring-2 ring-white dark:ring-slate-700"},null,8,Tt)):(l(),d("div",Nt,o(((le=(ae=r.name)==null?void 0:ae.charAt(0))==null?void 0:le.toUpperCase())||"U"),1)),e("div",{class:J(["absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-slate-800 shadow-sm",r.status?"bg-green-500":"bg-red-500"])},null,2)]),e("div",Ft,[e("div",Rt,o(r.name||"N/A"),1),e("div",$t,o(r.email||"N/A"),1),r.about?(l(),d("div",qt,o(r.about),1)):m("",!0)])])]),e("div",Bt,[e("div",zt,[e("span",{class:J(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",we(r.role)])},o(r.role||"N/A"),3),e("div",Ot,[e("span",{class:J(["inline-flex px-2 py-1 text-xs font-medium rounded-full",r.status?"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200"])},o(r.status?"Active":"Inactive"),3),r.allow_login?(l(),d("span",Jt," Login Allowed ")):m("",!0)])])]),e("div",Kt,[e("div",Yt,[r.phone?(l(),d("div",Ht,o(r.phone),1)):m("",!0),r.address?(l(),d("div",Wt,o(r.address),1)):m("",!0),e("div",Xt,[r.email_verified_at?(l(),d("div",Gt)):m("",!0),r.phone_verified_at?(l(),d("div",Qt)):m("",!0)])])]),e("div",Zt,[e("div",er,[e("div",tr,o(r.last_seen?re(r.last_seen):"Never"),1),r.last_device?(l(),d("div",rr,o(r.last_device),1)):m("",!0),e("div",sr," Joined "+o(re(r.created_at)),1)])]),e("div",ar,[e("div",lr,[e("button",{onClick:de=>ke(),class:"p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/40 transition-all",title:"View User"},[p(i(Y),{class:"h-5 w-5"})],8,or),e("button",{onClick:de=>Q(r),class:"p-2 text-slate-400 hover:text-emerald-600 dark:hover:text-emerald-400 rounded-lg hover:bg-emerald-50 dark:hover:bg-emerald-900/40 transition-all",title:"Edit User"},[p(i(pe),{class:"h-5 w-5"})],8,dr),e("button",{onClick:de=>Z(r),disabled:r.id===((oe=be.value)==null?void 0:oe.id),class:"p-2 text-slate-400 hover:text-red-600 dark:hover:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/40 disabled:opacity-50 disabled:cursor-not-allowed transition-all",title:"Delete User"},[p(i(ze),{class:"h-5 w-5"})],8,nr)])])])])}),128))])])),g.value&&g.value.last_page>1?(l(),d("div",ir,[e("div",ur,[e("div",cr," Showing "+o(g.value.from)+" to "+o(g.value.to)+" of "+o(g.value.total)+" results ",1),e("div",pr,[e("button",{onClick:t[6]||(t[6]=r=>X(g.value.current_page-1)),disabled:!g.value.has_prev,class:"px-4 py-2 text-sm rounded-xl bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600"}," Previous ",8,mr),e("span",vr," Page "+o(g.value.current_page)+" of "+o(g.value.last_page),1),e("button",{onClick:t[7]||(t[7]=r=>X(g.value.current_page+1)),disabled:!g.value.has_next,class:"px-4 py-2 text-sm rounded-xl bg-white dark:bg-slate-700 hover:bg-slate-50 dark:hover:bg-slate-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600"}," Next ",8,br)])])])):m("",!0)])]),y.value?(l(),d("div",xr,[e("div",gr,[e("div",fr,[e("div",hr,[e("h3",kr,o(k.value?"Edit Admin User":"Create Admin User"),1),e("button",{onClick:F,class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700"},[p(i(L),{class:"h-6 w-6"})])])]),e("div",wr,[e("form",{onSubmit:Ie(z,["prevent"]),class:"space-y-6"},[e("div",_r,[e("div",yr,[e("div",Cr,[C.value||s.value.image_url?(l(),d("img",{key:0,src:C.value||s.value.image_url,alt:s.value.name||"User",class:"h-full w-full object-cover"},null,8,Ur)):(l(),d("div",Ar,o(s.value.name?s.value.name.charAt(0).toUpperCase():"U"),1))]),e("input",{type:"file",ref_key:"avatarInput",ref:j,onChange:xe,accept:"image/*",class:"hidden"},null,544),e("button",{type:"button",onClick:t[8]||(t[8]=r=>a.$refs.avatarInput.click()),class:"absolute -bottom-2 -right-2 bg-gradient-to-r from-purple-600 to-orange-500 text-white p-2 rounded-xl hover:from-purple-700 hover:to-orange-600 shadow-lg transition-all"},[p(i(qe),{class:"h-4 w-4"})])]),e("div",null,[t[36]||(t[36]=e("p",{class:"text-lg font-medium text-slate-900 dark:text-white"},"Profile Photo",-1)),t[37]||(t[37]=e("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Upload a profile picture for the user",-1)),C.value||s.value.image_url?(l(),d("button",{key:0,type:"button",onClick:ge,class:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 mt-2 transition-colors"}," Remove Photo ")):m("",!0)])]),e("div",null,[t[44]||(t[44]=e("h4",{class:"text-lg font-semibold text-slate-800 dark:text-white mb-4"},"Basic Information",-1)),e("div",Sr,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Full Name *",-1)),x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>s.value.name=r),type:"text",required:"",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter full name"},null,512),[[A,s.value.name]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Email *",-1)),x(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>s.value.email=r),type:"email",required:"",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter email address"},null,512),[[A,s.value.email]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Phone",-1)),x(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>s.value.phone=r),type:"tel",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter phone number"},null,512),[[A,s.value.phone]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Role *",-1)),x(e("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>s.value.role=r),required:"",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},t[41]||(t[41]=[e("option",{value:""},"Select Role",-1),e("option",{value:"admin"},"Admin",-1),e("option",{value:"editor"},"Editor",-1),e("option",{value:"presenter"},"Presenter",-1)]),512),[[O,s.value.role]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Address",-1)),x(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>s.value.address=r),type:"text",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter address"},null,512),[[A,s.value.address]])])])]),k.value?m("",!0):(l(),d("div",Dr,[t[47]||(t[47]=e("h4",{class:"text-lg font-semibold text-slate-800 dark:text-white mb-4"},"Security",-1)),e("div",Er,[e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Password *",-1)),e("div",Pr,[x(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>s.value.password=r),type:V.value?"text":"password",required:"",class:"w-full px-4 py-3 pr-12 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter password"},null,8,jr),[[ne,s.value.password]]),e("button",{type:"button",onClick:t[15]||(t[15]=r=>V.value=!V.value),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors"},[V.value?(l(),S(i(me),{key:1,class:"h-5 w-5"})):(l(),S(i(Y),{key:0,class:"h-5 w-5"}))])])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"Confirm Password *",-1)),e("div",Vr,[x(e("input",{"onUpdate:modelValue":t[16]||(t[16]=r=>s.value.confirm_password=r),type:M.value?"text":"password",required:"",class:"w-full px-4 py-3 pr-12 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm password"},null,8,Mr),[[ne,s.value.confirm_password]]),e("button",{type:"button",onClick:t[17]||(t[17]=r=>M.value=!M.value),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition-colors"},[M.value?(l(),S(i(me),{key:1,class:"h-5 w-5"})):(l(),S(i(Y),{key:0,class:"h-5 w-5"}))])])])])])),e("div",null,[t[49]||(t[49]=e("h4",{class:"text-lg font-semibold text-slate-800 dark:text-white mb-4"},"Additional Information",-1)),e("div",Ir,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2"},"About",-1)),x(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=r=>s.value.about=r),rows:"3",placeholder:"Brief description about the user...",class:"w-full px-4 py-3 border border-slate-300 dark:border-slate-600 rounded-xl shadow-sm placeholder-slate-400 bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all resize-none"},null,512),[[A,s.value.about]])])])]),e("div",null,[t[52]||(t[52]=e("h4",{class:"text-lg font-semibold text-slate-800 dark:text-white mb-4"},"Account Settings",-1)),e("div",Lr,[e("label",Tr,[x(e("input",{"onUpdate:modelValue":t[19]||(t[19]=r=>s.value.status=r),type:"checkbox",class:"rounded border-slate-300 dark:border-slate-600 text-purple-600 focus:ring-purple-500 w-5 h-5"},null,512),[[ie,s.value.status]]),t[50]||(t[50]=e("span",{class:"ml-3 text-slate-700 dark:text-slate-300 font-medium"},"Active Status",-1))]),e("label",Nr,[x(e("input",{"onUpdate:modelValue":t[20]||(t[20]=r=>s.value.allow_login=r),type:"checkbox",class:"rounded border-slate-300 dark:border-slate-600 text-purple-600 focus:ring-purple-500 w-5 h-5"},null,512),[[ie,s.value.allow_login]]),t[51]||(t[51]=e("span",{class:"ml-3 text-slate-700 dark:text-slate-300 font-medium"},"Allow Login",-1))])])])],32)]),e("div",Fr,[e("div",Rr,[e("button",{onClick:F,type:"button",class:"px-6 py-3 text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-600 transition-all font-medium"}," Cancel "),e("button",{onClick:z,type:"button",disabled:D.value,class:"px-6 py-3 bg-gradient-to-r from-purple-600 to-orange-500 text-white rounded-xl hover:from-purple-700 hover:to-orange-600 disabled:opacity-50 transition-all font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center"},[D.value?(l(),S(i(K),{key:0,class:"h-4 w-4 animate-spin mr-2"})):m("",!0),_(" "+o(D.value?k.value?"Updating...":"Creating...":k.value?"Update User":"Create User"),1)],8,$r)])])])])):m("",!0),T.value?(l(),d("div",qr,[e("div",Br,[e("div",zr,[e("div",Or,[p(i(Be),{class:"h-8 w-8 text-red-600 dark:text-red-400"})]),t[55]||(t[55]=e("h3",{class:"text-xl font-semibold text-center text-slate-900 dark:text-white mb-3"},"Delete User",-1)),e("p",Jr,[t[53]||(t[53]=_(" Are you sure you want to delete ")),e("strong",Kr,o((w=P.value)==null?void 0:w.name),1),t[54]||(t[54]=_("? This action cannot be undone. "))]),e("div",Yr,[e("button",{onClick:B,class:"px-6 py-3 text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all font-medium"}," Cancel "),e("button",{onClick:te,disabled:E.value,class:"px-6 py-3 bg-gradient-to-r from-red-600 to-orange-500 text-white rounded-xl hover:from-red-700 hover:to-orange-600 disabled:opacity-50 transition-all font-medium shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center"},[E.value?(l(),S(i(K),{key:0,class:"h-4 w-4 animate-spin mr-2"})):m("",!0),_(" "+o(E.value?"Deleting...":"Delete User"),1)],8,Hr)])])])])):m("",!0)])}}};export{cs as default};
//# sourceMappingURL=user_manager-B3lsptFM.js.map
