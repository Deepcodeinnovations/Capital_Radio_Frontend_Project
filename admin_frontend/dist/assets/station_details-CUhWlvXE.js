import{u as Te,x as Ie,g as h,f as x,p as Me,q as Ve,D as Ue,c as i,o as r,b as e,h as v,t as u,d as p,i as m,k as j,n as le,F as D,s as F,m as H,w as k,B as N,v as z,C as oe,l as Le}from"./index-nOqVMhSP.js";import{T as $e}from"./triangle-alert-CWfHv5fj.js";import{C as Be}from"./circle-check-big-9cNfCh4g.js";import{S as Ee}from"./shield-check-ctu1-iRh.js";import{P as de}from"./plus-DuFhQe66.js";import{R as Pe}from"./refresh-cw-C3JWXq1e.js";import{c as je}from"./createLucideIcon-BxhE3_JV.js";import{T as He}from"./trash-CULHkSjr.js";import{M as Re}from"./mic-BHMlvyvd.js";import{X as re}from"./x-D4KeTYyF.js";import{L as qe}from"./loader-CmDhcKWI.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=je("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ne={class:"space-y-6 p-6"},ze={class:"flex justify-between items-center"},Qe={class:"text-sm text-slate-600 dark:text-slate-400 mt-1"},We={class:"flex items-center gap-3"},Oe={key:0,class:"flex items-center gap-2"},Xe={key:0,class:"flex items-center gap-2 text-red-600 dark:text-red-400"},Ge={class:"text-sm"},Je={key:1,class:"flex items-center gap-2 text-green-600 dark:text-green-400"},Ye=["disabled"],Ze=["disabled"],et={key:0,class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},tt={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},st={class:"text-2xl font-bold text-slate-900 dark:text-white"},at={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},lt={class:"text-2xl font-bold text-slate-900 dark:text-white"},ot={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},dt={class:"text-2xl font-bold text-emerald-600"},rt={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},it={class:"text-2xl font-bold text-blue-600"},nt={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},ut={class:"text-lg font-bold text-slate-900 dark:text-white"},ct={class:"bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700"},vt={class:"text-lg font-bold text-slate-900 dark:text-white"},mt={class:"bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden"},pt={class:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600"},ht={class:"font-semibold text-slate-900 dark:text-white"},xt={class:"text-sm text-slate-600 dark:text-slate-400"},bt=["onClick"],ft={class:"grid grid-cols-7 min-h-[600px]"},_t=["onDrop"],gt=["onDragstart","onClick"],kt={class:"flex justify-between items-start mb-2"},yt={class:"flex-1 min-w-0"},wt={class:"font-semibold text-slate-900 dark:text-white truncate text-sm"},St={class:"text-xs text-slate-600 dark:text-slate-300"},Ct={class:"flex items-center gap-1 ml-2"},Dt=["onClick"],Ft=["onClick"],At={class:"space-y-1"},Tt={class:"flex items-center gap-2 text-xs"},It={class:"flex items-center gap-1 ml-auto"},Mt={key:0,class:"w-2 h-2 bg-red-500 rounded-full",title:"Live"},Vt={key:1,class:"w-2 h-2 bg-blue-500 rounded-full",title:"Repeat"},Ut={key:0,class:"flex flex-wrap gap-1"},Lt={key:0,class:"text-xs text-slate-500"},$t={key:1,class:"text-xs text-slate-600 dark:text-slate-300 truncate"},Bt=["onClick"],Et={key:1,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"},Pt={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto"},jt={class:"p-4 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center"},Ht={class:"text-lg font-semibold text-slate-900 dark:text-white"},Rt={class:"p-4 space-y-4"},qt=["value"],Kt={class:"grid grid-cols-2 gap-3"},Nt={class:"grid grid-cols-2 gap-3"},zt={class:"space-y-2"},Qt={class:"flex items-center"},Wt={class:"flex items-center"},Ot={class:"border border-slate-300 dark:border-slate-600 rounded-lg p-3 space-y-2"},Xt={key:0,class:"flex flex-wrap gap-1 mb-2"},Gt=["onClick"],Jt=["value"],Yt={class:"p-4 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3"},Zt=["disabled"],es={key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50"},ts={class:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full"},ss={class:"p-4 border-t border-slate-200 dark:border-slate-700"},hs={__name:"station_details",setup(as){const a=Te(),ie=Ie(),c=h(()=>ie.params.id),A=h(()=>a.getters.stationSchedule),R=h(()=>a.getters.scheduleConflicts),y=h(()=>a.getters.scheduleStatistics),q=h(()=>a.getters.loading),ne=h(()=>a.getters.programs),Q=h(()=>a.getters.hosts),K=[{key:"sunday",name:"Sunday"},{key:"monday",name:"Monday"},{key:"tuesday",name:"Tuesday"},{key:"wednesday",name:"Wednesday"},{key:"thursday",name:"Thursday"},{key:"friday",name:"Friday"},{key:"saturday",name:"Saturday"}],T=x(!1),b=x(!1),I=x(null),M=x(""),$=x(-1),V=x(!1),w=x(""),f=x(null),o=x({program_id:"",start_time:"",end_time:"",studio:"A",is_live:!0,is_repeat:!1,hosts:[],notes:""}),W=h(()=>{var s;return((s=ne.value)==null?void 0:s.data)||[]}),ue=h(()=>{var s;return(((s=Q.value)==null?void 0:s.data)||[]).filter(t=>!o.value.hosts.includes(t.id))}),O=h(()=>o.value.program_id&&o.value.start_time&&o.value.end_time&&o.value.start_time<o.value.end_time),U=s=>{var t,d;return((d=(t=A.value)==null?void 0:t.sessions)==null?void 0:d[s])||[]},ce=s=>W.value.find(t=>t.id===s),X=s=>{var t;return(((t=Q.value)==null?void 0:t.data)||[]).find(d=>d.id===s)},ve=s=>s.is_live?"from-red-100 to-red-50 dark:from-red-900/30 dark:to-red-800/20 border-red-500":s.is_repeat?"from-blue-100 to-blue-50 dark:from-blue-900/30 dark:to-blue-800/20 border-blue-500":"from-emerald-100 to-emerald-50 dark:from-emerald-900/30 dark:to-emerald-800/20 border-emerald-500",me=s=>{I.value=null,M.value=s,$.value=-1,J(),T.value=!0},pe=(s,t,d)=>{I.value=d,M.value=s,$.value=t,o.value={program_id:d.program_id,start_time:d.start_time,end_time:d.end_time,studio:d.studio||"A",is_live:d.is_live||!1,is_repeat:d.is_repeat||!1,hosts:d.hosts||[],notes:d.notes||""},T.value=!0},G=async()=>{V.value=!0;try{I.value?await a.dispatch("update_session",{stationId:c.value,day:M.value,sessionIndex:$.value,sessionData:o.value}):await a.dispatch("add_session_to_day",{stationId:c.value,day:M.value,sessionData:o.value}),B(),await _(),a.dispatch("template_play_success_file","Session saved successfully")}catch(s){console.error("Failed to save session:",s),a.dispatch("template_play_error_file","Failed to save session")}finally{V.value=!1}},he=async(s,t)=>{if(confirm("Are you sure you want to delete this session?"))try{await a.dispatch("remove_session",{stationId:c.value,day:s,sessionIndex:t}),await _(),a.dispatch("template_play_delete_file","Session deleted successfully")}catch(d){console.error("Failed to delete session:",d),a.dispatch("template_play_error_file","Failed to delete session")}},xe=async(s,t)=>{const d=U(s)[t];if(d)try{await a.dispatch("add_session_to_day",{stationId:c.value,day:s,sessionData:{...d}}),await _(),a.dispatch("template_play_success_file","Session duplicated successfully")}catch(g){console.error("Failed to duplicate session:",g),a.dispatch("template_play_error_file","Failed to duplicate session")}},be=async s=>{if(confirm(`Are you sure you want to clear all sessions from ${s}?`))try{await a.dispatch("clear_day_schedule",{stationId:c.value,day:s}),await _(),a.dispatch("template_play_delete_file",`${s} schedule cleared`)}catch(t){console.error("Failed to clear day:",t),a.dispatch("template_play_error_file","Failed to clear day")}},fe=(s,t,d,g)=>{f.value={day:t,index:d,session:g},s.dataTransfer.effectAllowed="move"},_e=()=>{f.value=null},ge=async(s,t)=>{if(s.preventDefault(),!f.value)return;const{day:d,index:g,session:E}=f.value;if(d===t){f.value=null;return}try{await a.dispatch("remove_session",{stationId:c.value,day:d,sessionIndex:g}),await a.dispatch("add_session_to_day",{stationId:c.value,day:t,sessionData:{...E}}),await _(),a.dispatch("template_play_success_file",`Session moved to ${t}`)}catch(P){console.error("Failed to move session:",P),a.dispatch("template_play_error_file","Failed to move session")}f.value=null},ke=()=>{w.value&&!o.value.hosts.includes(w.value)&&(o.value.hosts.push(w.value),w.value="")},ye=s=>{o.value.hosts=o.value.hosts.filter(t=>t!==s)},B=()=>{T.value=!1,I.value=null,M.value="",$.value=-1,J()},J=()=>{o.value={program_id:"",start_time:"",end_time:"",studio:"A",is_live:!0,is_repeat:!1,hosts:[],notes:""},w.value=""},we=async()=>{if(confirm("This will replace all other days with Monday's schedule. Continue?"))try{const s=U("monday"),t={...A.value.sessions};K.forEach(d=>{d.key!=="monday"&&(t[d.key]=[...s])}),await a.dispatch("update_station_schedule",{stationId:c.value,sessions:t}),b.value=!1,await _(),a.dispatch("template_play_success_file","Schedule duplicated to all days")}catch(s){console.error("Failed to duplicate schedule:",s),a.dispatch("template_play_error_file","Failed to duplicate schedule")}},Se=async()=>{if(confirm("This will clear ALL sessions from the schedule. This cannot be undone!"))try{const s={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]};await a.dispatch("update_station_schedule",{stationId:c.value,sessions:s}),b.value=!1,await _(),a.dispatch("template_play_delete_file","All sessions cleared")}catch(s){console.error("Failed to clear all days:",s),a.dispatch("template_play_error_file","Failed to clear schedule")}},Ce=async()=>{try{await a.dispatch("backup_schedule",{stationId:c.value}),b.value=!1,a.dispatch("template_play_success_file","Schedule backup created")}catch(s){console.error("Failed to backup schedule:",s),a.dispatch("template_play_error_file","Failed to create backup")}},De=async()=>{try{await a.dispatch("validate_schedule",{stationId:c.value}),await a.dispatch("get_schedule_conflicts",{stationId:c.value}),a.dispatch("template_play_success_file","Schedule validation completed")}catch(s){console.error("Failed to validate schedule:",s),a.dispatch("template_play_error_file","Failed to validate schedule")}},Y=async()=>{await _(),a.dispatch("template_play_success_file","Schedule refreshed")},_=async()=>{try{await Promise.all([a.dispatch("get_station_schedule",{stationId:c.value}),a.dispatch("get_schedule_conflicts",{stationId:c.value}),a.dispatch("get_schedule_statistics",{stationId:c.value})])}catch(s){console.error("Failed to refresh data:",s)}};let L=null;const Fe=()=>{L&&clearTimeout(L),L=setTimeout(async()=>{try{await a.dispatch("update_station_schedule",{stationId:c.value,sessions:A.value.sessions}),console.log("Auto-saved schedule")}catch(s){console.error("Auto-save failed:",s)}},4e3)},Ae=async()=>{try{await Promise.all([a.dispatch("get_station_schedule",{stationId:c.value}),a.dispatch("get_schedule_conflicts",{stationId:c.value}),a.dispatch("get_schedule_statistics",{stationId:c.value}),a.dispatch("fetch_programs",{data:{per_page:100},page:1}),a.dispatch("fetch_hosts",{data:{per_page:100},page:1})])}catch(s){console.error("Failed to fetch initial data:",s),a.dispatch("template_play_error_file","Failed to load schedule data")}},Z=s=>{(s.ctrlKey||s.metaKey)&&s.key==="s"&&T.value&&(s.preventDefault(),O.value&&!V.value&&G()),s.key==="Escape"&&(T.value?B():b.value&&(b.value=!1)),(s.ctrlKey||s.metaKey)&&s.key==="r"&&(s.preventDefault(),Y())};return Me(async()=>{await Ae(),document.addEventListener("keydown",Z)}),Ve(()=>{document.removeEventListener("keydown",Z),L&&clearTimeout(L)}),Ue(()=>{var s;return(s=A.value)==null?void 0:s.sessions},()=>{Fe()},{deep:!0}),(s,t)=>{var d,g,E,P;return r(),i("div",Ne,[e("div",ze,[e("div",null,[t[12]||(t[12]=e("h1",{class:"text-2xl font-semibold text-slate-900 dark:text-white"},"Weekly Schedule",-1)),e("p",Qe,u((g=(d=A.value)==null?void 0:d.station)==null?void 0:g.name)+" - "+u((P=(E=A.value)==null?void 0:E.station)==null?void 0:P.frequency)+" FM ",1)]),e("div",We,[R.value?(r(),i("div",Oe,[R.value.has_conflicts?(r(),i("div",Xe,[p(m($e),{class:"h-4 w-4"}),e("span",Ge,u(R.value.total_issues)+" Issues",1)])):(r(),i("div",Je,[p(m(Be),{class:"h-4 w-4"}),t[13]||(t[13]=e("span",{class:"text-sm"},"Valid",-1))]))])):v("",!0),e("button",{onClick:De,disabled:q.value==="validate_schedule",class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 text-sm disabled:opacity-50"},[p(m(Ee),{class:"h-4 w-4"}),t[14]||(t[14]=j(" Validate "))],8,Ye),e("button",{onClick:t[0]||(t[0]=l=>b.value=!0),class:"bg-emerald-600 hover:bg-emerald-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 text-sm"},[p(m(de),{class:"h-4 w-4"}),t[15]||(t[15]=j(" Quick Add "))]),e("button",{onClick:Y,disabled:q.value,class:"bg-slate-600 hover:bg-slate-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 text-sm disabled:opacity-50"},[p(m(Pe),{class:le(["h-4 w-4",q.value?"animate-spin":""])},null,8,["class"])],8,Ze)])]),y.value?(r(),i("div",et,[e("div",tt,[e("div",st,u(y.value.total_sessions),1),t[16]||(t[16]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Total Sessions",-1))]),e("div",at,[e("div",lt,u(y.value.total_hours)+"h",1),t[17]||(t[17]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Total Hours",-1))]),e("div",ot,[e("div",dt,u(y.value.live_sessions),1),t[18]||(t[18]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Live Shows",-1))]),e("div",rt,[e("div",it,u(y.value.repeat_sessions),1),t[19]||(t[19]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Repeats",-1))]),e("div",nt,[e("div",ut,u(y.value.busiest_day),1),t[20]||(t[20]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Busiest Day",-1))]),e("div",ct,[e("div",vt,u(y.value.quietest_day),1),t[21]||(t[21]=e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Quietest Day",-1))])])):v("",!0),e("div",mt,[e("div",pt,[(r(),i(D,null,F(K,l=>e("div",{key:l.key,class:"p-4 text-center border-r border-slate-200 dark:border-slate-600 last:border-r-0"},[e("div",ht,u(l.name),1),e("div",xt,u(U(l.key).length)+" sessions ",1),U(l.key).length>0?(r(),i("button",{key:0,onClick:n=>be(l.key),class:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 mt-1"}," Clear Day ",8,bt)):v("",!0)])),64))]),e("div",ft,[(r(),i(D,null,F(K,l=>e("div",{key:l.key,class:"border-r border-slate-200 dark:border-slate-600 last:border-r-0 relative"},[e("div",{class:"p-2 space-y-2 min-h-full",onDrop:n=>ge(n,l.key),onDragover:t[1]||(t[1]=H(()=>{},["prevent"])),onDragenter:t[2]||(t[2]=H(()=>{},["prevent"]))},[(r(!0),i(D,null,F(U(l.key),(n,S)=>{var ee,te,se;return r(),i("div",{key:S,class:le(["bg-gradient-to-r rounded-lg p-3 cursor-move shadow-sm hover:shadow-md transition-all duration-200 border-l-4",ve(n),((ee=f.value)==null?void 0:ee.day)===l.key&&((te=f.value)==null?void 0:te.index)===S?"opacity-50":""]),draggable:"true",onDragstart:C=>fe(C,l.key,S,n),onDragend:_e,onClick:C=>pe(l.key,S,n)},[e("div",kt,[e("div",yt,[e("h4",wt,u(((se=ce(n.program_id))==null?void 0:se.title)||"Unknown Program"),1),e("div",St,u(n.start_time)+" - "+u(n.end_time),1)]),e("div",Ct,[e("button",{onClick:H(C=>xe(l.key,S),["stop"]),class:"text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-600",title:"Duplicate"},[p(m(Ke),{class:"h-3 w-3"})],8,Dt),e("button",{onClick:H(C=>he(l.key,S),["stop"]),class:"text-slate-400 hover:text-red-600 dark:hover:text-red-400 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-600",title:"Delete"},[p(m(He),{class:"h-3 w-3"})],8,Ft)])]),e("div",At,[e("div",Tt,[p(m(Re),{class:"h-3 w-3"}),e("span",null,"Studio "+u(n.studio),1),e("div",It,[n.is_live?(r(),i("div",Mt)):v("",!0),n.is_repeat?(r(),i("div",Vt)):v("",!0)])]),n.hosts&&n.hosts.length>0?(r(),i("div",Ut,[(r(!0),i(D,null,F(n.hosts.slice(0,2),C=>{var ae;return r(),i("span",{key:C,class:"inline-block px-2 py-0.5 bg-white/20 rounded text-xs"},u(((ae=X(C))==null?void 0:ae.name)||"Unknown"),1)}),128)),n.hosts.length>2?(r(),i("span",Lt," +"+u(n.hosts.length-2)+" more ",1)):v("",!0)])):v("",!0),n.notes?(r(),i("div",$t,u(n.notes),1)):v("",!0)])],42,gt)}),128)),e("button",{onClick:n=>me(l.key),class:"w-full p-4 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-emerald-400 dark:hover:border-emerald-500 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors group"},[p(m(de),{class:"h-6 w-6 mx-auto text-slate-400 group-hover:text-emerald-500"}),t[22]||(t[22]=e("div",{class:"text-sm text-slate-500 dark:text-slate-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 mt-1"}," Add Session ",-1))],8,Bt)],40,_t)])),64))])]),T.value?(r(),i("div",Et,[e("div",Pt,[e("div",jt,[e("h3",Ht,u(I.value?"Edit Session":"Add Session"),1),e("button",{onClick:B,class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"},[p(m(re),{class:"h-5 w-5"})])]),e("div",Rt,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Program *",-1)),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.program_id=l),class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",required:""},[t[23]||(t[23]=e("option",{value:""},"Select program...",-1)),(r(!0),i(D,null,F(W.value,l=>(r(),i("option",{key:l.id,value:l.id},u(l.title),9,qt))),128))],512),[[N,o.value.program_id]])]),e("div",Kt,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Start Time *",-1)),k(e("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=l=>o.value.start_time=l),class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",required:""},null,512),[[z,o.value.start_time]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"End Time *",-1)),k(e("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=l=>o.value.end_time=l),class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",required:""},null,512),[[z,o.value.end_time]])])]),e("div",Nt,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Studio",-1)),k(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.studio=l),class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"},t[27]||(t[27]=[e("option",{value:"A"},"Studio A",-1),e("option",{value:"B"},"Studio B",-1),e("option",{value:"C"},"Studio C",-1),e("option",{value:"D"},"Studio D",-1)]),512),[[N,o.value.studio]])]),e("div",zt,[e("div",Qt,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=l=>o.value.is_live=l),class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-slate-300 rounded"},null,512),[[oe,o.value.is_live]]),t[29]||(t[29]=e("label",{class:"ml-2 text-sm text-slate-700 dark:text-slate-300"},"Live",-1))]),e("div",Wt,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=l=>o.value.is_repeat=l),class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-slate-300 rounded"},null,512),[[oe,o.value.is_repeat]]),t[30]||(t[30]=e("label",{class:"ml-2 text-sm text-slate-700 dark:text-slate-300"},"Repeat",-1))])])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Hosts",-1)),e("div",Ot,[o.value.hosts.length>0?(r(),i("div",Xt,[(r(!0),i(D,null,F(o.value.hosts,l=>{var n;return r(),i("span",{key:l,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300"},[j(u((n=X(l))==null?void 0:n.name)+" ",1),e("button",{onClick:S=>ye(l),class:"ml-1 hover:bg-indigo-200 dark:hover:bg-indigo-800 rounded-full p-0.5"},[p(m(re),{class:"h-3 w-3"})],8,Gt)])}),128))])):v("",!0),k(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>w.value=l),onChange:ke,class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"},[t[31]||(t[31]=e("option",{value:""},"Add host...",-1)),(r(!0),i(D,null,F(ue.value,l=>(r(),i("option",{key:l.id,value:l.id},u(l.name),9,Jt))),128))],544),[[N,w.value]])])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"},"Notes",-1)),k(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.notes=l),rows:"2",class:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500 bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"Session notes..."},null,512),[[z,o.value.notes]])])]),e("div",Yt,[e("button",{onClick:B,class:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors"}," Cancel "),e("button",{onClick:G,disabled:!O.value||V.value,class:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-md text-sm font-medium disabled:opacity-50 transition-colors flex items-center gap-2"},[V.value?(r(),Le(m(qe),{key:0,class:"h-4 w-4 animate-spin"})):v("",!0),j(" "+u(I.value?"Update":"Add")+" Session ",1)],8,Zt)])])])):v("",!0),b.value?(r(),i("div",es,[e("div",ts,[t[37]||(t[37]=e("div",{class:"p-4 border-b border-slate-200 dark:border-slate-700"},[e("h3",{class:"text-lg font-semibold text-slate-900 dark:text-white"},"Quick Actions")],-1)),e("div",{class:"p-4 space-y-3"},[e("button",{onClick:we,class:"w-full p-3 text-left hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors"},t[34]||(t[34]=[e("div",{class:"font-medium text-slate-900 dark:text-white"},"Duplicate Monday to All Days",-1),e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Copy Monday's schedule to all other days",-1)])),e("button",{onClick:Se,class:"w-full p-3 text-left hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors"},t[35]||(t[35]=[e("div",{class:"font-medium text-red-600 dark:text-red-400"},"Clear All Days",-1),e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Remove all sessions from schedule",-1)])),e("button",{onClick:Ce,class:"w-full p-3 text-left hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors"},t[36]||(t[36]=[e("div",{class:"font-medium text-slate-900 dark:text-white"},"Backup Schedule",-1),e("div",{class:"text-sm text-slate-600 dark:text-slate-400"},"Create a backup of current schedule",-1)]))]),e("div",ss,[e("button",{onClick:t[11]||(t[11]=l=>b.value=!1),class:"w-full px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors"}," Close ")])])])):v("",!0)])}}};export{hs as default};
