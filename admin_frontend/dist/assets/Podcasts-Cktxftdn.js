import{u as ue,i as j,g as k,f as ce,w as je,c as d,j as b,o,b as e,d as v,k as g,y as Pe,l as $,I as O,v as H,t as l,s as P,p as W,h as Ve,z as De,n as U,F as B,C as q,a as Y,D as ze}from"./index-H5beSXt9.js";import{X as Ne}from"./x-BA1zMTlr.js";import{U as Be}from"./upload-BCAbiM5q.js";import{c as te}from"./createLucideIcon-DKNoFLvU.js";import{L as Te}from"./loader-circle-C40YrZmV.js";import{R as Z}from"./radio-gqG5W2fQ.js";import{M as ee}from"./mic-czEE64EW.js";import{C as Ie}from"./clock-DakFz1-G.js";import{P as Le}from"./play-D8Be1TM9.js";import{P as Ee,V as qe,a as ie}from"./volume-x-BqNsrcPQ.js";import{D as Oe}from"./download-cNE9SQp0.js";import{S as Xe}from"./square-pen-TbNIc1Ks.js";import{T as He}from"./trash-B75NzAM1.js";/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=te("file-audio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=te("mic-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-vue-next v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=te("volume-1",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]]),Ge={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4"},Ke={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Je={class:"sticky top-0 bg-white dark:bg-slate-800 p-6 border-b border-gray-200 dark:border-slate-700 rounded-t-2xl"},Qe={class:"flex items-center justify-between"},Ye={class:"space-y-2"},Ze={class:"space-y-2"},et={class:"space-y-2"},tt={key:0,class:"space-y-2"},at={class:"space-y-2"},st={class:"border-2 border-dashed border-gray-200 dark:border-slate-600 rounded-xl p-6 text-center hover:border-purple-400 dark:hover:border-purple-500 transition-colors"},rt={key:1,class:"space-y-2"},ot={class:"text-sm font-medium text-gray-900 dark:text-white"},lt={class:"text-xs text-gray-500"},it={key:1,class:"bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4"},dt={class:"flex items-center gap-3"},nt={class:"flex-1"},ut={class:"text-xs text-gray-500"},ct=["href"],gt={class:"flex gap-3 pt-4"},pt=["disabled"],xt={__name:"UpdateRecordingModal",props:{show:{type:Boolean,default:!1},recording:{type:Object,default:null}},emits:["close","updated"],setup(R,{emit:c}){const p=R,X=c,V=ue(),M=j(()=>V.getters.loading==="update_session_recording"),m=k(null),y=k(null),n=ce({recording_status:"",session_notes:"",duration_minutes:null,error_message:""});je(()=>p.recording,i=>{i&&(n.recording_status=i.recording_status||"scheduled",n.session_notes=i.session_notes||"",n.duration_minutes=i.duration_minutes||null,n.error_message=i.error_message||"")},{immediate:!0});const x=i=>{const r=i.target.files[0];r&&(y.value=r)},u=()=>{y.value=null,m.value&&(m.value.value="")},T=i=>{if(i===0)return"0 Bytes";const r=1024,_=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(i)/Math.log(r));return parseFloat((i/Math.pow(r,f)).toFixed(2))+" "+_[f]},I=async()=>{try{const i=new FormData;Object.keys(n).forEach(r=>{n[r]!==null&&n[r]!==""&&i.append(r,n[r])}),y.value&&i.append("recording_file",y.value),await V.dispatch("update_session_recording",{data:i,id:p.recording.id}),V.dispatch("template_play_success_file","Recording updated successfully"),X("updated"),h()}catch(i){console.error("Failed to update recording:",i),V.dispatch("template_play_error_file","Failed to update recording")}},h=()=>{y.value=null,m.value&&(m.value.value=""),X("close")};return(i,r)=>{var _,f;return R.show?(o(),d("div",Ge,[e("div",Ke,[e("div",Je,[e("div",Qe,[r[5]||(r[5]=e("h2",{class:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent"}," Update Recording ",-1)),e("button",{onClick:h,class:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-xl transition-colors"},[v(g(Ne),{class:"w-6 h-6 text-gray-500"})])])]),e("form",{onSubmit:Pe(I,["prevent"]),class:"p-6 space-y-6"},[e("div",Ye,[r[7]||(r[7]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"},"Recording Status",-1)),$(e("select",{"onUpdate:modelValue":r[0]||(r[0]=w=>n.recording_status=w),class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all"},r[6]||(r[6]=[e("option",{value:"scheduled"},"Scheduled",-1),e("option",{value:"recording"},"Recording",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"failed"},"Failed",-1)]),512),[[O,n.recording_status]])]),e("div",Ze,[r[8]||(r[8]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"},"Session Notes",-1)),$(e("textarea",{"onUpdate:modelValue":r[1]||(r[1]=w=>n.session_notes=w),rows:"3",placeholder:"Add notes about this recording session...",class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all resize-none"},null,512),[[H,n.session_notes]])]),e("div",et,[r[9]||(r[9]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"},"Duration (minutes)",-1)),$(e("input",{"onUpdate:modelValue":r[2]||(r[2]=w=>n.duration_minutes=w),type:"number",min:"0",placeholder:"Duration in minutes",class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all"},null,512),[[H,n.duration_minutes,void 0,{number:!0}]])]),n.recording_status==="failed"?(o(),d("div",tt,[r[10]||(r[10]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"},"Error Message",-1)),$(e("textarea",{"onUpdate:modelValue":r[3]||(r[3]=w=>n.error_message=w),rows:"2",placeholder:"Describe the error...",class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 transition-all resize-none"},null,512),[[H,n.error_message]])])):b("",!0),e("div",at,[r[13]||(r[13]=e("label",{class:"block text-sm font-semibold text-gray-700 dark:text-gray-300"},"Replace Recording File",-1)),e("div",st,[e("input",{ref_key:"fileInput",ref:m,type:"file",accept:"audio/*",onChange:x,class:"hidden"},null,544),y.value?(o(),d("div",rt,[v(g(de),{class:"w-8 h-8 mx-auto text-green-500"}),e("p",ot,l(y.value.name),1),e("p",lt,l(T(y.value.size)),1),e("button",{type:"button",onClick:u,class:"text-red-500 hover:text-red-600 text-sm font-medium"},"Remove")])):(o(),d("div",{key:0,onClick:r[4]||(r[4]=w=>i.$refs.fileInput.click()),class:"cursor-pointer space-y-2"},[v(g(Be),{class:"w-8 h-8 mx-auto text-gray-400"}),r[11]||(r[11]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Click to upload new recording file",-1)),r[12]||(r[12]=e("p",{class:"text-xs text-gray-500"},"MP3, WAV, AAC files supported",-1))]))])]),(_=R.recording)!=null&&_.recording_file_url&&!y.value?(o(),d("div",it,[e("div",dt,[v(g(de),{class:"w-6 h-6 text-blue-500"}),e("div",nt,[r[14]||(r[14]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Current Recording",-1)),e("p",ut,l(R.recording.file_size_mb)+"MB • "+l((f=R.recording.audio_format)==null?void 0:f.toUpperCase())+" • "+l(R.recording.audio_quality),1)]),e("a",{href:R.recording.recording_file_url,target:"_blank",class:"text-blue-500 hover:text-blue-600 text-sm font-medium"},"View",8,ct)])])):b("",!0),e("div",gt,[e("button",{type:"button",onClick:h,class:"flex-1 px-6 py-3 border border-gray-200 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors"}," Cancel "),e("button",{type:"submit",disabled:M.value,class:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl"},[M.value?(o(),P(g(Te),{key:0,class:"w-5 h-5 mr-2 animate-spin"})):b("",!0),W(" "+l(M.value?"Updating...":"Update Recording"),1)],8,pt)])],32)])])):b("",!0)}}},vt={class:"min-h-screen p-6"},mt={class:"mb-8"},yt={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-4"},ft={class:"space-y-2"},ht={class:"flex items-center gap-4 text-sm"},bt={class:"flex items-center gap-2"},_t={class:"text-gray-500 dark:text-gray-400"},kt={class:"flex flex-wrap gap-3"},wt=["disabled"],Ct=["disabled"],Mt={class:"mb-6"},St={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6"},Ft={class:"flex items-center justify-between"},$t={key:0,class:"flex items-center gap-4"},Rt={class:"text-right"},At={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ut={class:"mb-6"},jt={class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6"},Pt={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4"},Vt={class:"space-y-2"},Dt=["value"],zt={class:"space-y-2"},Nt=["value"],Bt={class:"space-y-2"},Tt={class:"space-y-2"},It={class:"space-y-2"},Lt={class:"space-y-4"},Et={key:0,class:"grid gap-4"},qt={key:1,class:"grid gap-4"},Ot={class:"flex flex-col lg:flex-row lg:items-center justify-between gap-6"},Xt={class:"flex items-center gap-4 flex-1"},Ht={class:"relative"},Wt={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-pulse border-2 border-white"},Gt={class:"flex-1 min-w-0"},Kt={class:"text-lg font-semibold text-gray-900 dark:text-white truncate"},Jt={class:"text-gray-600 dark:text-gray-400 truncate"},Qt={class:"flex items-center gap-4 mt-2"},Yt={class:"px-3 py-1 text-xs font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full capitalize"},Zt={class:"text-sm text-gray-500 dark:text-gray-400"},ea={class:"flex-1 lg:max-w-xs"},ta={class:"space-y-2"},aa={class:"flex items-center text-sm text-gray-600 dark:text-gray-400"},sa={key:0,class:"text-sm text-green-600 dark:text-green-400"},ra={key:1,class:"text-sm text-blue-600 dark:text-blue-400"},oa={class:"flex-shrink-0"},la={key:0,class:"text-xs text-red-500 mt-2 max-w-xs truncate"},ia={key:0,class:"flex-1 lg:max-w-md"},da={class:"space-y-3"},na={class:"flex items-center justify-between"},ua={class:"text-sm font-medium text-gray-900 dark:text-white"},ca={class:"text-xs text-gray-500 dark:text-gray-400"},ga={class:"flex items-center gap-3"},pa=["onClick"],xa=["href"],va=["onClick"],ma=["onClick"],ya={key:0,class:"space-y-3 bg-gray-50 dark:bg-slate-700/50 rounded-xl p-4"},fa={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},ha={class:"flex items-center justify-between"},ba={class:"flex items-center gap-2"},_a=["value"],ka={class:"text-xs text-gray-500 dark:text-gray-400"},wa={key:1,class:"flex-1 lg:max-w-md"},Ca={class:"text-center py-8 text-gray-400 dark:text-gray-500"},Ma={key:2,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-12 text-center"},Sa={key:3,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6"},Fa={class:"flex flex-col sm:flex-row items-center justify-between gap-4"},$a={class:"text-sm text-gray-700 dark:text-gray-300"},Ra={class:"flex gap-2"},Aa=["disabled"],Ua=["onClick"],ja=["disabled"],Ha={__name:"Podcasts",setup(R){const c=ue(),p=j(()=>c.getters.sessionRecordings),X=j(()=>c.getters.programs),V=j(()=>c.getters.stations),M=j(()=>c.getters.loading),m=j(()=>c.getters.recordingStatus);let y=null;const n=k(1),x=ce({station_id:"",program_id:"",recording_status:"",day_of_week:"",session_date:""}),u=k(null),T=k(!1),I=k(null),h=k(null),i=k(!1),r=k(0),_=k(0),f=k(.8),w=j(()=>_.value>0?r.value/_.value*100:0),ge=j(()=>{var E;if(!((E=p.value)!=null&&E.pagination))return[];const s=p.value.pagination.current_page,t=p.value.pagination.last_page||p.value.pagination.total_pages,S=[],F=5;let C=Math.max(1,s-Math.floor(F/2)),z=Math.min(t,C+F-1);z-C+1<F&&(C=Math.max(1,z-F+1));for(let N=C;N<=z;N++)S.push(N);return S}),pe=s=>{T.value=!0,I.value=s},xe=()=>{T.value=!1,I.value=null},ve=()=>{D()},me=()=>{y=setInterval(async()=>{try{await Promise.all([c.dispatch("get_recording_status"),c.dispatch("fetch_session_recordings",{data:{...x,page:n.value,per_page:20},page:n.value})])}catch(s){console.error("Auto-refresh failed:",s)}},6e4)},ye=()=>{y&&(clearInterval(y),y=null)},fe=async()=>{try{m.value.service_running==!1?await c.dispatch("start_recording_sessions"):await c.dispatch("stop_recording_sessions")}catch(s){console.error("Failed to toggle recording status:",s),c.dispatch("template_play_error_file","Failed to toggle recording status")}},he=async()=>{try{await c.dispatch("get_recording_status")}catch(s){console.error("Failed to get recording status:",s),c.dispatch("template_play_error_file","Failed to get recording status")}},D=async()=>{try{await c.dispatch("fetch_session_recordings",{data:{...x,page:n.value,per_page:20},page:n.value})}catch(s){console.error("Failed to fetch session recordings:",s),c.dispatch("template_play_error_file","Failed to load session recordings")}},be=async()=>{try{await c.dispatch("fetch_programs",{data:{per_page:50},page:1})}catch(s){console.error("Failed to fetch programs:",s)}},_e=async()=>{try{await c.dispatch("fetch_stations",{data:{per_page:50},page:1})}catch(s){console.error("Failed to fetch stations:",s)}},G=s=>{s>=1&&s<=(p.value.pagination.last_page||p.value.pagination.total_pages)&&(n.value=s,D())},L=()=>{n.value=1,D()},ke=()=>{Object.keys(x).forEach(s=>{x[s]=""}),n.value=1,D()},we=async s=>{try{await c.dispatch("delete_session_recording",{id:s.id,data:{}})}catch(t){console.error("Failed to delete recording:",t)}},Ce=async s=>{h.value===s.id?i.value?Fe():Se():await Me(s)},Me=async s=>{try{u.value&&(u.value.pause(),u.value=null),u.value=new Audio(s.recording_file_url),h.value=s.id,u.value.addEventListener("loadedmetadata",()=>{_.value=u.value.duration}),u.value.addEventListener("timeupdate",()=>{r.value=u.value.currentTime}),u.value.addEventListener("ended",()=>{i.value=!1,r.value=0,h.value=null}),u.value.addEventListener("error",t=>{console.error("Audio playback error:",t),c.dispatch("template_play_error_file","Failed to play audio file"),i.value=!1,h.value=null}),u.value.volume=f.value,await u.value.play(),i.value=!0}catch(t){console.error("Failed to load audio:",t),c.dispatch("template_play_error_file","Failed to load audio file"),i.value=!1,h.value=null}},Se=async()=>{if(u.value)try{await u.value.play(),i.value=!0}catch(s){console.error("Failed to play audio:",s),c.dispatch("template_play_error_file","Failed to play audio")}},Fe=()=>{u.value&&(u.value.pause(),i.value=!1)},$e=s=>{if(u.value&&_.value>0){const t=s.currentTarget.getBoundingClientRect(),S=s.clientX-t.left,F=t.width,C=S/F*_.value;u.value.currentTime=C,r.value=C}},K=s=>{const t=Math.max(0,Math.min(1,parseFloat(s)));f.value=t,u.value&&(u.value.volume=t)},ae=s=>{if(isNaN(s))return"0:00";const t=Math.floor(s/60),S=Math.floor(s%60);return`${t}:${S.toString().padStart(2,"0")}`},Re=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"No date",J=s=>s?new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"No time",Ae=s=>{switch(s){case"recording":return"bg-gradient-to-r from-red-500 to-pink-600";case"completed":return"bg-gradient-to-r from-green-500 to-emerald-600";case"scheduled":return"bg-gradient-to-r from-blue-500 to-indigo-600";case"failed":return"bg-gradient-to-r from-red-600 to-red-700";default:return"bg-gradient-to-r from-gray-500 to-gray-600"}},Ue=s=>{switch(s){case"recording":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"scheduled":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"}};return Ve(async()=>{try{await Promise.all([he(),D(),be(),_e()]),me()}catch(s){console.error("Failed to initialize session recordings:",s),c.dispatch("template_play_error_file","Failed to load session recordings data")}}),De(()=>{ye(),u.value&&(u.value.pause(),u.value=null)}),(s,t)=>{var S,F,C,z,E,N,se,re;return o(),d(B,null,[e("div",vt,[e("div",mt,[e("div",yt,[e("div",ft,[t[12]||(t[12]=e("h1",{class:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent"}," Session Recordings ",-1)),t[13]||(t[13]=e("p",{class:"text-gray-600 dark:text-gray-400"},"Monitor and manage radio session recordings in real-time",-1)),e("div",ht,[t[11]||(t[11]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e("span",{class:"text-gray-500 dark:text-gray-400"},"Auto-refreshing every minute")],-1)),e("div",bt,[v(g(Z),{class:"w-4 h-4 text-purple-600"}),e("span",_t,l(((F=(S=p.value)==null?void 0:S.data)==null?void 0:F.length)||0)+" recordings",1)])])]),e("div",kt,[m.value?(o(),d("button",{key:0,onClick:fe,disabled:M.value==="start_recording_sessions"||M.value==="stop_recording_sessions",class:U(["flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed",m.value.service_running==!1?"bg-gradient-to-r from-emerald-500 to-green-600 text-white hover:from-emerald-600 hover:to-green-700":"bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700"])},[m.value.service_running==!1?(o(),P(g(ne),{key:0,class:"w-5 h-5 mr-2"})):(o(),P(g(ee),{key:1,class:"w-5 h-5 mr-2"})),W(" "+l(m.value.service_running==!1?"Start Recording Service":"Stop Recording Service"),1)],10,wt)):b("",!0),e("button",{onClick:D,disabled:M.value==="fetch_session_recordings",class:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50"},[v(g(Z),{class:U(["w-5 h-5 mr-2",{"animate-spin":M.value==="fetch_session_recordings"}])},null,8,["class"]),t[14]||(t[14]=W(" Refresh Now ",-1))],8,Ct)])])]),e("div",Mt,[e("div",St,[e("div",Ft,[m.value?(o(),d("div",$t,[e("div",{class:U(["w-12 h-12 rounded-xl flex items-center justify-center",m.value.service_running?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"])},[v(g(Z),{class:"w-6 h-6"})],2),e("div",null,[t[15]||(t[15]=e("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Recording Service Status",-1)),e("p",{class:U(["text-sm font-medium",m.value.service_running?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},l(m.value.service_running?"Active & Monitoring":"Inactive"),3)])])):b("",!0),e("div",Rt,[e("div",At,l(((z=(C=p.value)==null?void 0:C.data)==null?void 0:z.filter(a=>a.recording_status==="recording").length)||0),1),t[16]||(t[16]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Active Recordings",-1))])])])]),e("div",Ut,[e("div",jt,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Filters",-1)),e("div",Pt,[e("div",Vt,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Station",-1)),$(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>x.station_id=a),onChange:L,class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},[t[17]||(t[17]=e("option",{value:""},"All Stations",-1)),(o(!0),d(B,null,q(V.value,a=>(o(),d("option",{key:a.id,value:a.id},l(a.name),9,Dt))),128))],544),[[O,x.station_id]])]),e("div",zt,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Program",-1)),$(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>x.program_id=a),onChange:L,class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},[t[19]||(t[19]=e("option",{value:""},"All Programs",-1)),(o(!0),d(B,null,q((E=X.value)==null?void 0:E.data,a=>(o(),d("option",{key:a.id,value:a.id},l(a.title),9,Nt))),128))],544),[[O,x.program_id]])]),e("div",Bt,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),$(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>x.recording_status=a),onChange:L,class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},t[21]||(t[21]=[Y('<option value="">All Status</option><option value="scheduled">Scheduled</option><option value="recording">Recording</option><option value="completed">Completed</option><option value="failed">Failed</option>',5)]),544),[[O,x.recording_status]])]),e("div",Tt,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Day",-1)),$(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>x.day_of_week=a),onChange:L,class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},t[23]||(t[23]=[Y('<option value="">All Days</option><option value="monday">Monday</option><option value="tuesday">Tuesday</option><option value="wednesday">Wednesday</option><option value="thursday">Thursday</option><option value="friday">Friday</option><option value="saturday">Saturday</option><option value="sunday">Sunday</option>',8)]),544),[[O,x.day_of_week]])]),e("div",It,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Date",-1)),$(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>x.session_date=a),onChange:L,type:"date",class:"w-full px-4 py-3 border border-gray-200 dark:border-slate-600 rounded-xl bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"},null,544),[[H,x.session_date]])])]),e("div",{class:"flex justify-end mt-6"},[e("button",{onClick:ke,class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors"}," Reset Filters ")])])]),e("div",Lt,[M.value==="fetch_session_recordings"?(o(),d("div",Et,[(o(),d(B,null,q(5,a=>e("div",{key:a,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6 animate-pulse"},t[27]||(t[27]=[Y('<div class="flex items-center justify-between"><div class="flex items-center gap-4"><div class="w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-xl"></div><div class="space-y-2"><div class="h-4 bg-gray-200 dark:bg-gray-600 rounded w-32"></div><div class="h-3 bg-gray-200 dark:bg-gray-600 rounded w-24"></div></div></div><div class="h-6 bg-gray-200 dark:bg-gray-600 rounded w-20"></div></div>',1)]))),64))])):(se=(N=p.value)==null?void 0:N.data)!=null&&se.length?(o(),d("div",qt,[(o(!0),d(B,null,q(p.value.data,a=>{var Q,oe,le;return o(),d("div",{key:a.id,class:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-gray-100 dark:border-slate-700 p-6 hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1"},[e("div",Ot,[e("div",Xt,[e("div",Ht,[e("div",{class:U(["w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",Ae(a.recording_status)])},[v(g(ee),{class:"w-6 h-6 text-white"})],2),a.recording_status==="recording"?(o(),d("div",Wt)):b("",!0)]),e("div",Gt,[e("h3",Kt,l(((Q=a.station)==null?void 0:Q.name)||"Unknown Station"),1),e("p",Jt,l(((oe=a.program)==null?void 0:oe.title)||"Unknown Program"),1),e("div",Qt,[e("span",Yt,l(a.day_of_week),1),e("span",Zt,l(Re(a.session_date)),1)])])]),e("div",ea,[e("div",ta,[e("div",aa,[v(g(Ie),{class:"w-4 h-4 mr-2"}),W(" "+l(a.scheduled_start_time?J(a.scheduled_start_time):"N/A")+" - "+l(a.scheduled_end_time?J(a.scheduled_end_time):"N/A"),1)]),a.actual_start_time?(o(),d("div",sa," Started: "+l(J(a.actual_start_time)),1)):b("",!0),a.duration_minutes?(o(),d("div",ra," Duration: "+l(a.duration_minutes)+"m ",1)):b("",!0)])]),e("div",oa,[e("span",{class:U(["inline-flex px-4 py-2 text-sm font-semibold rounded-xl shadow-sm",Ue(a.recording_status)])},l(a.recording_status||"Unknown"),3),a.error_message?(o(),d("div",la,l(a.error_message),1)):b("",!0)]),a?(o(),d("div",ia,[e("div",da,[e("div",na,[e("span",ua,l(a.file_size_mb?`${a.file_size_mb} MB`:"File available"),1),e("span",ca,l(((le=a.audio_format)==null?void 0:le.toUpperCase())||"MP3")+" • "+l(a.audio_quality||"128kbps"),1)]),e("div",ga,[e("button",{onClick:A=>Ce(a),class:U(["flex items-center justify-center w-10 h-10 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",h.value===a.id&&i.value?"bg-gradient-to-r from-red-500 to-pink-600 text-white":"bg-gradient-to-r from-green-500 to-emerald-600 text-white"])},[h.value!==a.id||!i.value?(o(),P(g(Le),{key:0,class:"w-5 h-5 ml-0.5"})):(o(),P(g(Ee),{key:1,class:"w-5 h-5"}))],10,pa),e("a",{href:a.recording_file_url,download:"",target:"_blank",class:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"},[v(g(Oe),{class:"w-5 h-5"})],8,xa),e("button",{onClick:A=>pe(a),class:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"},[v(g(Xe),{class:"w-5 h-5"})],8,va),e("button",{onClick:A=>we(a),class:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-red-500 to-pink-600 text-white transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105"},[v(g(He),{class:"w-5 h-5"})],8,ma)]),h.value===a.id?(o(),d("div",ya,[e("div",fa,[e("span",null,l(ae(r.value)),1),e("span",null,l(ae(_.value)),1)]),e("div",{class:"w-full bg-gray-200 dark:bg-slate-600 rounded-full h-2 cursor-pointer",onClick:t[5]||(t[5]=A=>$e(A))},[e("div",{class:"bg-gradient-to-r from-purple-500 to-blue-600 h-2 rounded-full transition-all duration-300",style:ze({width:`${w.value}%`})},null,4)]),e("div",ha,[e("div",ba,[e("button",{onClick:t[6]||(t[6]=A=>K(f.value-.1)),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},[f.value===0?(o(),P(g(qe),{key:0,class:"w-4 h-4"})):f.value<.5?(o(),P(g(We),{key:1,class:"w-4 h-4"})):(o(),P(g(ie),{key:2,class:"w-4 h-4"}))]),e("input",{type:"range",min:"0",max:"1",step:"0.1",value:f.value,onInput:t[7]||(t[7]=A=>K(A.target.value)),class:"w-20 h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-600"},null,40,_a),e("button",{onClick:t[8]||(t[8]=A=>K(f.value+.1)),class:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},[v(g(ie),{class:"w-4 h-4"})])]),e("span",ka,l(Math.round(f.value*100))+"%",1)])])):b("",!0)])])):(o(),d("div",wa,[e("div",Ca,[v(g(ne),{class:"w-8 h-8 mx-auto mb-2"}),t[28]||(t[28]=e("p",{class:"text-sm"},"No recording file available",-1))])]))])])}),128))])):(o(),d("div",Ma,[v(g(ee),{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),t[29]||(t[29]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"},"No recordings found",-1)),t[30]||(t[30]=e("p",{class:"text-gray-500 dark:text-gray-400 max-w-md mx-auto"}," Session recordings will appear here when programs are scheduled and the recording service is active. ",-1))])),(re=p.value)!=null&&re.pagination?(o(),d("div",Sa,[e("div",Fa,[e("div",$a," Showing "+l(p.value.pagination.from)+" to "+l(p.value.pagination.to)+" of "+l(p.value.pagination.total)+" results ",1),e("div",Ra,[e("button",{onClick:t[9]||(t[9]=a=>G(p.value.pagination.current_page-1)),disabled:!p.value.pagination.has_prev,class:"px-4 py-2 text-sm bg-gray-100 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors"}," Previous ",8,Aa),(o(!0),d(B,null,q(ge.value,a=>(o(),d("button",{key:a,onClick:Q=>G(a),class:U(["px-4 py-2 text-sm rounded-lg transition-colors",a===p.value.pagination.current_page?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600"])},l(a),11,Ua))),128)),e("button",{onClick:t[10]||(t[10]=a=>G(p.value.pagination.current_page+1)),disabled:!p.value.pagination.has_next,class:"px-4 py-2 text-sm bg-gray-100 dark:bg-slate-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 dark:hover:bg-slate-600 transition-colors"}," Next ",8,ja)])])])):b("",!0)])]),v(xt,{show:T.value,recording:I.value,onClose:xe,onUpdated:ve},null,8,["show","recording"])],64)}}};export{Ha as default};
//# sourceMappingURL=Podcasts-Cktxftdn.js.map
